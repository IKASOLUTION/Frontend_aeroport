"use strict";(self.webpackChunkultima_ng=self.webpackChunkultima_ng||[]).push([[484],{484:(k,w,l)=>{l.r(w),l.d(w,{EnregistrementComponent:()=>tn});var p=l(5861),e=l(9212),m=l(6814),T=l(95),C=l(4221),y=l(8645),E=l(9773),f=l(5219),h=l(2173),x=l(3855),D=l(7962),u=l(7703),Z=l(5183),d=l(9788),_=l(4532),v=l(7791),M=l(3714),P=l(6218),N=l(9653),q=l(218),U=l(2076),F=l(7778);const $=["input"];function X(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"TimesIcon",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.clear())}),e.qZA()}2&o&&(e.Q6J("styleClass","p-inputmask-clear-icon"),e.uIk("data-pc-section","clearIcon"))}function W(o,s){}function ee(o,s){1&o&&e.YNc(0,W,0,0,"ng-template")}function te(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"span",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.clear())}),e.YNc(1,ee,1,0,null,7),e.qZA()}if(2&o){const t=e.oxw(2);e.uIk("data-pc-section","clearIcon"),e.xp6(1),e.Q6J("ngTemplateOutlet",t.clearIconTemplate)}}function ne(o,s){if(1&o&&(e.ynx(0),e.YNc(1,X,1,2,"TimesIcon",3)(2,te,2,2,"span",4),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.clearIconTemplate),e.xp6(1),e.Q6J("ngIf",t.clearIconTemplate)}}const ie={provide:T.JU,useExisting:(0,e.Gpc)(()=>V),multi:!0};let V=(()=>{class o{document;platformId;el;cd;type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;size;maxlength;tabindex;title;ariaLabel;ariaLabelledBy;ariaRequired;disabled;readonly;unmask;name;required;characterPattern="[A-Za-z]";autoFocus;autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new e.vpe;onFocus=new e.vpe;onBlur=new e.vpe;onInput=new e.vpe;onKeydown=new e.vpe;onClear=new e.vpe;inputViewChild;templates;clearIconTemplate;value;_mask;onModelChange=()=>{};onModelTouched=()=>{};input;filled;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;constructor(t,n,i,r){this.document=t,this.platformId=n,this.el=i,this.cd=r}ngOnInit(){if((0,m.NF)(this.platformId)){let t=navigator.userAgent;this.androidChrome=/chrome/i.test(t)&&/android/i.test(t)}this.initMask()}ngAfterContentInit(){this.templates.forEach(t=>{"clearicon"===t.getType()&&(this.clearIconTemplate=t.template)})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let t=this.mask.split("");for(let n=0;n<t.length;n++){let i=t[n];"?"==i?(this.len--,this.partialPosition=n):this.defs[i]?(this.tests.push(new RegExp(this.defs[i])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),n<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let n=0;n<t.length;n++){let i=t[n];"?"!=i&&this.buffer.push(this.defs[i]?this.getPlaceholder(n):i)}this.defaultBuffer=this.buffer.join("")}writeValue(t){this.value=t,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}caret(t,n){let i,r,a;if(this.inputViewChild?.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof t)return this.inputViewChild.nativeElement.setSelectionRange?(r=this.inputViewChild.nativeElement.selectionStart,a=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(i=this.document.createRange(),r=0-i.duplicate().moveStart("character",-1e5),a=r+i.text.length),{begin:r,end:a};r=t,a="number"==typeof n?n:r,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(r,a):this.inputViewChild.nativeElement.createTextRange&&(i=this.inputViewChild.nativeElement.createTextRange(),i.collapse(!0),i.moveEnd("character",a),i.moveStart("character",r),i.select())}}isCompleted(){for(let n=this.firstNonMaskPos;n<=this.lastRequiredNonMaskPos;n++)if(this.tests[n]&&this.buffer[n]===this.getPlaceholder(n))return!1;return!0}getPlaceholder(t){return this.slotChar.charAt(t<this.slotChar.length?t:0)}seekNext(t){for(;++t<this.len&&!this.tests[t];);return t}seekPrev(t){for(;--t>=0&&!this.tests[t];);return t}shiftL(t,n){let i,r;if(!(t<0)){for(i=t,r=this.seekNext(n);i<this.len;i++)if(this.tests[i]){if(!(r<this.len&&this.tests[i].test(this.buffer[r])))break;this.buffer[i]=this.buffer[r],this.buffer[r]=this.getPlaceholder(r),r=this.seekNext(r)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}}shiftR(t){let n,i,r,a;for(n=t,i=this.getPlaceholder(t);n<this.len;n++)if(this.tests[n]){if(r=this.seekNext(n),a=this.buffer[n],this.buffer[n]=i,!(r<this.len&&this.tests[r].test(a)))break;i=a}}handleAndroidInput(t){var n=this.inputViewChild?.nativeElement.value,i=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>n.length){for(this.checkVal(!0);i.begin>0&&!this.tests[i.begin-1];)i.begin--;if(0===i.begin)for(;i.begin<this.firstNonMaskPos&&!this.tests[i.begin];)i.begin++;setTimeout(()=>{this.caret(i.begin,i.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);i.begin<this.len&&!this.tests[i.begin];)i.begin++;setTimeout(()=>{this.caret(i.begin,i.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(t){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(t),this.inputViewChild?.nativeElement.value!=this.focusText||this.inputViewChild?.nativeElement.value!=this.value){this.updateModel(t);let n=this.document.createEvent("HTMLEvents");n.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(n)}}onInputKeydown(t){if(this.readonly)return;let i,r,a,c,n=t.which||t.keyCode;(0,m.NF)(this.platformId)&&(c=/iphone/i.test(U.p.getUserAgent())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(t),8===n||46===n||c&&127===n?(i=this.caret(),r=i.begin,a=i.end,a-r==0&&(r=46!==n?this.seekPrev(r):a=this.seekNext(r-1),a=46===n?this.seekNext(a):a),this.clearBuffer(r,a),this.shiftL(r,this.keepBuffer?a-2:a-1),this.updateModel(t),this.onInput.emit(t),t.preventDefault()):13===n?(this.onInputBlur(t),this.updateModel(t)):27===n&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}onKeyPress(t){if(!this.readonly){var r,a,c,g,n=t.which||t.keyCode,i=this.caret();t.ctrlKey||t.altKey||t.metaKey||n<32||n>34&&n<41||(n&&13!==n&&(i.end-i.begin!=0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1)),(r=this.seekNext(i.begin-1))<this.len&&(a=String.fromCharCode(n),this.tests[r].test(a)&&(this.shiftR(r),this.buffer[r]=a,this.writeBuffer(),c=this.seekNext(r),U.p.isClient()&&/android/i.test(U.p.getUserAgent())?setTimeout(()=>{this.caret(c)},0):this.caret(c),i.begin<=this.lastRequiredNonMaskPos&&(g=this.isCompleted()),this.onInput.emit(t))),t.preventDefault()),this.updateModel(t),this.updateFilledState(),g&&this.onComplete.emit())}}clearBuffer(t,n){if(!this.keepBuffer){let i;for(i=t;i<n&&i<this.len;i++)this.tests[i]&&(this.buffer[i]=this.getPlaceholder(i))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(t){let r,a,c,n=this.inputViewChild?.nativeElement.value,i=-1;for(r=0,c=0;r<this.len;r++)if(this.tests[r]){for(this.buffer[r]=this.getPlaceholder(r);c++<n.length;)if(a=n.charAt(c-1),this.tests[r].test(a)){this.keepBuffer||(this.buffer[r]=a),i=r;break}if(c>n.length){this.clearBuffer(r+1,this.len);break}}else this.buffer[r]===n.charAt(c)&&c++,r<this.partialPosition&&(i=r);return t?this.writeBuffer():i+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,i+1)),this.partialPosition?r:this.firstNonMaskPos}onInputFocus(t){if(this.readonly)return;let n;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild?.nativeElement.value,n=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),n==this.mask?.replace("?","").length?this.caret(0,n):this.caret(n))},10),this.onFocus.emit(t)}onInputChange(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t),this.onInput.emit(t)}handleInputChange(t){this.readonly||setTimeout(()=>{var n=this.checkVal(!0);this.caret(n),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let t=[];for(let n=0;n<this.buffer.length;n++){let i=this.buffer[n];this.tests[n]&&i!=this.getPlaceholder(n)&&t.push(i)}return t.join("")}updateModel(t){const n=this.unmask?this.getUnmaskedValue():t.target.value;(null!==n||void 0!==n)&&(this.value=n,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild?.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}static \u0275fac=function(n){return new(n||o)(e.Y36(m.K0),e.Y36(e.Lbi),e.Y36(e.SBq),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:o,selectors:[["p-inputMask"]],contentQueries:function(n,i,r){if(1&n&&e.Suo(r,f.jx,4),2&n){let a;e.iGM(a=e.CRH())&&(i.templates=a)}},viewQuery:function(n,i){if(1&n&&e.Gf($,7),2&n){let r;e.iGM(r=e.CRH())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(n,i){2&n&&e.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputmask-clearable",i.showClear&&!i.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",keepBuffer:"keepBuffer",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[e._Bn([ie])],decls:3,vars:21,consts:[["pInputText","","pAutoFocus","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","autofocus","focus","blur","keydown","keypress","input","paste"],["input",""],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(n,i){1&n&&(e.TgZ(0,"input",0,1),e.NdJ("focus",function(a){return i.onInputFocus(a)})("blur",function(a){return i.onInputBlur(a)})("keydown",function(a){return i.onInputKeydown(a)})("keypress",function(a){return i.onKeyPress(a)})("input",function(a){return i.onInputChange(a)})("paste",function(a){return i.handleInputChange(a)}),e.qZA(),e.YNc(2,ne,3,2,"ng-container",2)),2&n&&(e.Q6J("ngStyle",i.style)("ngClass",i.styleClass)("disabled",i.disabled)("readonly",i.readonly)("autofocus",i.autoFocus),e.uIk("id",i.inputId)("type",i.type)("name",i.name)("placeholder",i.placeholder)("title",i.title)("size",i.size)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("aria-required",i.ariaRequired)("required",i.required)("data-pc-name","inputmask")("data-pc-section","root"),e.xp6(2),e.Q6J("ngIf",null!=i.value&&i.filled&&i.showClear&&!i.disabled))},dependencies:()=>[m.mk,m.O5,m.tP,m.PC,M.o,q.P,F.q],styles:["@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return o})(),oe=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[m.ez,M.j,q.E,F.q,f.m8]})}return o})();var J=l(3965),O=l(3506),R=l(707),L=l(7213),re=l(1604),ae=l(3983),se=l(4480);let Ze=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[m.ez,f.m8,se.T,ae.p,re.V,f.m8]})}return o})();var j=l(4104),I=l(2793),we=l(6821),Q=l(3904),z=l(7538),Ae=l(7744),De=l(6033),Me=l(5961),Pe=l(5261),Ie=l(2974),Y=l(8039),G=l(6651);const Se=["*"];let ke=(()=>{class o{style;styleClass;layout="horizontal";type="solid";align;containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":"horizontal"===this.layout,"p-divider-vertical":"vertical"===this.layout,"p-divider-solid":"solid"===this.type,"p-divider-dashed":"dashed"===this.type,"p-divider-dotted":"dotted"===this.type,"p-divider-left":"horizontal"===this.layout&&(!this.align||"left"===this.align),"p-divider-center":"horizontal"===this.layout&&"center"===this.align||"vertical"===this.layout&&(!this.align||"center"===this.align),"p-divider-right":"horizontal"===this.layout&&"right"===this.align,"p-divider-top":"vertical"===this.layout&&"top"===this.align,"p-divider-bottom":"vertical"===this.layout&&"bottom"===this.align}}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",layout:"layout",type:"type",align:"align"},ngContentSelectors:Se,decls:3,vars:6,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(n,i){1&n&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA()()),2&n&&(e.Tol(i.styleClass),e.Q6J("ngClass",i.containerClass())("ngStyle",i.style),e.uIk("aria-orientation",i.layout)("data-pc-name","divider"))},dependencies:[m.mk,m.PC],styles:['@layer primeng{.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}}\n'],encapsulation:2,changeDetection:0})}return o})(),Ue=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[m.ez]})}return o})();var H=l(6263),Be=l(8504),A=l(6306),Ne=l(7398),qe=l(9862);let Fe=(()=>{class o{constructor(t){this.http=t,this.API_BASE_URL="/ibsu-api",this.deviceIndex=0,this.captureSubject=new y.x,this.onCapture$=this.captureSubject.asObservable()}checkSDKVersion(){return this.http.get(`${this.API_BASE_URL}/version`).pipe((0,A.K)(this.handleError))}initializeSDK(){return this.http.post(`${this.API_BASE_URL}/initialize`,{}).pipe((0,A.K)(this.handleError))}getDevices(){return this.http.get(`${this.API_BASE_URL}/devices`).pipe((0,Ne.U)(t=>t||[]),(0,A.K)(this.handleError))}openDevice(t){return this.deviceIndex=t,this.http.post(`${this.API_BASE_URL}/device/open`,{deviceIndex:t}).pipe((0,A.K)(this.handleError))}closeDevice(){return this.http.post(`${this.API_BASE_URL}/device/close`,{}).pipe((0,A.K)(this.handleError))}startCapture(t){return this.http.post(`${this.API_BASE_URL}/capture/start`,{fingerPosition:t,captureMode:"AUTO"}).pipe((0,A.K)(this.handleError))}stopCapture(){return this.http.post(`${this.API_BASE_URL}/capture/stop`,{}).pipe((0,A.K)(this.handleError))}getCapturedImage(){return this.http.get(`${this.API_BASE_URL}/capture/image`).pipe((0,A.K)(this.handleError))}captureFingerprint(t){var n=this;return(0,p.Z)(function*(){try{yield n.startCapture(t).toPromise(),yield n.waitForCapture();const i=yield n.getCapturedImage().toPromise();if(!i)throw new Error("Aucune image retourn\xe9e par le scanner");if(!i.data)throw new Error("Image captur\xe9e mais donn\xe9es manquantes");return yield n.stopCapture().toPromise(),i.data.includes("base64,")?i.data:`data:image/png;base64,${i.data}`}catch(i){console.error("Erreur capture empreinte:",i);try{yield n.stopCapture().toPromise()}catch(r){console.error("Erreur lors de l'arr\xeat de la capture:",r)}throw i}})()}waitForCapture(){var t=this;return new Promise((n,i)=>{let r=0;const c=setInterval((0,p.Z)(function*(){r++;try{const g=yield t.http.get(`${t.API_BASE_URL}/capture/status`).toPromise();g&&g.isComplete&&(clearInterval(c),n()),r>=30&&(clearInterval(c),i(new Error("Timeout: capture non termin\xe9e apr\xe8s 30 secondes")))}catch(g){clearInterval(c),i(g)}}),1e3)})}configureDevice(t){return this.http.post(`${this.API_BASE_URL}/device/configure`,t).pipe((0,A.K)(this.handleError))}getStatus(){return this.http.get(`${this.API_BASE_URL}/status`).pipe((0,A.K)(this.handleError))}base64ToFile(t,n){try{if(!t||"string"!=typeof t)throw new Error("Base64 string invalide");let i,r="image/png";if(t.includes(",")){const b=t.split(","),S=b[0].match(/:(.*?);/);S&&S[1]&&(r=S[1]),i=b[1]||b[0]}else i=t;const a=atob(i);let c=a.length;const g=new Uint8Array(c);for(;c--;)g[c]=a.charCodeAt(c);return new File([g],n,{type:r})}catch(i){return console.error("Erreur conversion base64 vers File:",i),new File([],n,{type:"image/png"})}}handleError(t){let n="Une erreur inconnue est survenue";return n=t.error instanceof ErrorEvent?`Erreur: ${t.error.message}`:0===t.status?"Impossible de se connecter au serveur IBScan. V\xe9rifiez que l'API est d\xe9marr\xe9e sur le port 5020.":404===t.status?"Endpoint API non trouv\xe9. V\xe9rifiez l'URL de l'API.":500===t.status?`Erreur serveur: ${t.message}`:`Erreur ${t.status}: ${t.message}`,console.error("Erreur IBScan Service:",n),(0,Be._)(()=>new Error(n))}isServiceAvailable(){var t=this;return(0,p.Z)(function*(){try{return yield t.checkSDKVersion().toPromise(),!0}catch{return!1}})()}testConnection(){var t=this;return(0,p.Z)(function*(){const n={apiAvailable:!1,sdkInitialized:!1,devicesFound:0,error:void 0};try{yield t.checkSDKVersion().toPromise(),n.apiAvailable=!0;const i=yield t.getStatus().toPromise();i&&(n.sdkInitialized=i.isInitialized,n.devicesFound=i.devices?.length||0)}catch(i){n.error=i instanceof Error?i.message:"Erreur inconnue"}return n})()}static#e=this.\u0275fac=function(n){return new(n||o)(e.LFG(qe.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Ve=["videoElement"],Je=["canvasElement"],Oe=["reader"];function Re(o,s){1&o&&(e.TgZ(0,"div",98),e._UZ(1,"i",99),e.TgZ(2,"div")(3,"h3",100),e._uU(4,"Documents et Photographie"),e.qZA(),e.TgZ(5,"p",101),e._uU(6,"Capturez les documents officiels et la photo du passager"),e.qZA()()())}function Le(o,s){if(1&o&&e._UZ(0,"img",102),2&o){const t=e.oxw();e.Q6J("src",t.rectoPreview(),e.LSH)}}function je(o,s){1&o&&e._UZ(0,"i",103)}function Qe(o,s){if(1&o&&(e.TgZ(0,"small",104),e._UZ(1,"i",105),e._uU(2),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",t.formErrors().imageRecto," ")}}function ze(o,s){if(1&o&&e._UZ(0,"img",106),2&o){const t=e.oxw();e.Q6J("src",t.versoPreview(),e.LSH)}}function Ye(o,s){1&o&&e._UZ(0,"i",107)}function Ge(o,s){if(1&o&&(e.TgZ(0,"small",104),e._UZ(1,"i",105),e._uU(2),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",t.formErrors().imageVerso," ")}}function He(o,s){if(1&o&&e._UZ(0,"img",108),2&o){const t=e.oxw();e.Q6J("src",t.profilPreview(),e.LSH)}}function Ke(o,s){1&o&&e._UZ(0,"i",109)}function $e(o,s){if(1&o&&(e.TgZ(0,"small",110),e._UZ(1,"i",105),e._uU(2),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",t.formErrors().photoProfil," ")}}function Xe(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().typeDocument)}}function We(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().numeroDocument)}}function et(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().dateDelivrance)}}function tt(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().lieuDelivrance)}}function nt(o,s){1&o&&(e.TgZ(0,"div",112),e._UZ(1,"i",113),e.TgZ(2,"div")(3,"h3",100),e._uU(4,"Informations Personnelles"),e.qZA(),e.TgZ(5,"p",101),e._uU(6,"Donn\xe9es d'identification du passager"),e.qZA()()())}function it(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().nomFamille)}}function ot(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().prenom)}}function rt(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().dateNaissance)}}function at(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().lieuNaissance)}}function st(o,s){if(1&o&&(e.TgZ(0,"div",114),e._UZ(1,"img",115),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&o){const t=s.$implicit;e.xp6(1),e.Tol("flag flag-"+t.code.toLowerCase()),e.xp6(2),e.Oqu(t.nationalite)}}function lt(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().profession)}}function pt(o,s){1&o&&(e.TgZ(0,"div",116),e._UZ(1,"i",117),e.TgZ(2,"div")(3,"h3",100),e._uU(4,"Coordonn\xe9es"),e.qZA(),e.TgZ(5,"p",101),e._uU(6,"Informations de contact et adresses"),e.qZA()()())}function ct(o,s){if(1&o&&(e.TgZ(0,"div",114),e._UZ(1,"img",115),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&o){const t=s.$implicit;e.xp6(1),e.Tol("flag flag-"+t.code.toLowerCase()),e.xp6(2),e.Oqu(t.name)}}function ut(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().adresseBurkina)}}function dt(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().adresseEtranger)}}function mt(o,s){1&o&&(e.TgZ(0,"div",118),e._UZ(1,"i",119),e.TgZ(2,"div")(3,"h3",100),e._uU(4,"Informations de Voyage"),e.qZA(),e.TgZ(5,"p",101),e._uU(6,"D\xe9tails du vol et du s\xe9jour"),e.qZA()()())}function gt(o,s){if(1&o&&e._uU(0),2&o){const t=e.oxw().ngIf;e.AsE(" ",null==t.aeroport?null:t.aeroport.nomAeroport," \u2192 ",t.nomAgentConnecteAeroport," ")}}function ft(o,s){if(1&o&&e._uU(0),2&o){const t=e.oxw().ngIf;e.AsE(" ",t.nomAgentConnecteAeroport," \u2192 ",null==t.aeroport?null:t.aeroport.nomAeroport," ")}}function ht(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",114),e._UZ(2,"i",121),e.TgZ(3,"span",122),e._uU(4),e.qZA(),e.TgZ(5,"span",123),e._uU(6,"|"),e.qZA(),e.TgZ(7,"span",124),e.YNc(8,gt,1,2)(9,ft,1,2),e.qZA()(),e.BQk()),2&o){const t=s.ngIf,n=e.oxw(2);e.xp6(4),e.Oqu(t.numero),e.xp6(4),e.um2(8,t.typeVol===n.type?8:9)}}function _t(o,s){if(1&o&&e.YNc(0,ht,10,2,"ng-container",120),2&o){const t=e.oxw();e.Q6J("ngIf",t.selectedVolInfo())}}function vt(o,s){if(1&o&&e._uU(0),2&o){const t=e.oxw().$implicit;e.AsE(" ",null==t.aeroport?null:t.aeroport.nomAeroport," \u2192 ",t.nomAgentConnecteAeroport," ")}}function Ct(o,s){if(1&o&&e._uU(0),2&o){const t=e.oxw().$implicit;e.AsE(" ",t.nomAgentConnecteAeroport," \u2192 ",null==t.aeroport?null:t.aeroport.nomAeroport," ")}}function bt(o,s){if(1&o&&(e.TgZ(0,"div",114),e._UZ(1,"i",125),e.TgZ(2,"span",122),e._uU(3),e.qZA(),e.TgZ(4,"span",123),e._uU(5,"|"),e.qZA(),e.TgZ(6,"span",124),e.YNc(7,vt,1,2)(8,Ct,1,2),e.qZA()()),2&o){const t=s.$implicit,n=e.oxw();e.xp6(3),e.Oqu(t.numero),e.xp6(4),e.um2(7,t.typeVol===n.type?7:8)}}function Tt(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().volId)}}function yt(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().motifVoyage)}}function Et(o,s){if(1&o&&(e.TgZ(0,"small",111),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors().dureeSejour)}}function xt(o,s){if(1&o&&e._UZ(0,"p-tag",128),2&o){const t=e.oxw(2);e.Q6J("value",t.ibscanDevices()[t.selectedIBScanDevice()].name)}}function Zt(o,s){if(1&o&&(e.TgZ(0,"div",126)(1,"div",1)(2,"div",114),e._UZ(3,"i"),e.TgZ(4,"span",127),e._uU(5),e.qZA()(),e.YNc(6,xt,1,1,"p-tag",128),e.qZA()(),e.TgZ(7,"div",129),e._UZ(8,"i",130),e.TgZ(9,"div")(10,"h3",131),e._uU(11,"Capture Biom\xe9trique"),e.qZA(),e.TgZ(12,"p",101),e._uU(13,"Enregistrement des empreintes digitales et photo"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(3),e.Tol(t.ibscanAvailable()?"pi pi-check-circle text-green-500":"pi pi-exclamation-triangle text-orange-500"),e.xp6(2),e.hij(" ",t.ibscanAvailable()?"Scanner IBScan connect\xe9":"Scanner non disponible - Mode webcam"," "),e.xp6(1),e.um2(6,t.ibscanAvailable()&&t.ibscanDevices().length>0?6:-1)}}function wt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",155),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.capturerEmpreinte("empreinteGauche"))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("label",t.empreinteGauche().capturee?"Recapturer":"Scanner")("outlined",!t.empreinteGauche().capturee)("loading",t.isCapturingFingerprint())}}function At(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",156),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.capturerEmpreinte("empreinteGauche"))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("label",t.empreinteGauche().capturee?"Recapturer":"Webcam")("outlined",!t.empreinteGauche().capturee)}}function Dt(o,s){if(1&o&&e._UZ(0,"img",157),2&o){const t=e.oxw(2);e.Q6J("src",t.empreinteGauche().image,e.LSH)}}function Mt(o,s){1&o&&e._UZ(0,"i",158)}function Pt(o,s){if(1&o&&(e.TgZ(0,"div",159),e._UZ(1,"p-tag",160),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("value",t.ibscanAvailable()?"Captur\xe9 avec IBScan":"Captur\xe9 avec Webcam")("severity",t.ibscanAvailable()?"success":"info")("icon",t.ibscanAvailable()?"pi pi-fingerprint":"pi pi-camera")}}function It(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",155),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.capturerEmpreinte("empreinteDroite"))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("label",t.empreinteDroite().capturee?"Recapturer":"Scanner")("outlined",!t.empreinteDroite().capturee)("loading",t.isCapturingFingerprint())}}function St(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",156),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.capturerEmpreinte("empreinteDroite"))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("label",t.empreinteDroite().capturee?"Recapturer":"Webcam")("outlined",!t.empreinteDroite().capturee)}}function kt(o,s){if(1&o&&e._UZ(0,"img",161),2&o){const t=e.oxw(2);e.Q6J("src",t.empreinteDroite().image,e.LSH)}}function Ut(o,s){1&o&&e._UZ(0,"i",158)}function Bt(o,s){if(1&o&&(e.TgZ(0,"div",159),e._UZ(1,"p-tag",160),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("value",t.ibscanAvailable()?"Captur\xe9 avec IBScan":"Captur\xe9 avec Webcam")("severity",t.ibscanAvailable()?"success":"info")("icon",t.ibscanAvailable()?"pi pi-fingerprint":"pi pi-camera")}}function Nt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",162),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.capturerEmpreinte("empreintePouces"))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("label",t.empreintePouces().capturee?"Recapturer":"Scanner")("outlined",!t.empreintePouces().capturee)("loading",t.isCapturingFingerprint())}}function qt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",163),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.capturerEmpreinte("empreintePouces"))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("label",t.empreintePouces().capturee?"Recapturer":"Webcam")("outlined",!t.empreintePouces().capturee)}}function Ft(o,s){if(1&o&&e._UZ(0,"img",164),2&o){const t=e.oxw(2);e.Q6J("src",t.empreintePouces().image,e.LSH)}}function Vt(o,s){1&o&&e._UZ(0,"i",158)}function Jt(o,s){if(1&o&&(e.TgZ(0,"div",159),e._UZ(1,"p-tag",160),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("value",t.ibscanAvailable()?"Captur\xe9 avec IBScan":"Captur\xe9 avec Webcam")("severity",t.ibscanAvailable()?"success":"info")("icon",t.ibscanAvailable()?"pi pi-fingerprint":"pi pi-camera")}}function Ot(o,s){1&o&&e._UZ(0,"img",165),2&o&&e.Q6J("src",s,e.LSH)}function Rt(o,s){1&o&&e._UZ(0,"i",109)}function Lt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",132)(1,"div",129),e._UZ(2,"p-avatar",133),e.TgZ(3,"div")(4,"p",134),e._uU(5),e.qZA(),e.TgZ(6,"p",135),e._uU(7),e.qZA()()()(),e.TgZ(8,"div",10)(9,"div",75)(10,"div",136)(11,"div",13)(12,"div",114),e._UZ(13,"i",137),e.TgZ(14,"div")(15,"p",134),e._uU(16,"4 doigts main gauche"),e.qZA(),e.TgZ(17,"p",138),e._uU(18),e.qZA()()(),e.TgZ(19,"div",4),e.YNc(20,wt,1,3,"p-button",139)(21,At,1,2),e.qZA()(),e.TgZ(22,"div",140)(23,"div",93)(24,"div",19),e.YNc(25,Dt,1,1,"img",141)(26,Mt,1,0),e.qZA()()(),e.YNc(27,Pt,2,3,"div",142),e.qZA()(),e.TgZ(28,"div",75)(29,"div",136)(30,"div",13)(31,"div",114),e._UZ(32,"i",137),e.TgZ(33,"div")(34,"p",134),e._uU(35,"4 doigts main droite"),e.qZA(),e.TgZ(36,"p",138),e._uU(37),e.qZA()()(),e.TgZ(38,"div",4),e.YNc(39,It,1,3,"p-button",139)(40,St,1,2),e.qZA()(),e.TgZ(41,"div",140)(42,"div",93)(43,"div",19),e.YNc(44,kt,1,1,"img",143)(45,Ut,1,0),e.qZA()()(),e.YNc(46,Bt,2,3,"div",142),e.qZA()(),e.TgZ(47,"div",75)(48,"div",136)(49,"div",13)(50,"div",114),e._UZ(51,"i",144),e.TgZ(52,"div")(53,"p",134),e._uU(54,"Les deux pouces"),e.qZA(),e.TgZ(55,"p",138),e._uU(56),e.qZA()()(),e.TgZ(57,"div",4),e.YNc(58,Nt,1,3,"p-button",145)(59,qt,1,2),e.qZA()(),e.TgZ(60,"div",140)(61,"div",93)(62,"div",19),e.YNc(63,Ft,1,1,"img",146)(64,Vt,1,0),e.qZA()()(),e.YNc(65,Jt,2,3,"div",142),e.qZA()(),e.TgZ(66,"div",75)(67,"div",136)(68,"div",13)(69,"div",114),e._UZ(70,"i",147),e.TgZ(71,"div")(72,"p",134),e._uU(73,"Photo d'identit\xe9"),e.qZA(),e.TgZ(74,"p",138),e._uU(75),e.qZA()()(),e.TgZ(76,"p-button",148),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.demarrerCamera("biometrique"))}),e.qZA()(),e.TgZ(77,"div",140)(78,"div",93)(79,"div",19),e.YNc(80,Ot,1,1,"img",149)(81,Rt,1,0),e.qZA()()()()()(),e.TgZ(82,"div",150)(83,"div",151)(84,"span",152),e._uU(85,"Progression de la capture"),e.qZA(),e.TgZ(86,"span",153),e._uU(87),e.qZA()(),e._UZ(88,"p-progressBar",154),e.qZA()}if(2&o){const t=e.oxw();let n;e.xp6(2),e.Q6J("label",null==s.nom_complet?null:s.nom_complet.charAt(0)),e.xp6(3),e.Oqu(s.nom_complet),e.xp6(2),e.hij("Document: ",s.numeroDocument,""),e.xp6(10),e.Tol(t.empreinteGauche().capturee?"text-green-600":"text-500"),e.xp6(1),e.hij(" ",t.empreinteGauche().capturee?"\u2713 Captur\xe9":"En attente"," "),e.xp6(2),e.um2(20,t.ibscanAvailable()?20:21),e.xp6(2),e.Q6J("ngClass",t.empreinteGauche().image?"border-2 border-green-500":"border-2 border-300"),e.xp6(3),e.um2(25,t.empreinteGauche().image?25:26),e.xp6(2),e.um2(27,t.empreinteGauche().capturee?27:-1),e.xp6(9),e.Tol(t.empreinteDroite().capturee?"text-green-600":"text-500"),e.xp6(1),e.hij(" ",t.empreinteDroite().capturee?"\u2713 Captur\xe9":"En attente"," "),e.xp6(2),e.um2(39,t.ibscanAvailable()?39:40),e.xp6(2),e.Q6J("ngClass",t.empreinteDroite().image?"border-2 border-green-500":"border-2 border-300"),e.xp6(3),e.um2(44,t.empreinteDroite().image?44:45),e.xp6(2),e.um2(46,t.empreinteDroite().capturee?46:-1),e.xp6(9),e.Tol(t.empreintePouces().capturee?"text-green-600":"text-500"),e.xp6(1),e.hij(" ",t.empreintePouces().capturee?"\u2713 Captur\xe9":"En attente"," "),e.xp6(2),e.um2(58,t.ibscanAvailable()?58:59),e.xp6(2),e.Q6J("ngClass",t.empreintePouces().image?"border-2 border-green-500":"border-2 border-300"),e.xp6(3),e.um2(63,t.empreintePouces().image?63:64),e.xp6(2),e.um2(65,t.empreintePouces().capturee?65:-1),e.xp6(9),e.Tol(t.capturedPhotoPourBiometrie()?"text-green-600":"text-500"),e.xp6(1),e.hij(" ",t.capturedPhotoPourBiometrie()?"\u2713 Captur\xe9":"En attente"," "),e.xp6(1),e.Q6J("label",t.capturedPhotoPourBiometrie()?"Reprendre":"Prendre")("icon",t.capturedPhotoPourBiometrie()?"pi pi-refresh":"pi pi-camera")("outlined",!t.capturedPhotoPourBiometrie()),e.xp6(1),e.Q6J("ngClass",t.capturedPhotoPourBiometrie()?"border-2 border-green-500":"border-2 border-300"),e.xp6(3),e.um2(80,(n=t.capturedPhotoPourBiometrie())?80:81,n),e.xp6(7),e.hij(" ",(t.empreinteGauche().capturee?1:0)+(t.empreinteDroite().capturee?1:0)+(t.empreintePouces().capturee?1:0)+(t.capturedPhotoPourBiometrie()?1:0)," / 4 "),e.xp6(1),e.Q6J("value",25*((t.empreinteGauche().capturee?1:0)+(t.empreinteDroite().capturee?1:0)+(t.empreintePouces().capturee?1:0)+(t.capturedPhotoPourBiometrie()?1:0)))("showValue",!1)}}function jt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",166)(1,"p-button",167),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closeBiometricModal())}),e.qZA(),e.TgZ(2,"p-button",168),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.validerAvecBiometrie())}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("outlined",!0),e.xp6(1),e.Q6J("loading",t.isSaving())("disabled",!(t.empreinteGauche().capturee&&t.empreinteDroite().capturee&&t.empreintePouces().capturee&&t.capturedPhotoPourBiometrie()))}}function Qt(o,s){1&o&&(e.TgZ(0,"div",129),e._UZ(1,"i",169),e.TgZ(2,"div")(3,"h3",131),e._uU(4,"Capture Photo"),e.qZA(),e.TgZ(5,"p",101),e._uU(6,"Positionnez-vous et capturez votre photo"),e.qZA()()())}function zt(o,s){1&o&&e._UZ(0,"video",170,171)}function Yt(o,s){if(1&o&&e._UZ(0,"img",172),2&o){const t=e.oxw();e.Q6J("src",t.capturedPhotoBase64(),e.LSH)}}function Gt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",175),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.capturerPhoto())}),e.qZA()}}function Ht(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",176),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.reprendrePhoto())}),e.qZA(),e.TgZ(1,"p-button",177),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.confirmerPhoto())}),e.qZA()}}function Kt(o,s){if(1&o&&(e.TgZ(0,"div",173),e.YNc(1,Gt,1,0,"p-button",174)(2,Ht,2,0),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.um2(1,t.capturedPhotoBase64()?2:1)}}const K=()=>({standalone:!0}),$t=()=>({width:"70rem"}),Xt=()=>({"960px":"90vw"}),Wt=()=>({width:"50rem"}),en=()=>({"960px":"75vw","640px":"90vw"});let tn=(()=>{class o{constructor(){this.store=(0,e.f3M)(C.yh),this.messageService=(0,e.f3M)(f.ez),this.destroy$=new y.x,this.countryService=(0,e.f3M)(Ae.T),this.nationaliteService=(0,e.f3M)(De.H),this.router=(0,e.f3M)(Me.F0),this.rectoPreview=(0,e.tdS)(null),this.versoPreview=(0,e.tdS)(null),this.profilPreview=(0,e.tdS)(null),this.formData=(0,e.tdS)({typeDocument:I.u4.PASSEPORT}),this.formErrors=(0,e.tdS)({}),this.isSaving=(0,e.tdS)(!1),this.loading=(0,e.tdS)(!0),this.vols=(0,e.tdS)([]),this.motifs=(0,e.tdS)([]),this.enregistrementList=(0,e.tdS)([]),this.volList=(0,e.tdS)([]),this.selectedVolInfo=(0,e.tdS)(null),this.isCaptureBiometriqueModalOpen=(0,e.tdS)(!1),this.passagerPourBiometrie=(0,e.tdS)(null),this.empreinteGauche=(0,e.tdS)({image:null,capturee:!1}),this.empreinteDroite=(0,e.tdS)({image:null,capturee:!1}),this.empreintePouces=(0,e.tdS)({image:null,capturee:!1}),this.capturedPhotoPourBiometrie=(0,e.tdS)(null),this.biometric=(0,e.tdS)(null),this.enregistrementSelect=(0,e.tdS)(null),this.informationPersonnel={},this.isCameraModalOpen=(0,e.tdS)(!1),this.capturedPhotoBase64=(0,e.tdS)(null),this.currentCameraTarget=(0,e.tdS)(null),this.mediaStream=null,this.typesDocument=["PASSEPORT","CNI"],this.etatsVoyage=["ALLER","RETOUR","ALLER_RETOUR"],this.countries=[],this.nationalites=[],this.type=z.N.ARRIVEE,this.regulaService=(0,e.f3M)(Ie.r),this.identityData=null,this.ibscanService=(0,e.f3M)(Fe),this.ibscanAvailable=(0,e.tdS)(!1),this.ibscanDevices=(0,e.tdS)([]),this.selectedIBScanDevice=(0,e.tdS)(0),this.isCapturingFingerprint=(0,e.tdS)(!1),this.isScanning=(0,e.tdS)(!1),this.autoDetectionEnabled=(0,e.tdS)(!1)}ngOnInit(){var t=this;return(0,p.Z)(function*(){t.initializeFormData(),yield t.checkIBScanAvailability(),t.subscribeToStoreUpdates(),t.loadVols(),t.loadMotifs(),t.countryService.getCountries().then(n=>{t.countries=n}),t.nationaliteService.getCountries().then(n=>{t.nationalites=n})})()}checkIBScanAvailability(){var t=this;return(0,p.Z)(function*(){try{const n=yield t.ibscanService.getDevices().toPromise();t.ibscanDevices.set(n||[]),n&&n.length>0?(t.ibscanAvailable.set(!0),yield t.ibscanService.openDevice(0).toPromise(),t.selectedIBScanDevice.set(0),t.messageService.add({severity:"success",summary:"IBScan pr\xeat",detail:`Scanner ${n[0].name} connect\xe9`,life:3e3})):(t.ibscanAvailable.set(!1),console.warn("Aucun scanner IBScan d\xe9tect\xe9"))}catch(n){console.error("IBScan non disponible:",n),t.ibscanAvailable.set(!1),t.messageService.add({severity:"warn",summary:"IBScan non disponible",detail:"Le scanner d'empreintes n'est pas connect\xe9. Utilisez la webcam.",life:5e3})}})()}capturerEmpreinteIBScan(t){var n=this;return(0,p.Z)(function*(){if(!n.ibscanAvailable())return void n.messageService.add({severity:"error",summary:"Scanner non disponible",detail:"Veuillez connecter le scanner IBScan",life:3e3});const r={empreinteGauche:"LEFT_FOUR_FINGERS",empreinteDroite:"RIGHT_FOUR_FINGERS",empreintePouces:"THUMBS"}[t];try{n.isCapturingFingerprint.set(!0),n.messageService.add({severity:"info",summary:"Capture en cours",detail:"Placez vos doigts sur le scanner...",life:0});const a=yield n.ibscanService.captureFingerprint(r);"empreinteGauche"===t?n.empreinteGauche.set({image:a,capturee:!0}):"empreinteDroite"===t?n.empreinteDroite.set({image:a,capturee:!0}):"empreintePouces"===t&&n.empreintePouces.set({image:a,capturee:!0}),n.messageService.clear(),n.messageService.add({severity:"success",summary:"Capture r\xe9ussie",detail:"Empreinte enregistr\xe9e avec succ\xe8s",life:3e3})}catch(a){console.error("Erreur capture IBScan:",a),n.messageService.clear(),n.messageService.add({severity:"error",summary:"Erreur de capture",detail:"Impossible de capturer l'empreinte. R\xe9essayez.",life:5e3})}finally{n.isCapturingFingerprint.set(!1)}})()}capturerEmpreinte(t){var n=this;return(0,p.Z)(function*(){if(n.ibscanAvailable())yield n.capturerEmpreinteIBScan(t);else{n.currentCameraTarget.set(t),n.capturedPhotoBase64.set(null),n.isCameraModalOpen.set(!0);try{yield n.waitForView(),n.mediaStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:1280,height:720}}),n.videoElement&&n.videoElement.nativeElement&&(n.videoElement.nativeElement.srcObject=n.mediaStream)}catch(i){console.error("Erreur d'acc\xe8s \xe0 la cam\xe9ra:",i),n.messageService.add({severity:"error",summary:"Erreur cam\xe9ra",detail:"Impossible d'acc\xe9der \xe0 la cam\xe9ra",life:3e3}),n.isCameraModalOpen.set(!1)}}})()}findPays(t){t&&t.name&&(this.formData().paysResidence=t.name)}findNationalite(t){t&&t.nationalite&&(this.formData().nationalite=t.nationalite)}loadEnregistrements(){this.store.dispatch(h.Sn())}subscribeToStoreUpdates(){this.store.pipe((0,C.Ys)(x.H2),(0,E.R)(this.destroy$)).subscribe(t=>{t&&(this.loading.set(!1),this.enregistrementList.set(t))}),this.store.pipe((0,C.Ys)(d.n1),(0,E.R)(this.destroy$)).subscribe(t=>{t&&(this.volList.set([...t]),console.log("---------Afficher les vol",this.volList))}),this.store.pipe((0,C.Ys)(u.i),(0,E.R)(this.destroy$)).subscribe(t=>{t&&t.message&&this.showToast(t.status,t.message)})}showToast(t,n){this.messageService.add({severity:{success:"success",error:"error",warning:"warn",info:"info"}[t]||"info",summary:this.getSummaryBySeverity(t),detail:n,life:5e3})}getSummaryBySeverity(t){return{success:"Succ\xe8s",error:"Erreur",warning:"Attention",info:"Information"}[t]||"Notification"}initializeFormData(){this.formData.set({typeDocument:void 0,etatVoyage:"ALLER",numeroDocument:"",numeroNip:null,dateDelivrance:"",lieuDelivrance:"",photoProfil:null,imageRecto:null,imageVerso:null,nomFamille:"",prenom:"",dateNaissance:"",lieuNaissance:"",nationalite:"",profession:"",paysResidence:"",emailContact:null,telephoneBurkina:null,telephoneEtranger:null,adresseBurkina:null,adresseEtranger:null,volId:null,villeDepart:"",villeDestination:"",dateVoyage:"",heureVoyage:"",motifVoyage:void 0,dureeSejour:null})}loadVols(){this.store.dispatch(Z.x7())}loadMotifs(){this.motifs.set([{libelle:"Affaires",value:I.Gc.AFFAIRES},{libelle:"Tourisme",value:I.Gc.TOURISME},{libelle:"Famille",value:I.Gc.FAMILLE},{libelle:"\xc9tudes",value:I.Gc.ETUDES},{libelle:"M\xe9dical",value:I.Gc.MEDICAL}])}updateFormDataField(t,n){this.formData.update(i=>({...i,[t]:n})),this.formErrors()[t]&&this.formErrors.update(i=>{const r={...i};return delete r[t],r})}onVolSelectionChange(t){const n=this.volList().find(B=>B.id===t);if(!n)return;this.selectedVolInfo.set(n);const i=n.typeVol===z.N.ARRIVEE,r=n.aeroport?.nomAeroport??"",a=n.nomAgentConnecteAeroport??"",c=i?r:a,g=i?a:r,b=n.dateDepart?new Date(n.dateDepart).toISOString():null,S=b?b.split("T")[0]:"",nn=b?b.split("T")[1].substring(0,5):"";this.formData.update(B=>({...B,volId:t,villeDepart:c,villeDestination:g,dateVoyage:S,heureVoyage:nn}))}validateForm(){const t={},n=this.formData();return n.numeroDocument?.trim()||(t.numeroDocument="Le num\xe9ro de document est requis"),n.dateDelivrance||(t.dateDelivrance="La date de d\xe9livrance est requise"),n.lieuDelivrance?.trim()||(t.lieuDelivrance="Le lieu de d\xe9livrance est requis"),n.imageRecto||(t.imageRecto="L'image recto est requise"),n.imageVerso||(t.imageVerso="L'image verso est requise"),n.photoProfil||(t.photoProfil="La photo de profil est requise"),n.prenom?.trim()||(t.prenom="Le pr\xe9nom est requis"),n.nomFamille?.trim()||(t.nomFamille="Le nom de famille est requis"),n.dateNaissance||(t.dateNaissance="La date de naissance est requise"),n.lieuNaissance?.trim()||(t.lieuNaissance="Le lieu de naissance est requis"),n.nationalite?.trim()||(t.nationalite="La nationalit\xe9 est requise"),n.profession?.trim()||(t.profession="La profession est requise"),n.paysResidence?.trim()||(t.paysResidence="Le pays de r\xe9sidence est requis"),n.adresseBurkina?.trim()||(t.adresseBurkina="L'adresse au Burkina est requise"),n.adresseEtranger?.trim()||(t.adresseEtranger="L'adresse \xe0 l'\xe9tranger est requise"),n.emailContact&&!this.isValidEmail(n.emailContact)&&(t.emailContact="L'email n'est pas valide"),n.volId||(t.volId="Le Voyage est requis"),this.formErrors.set(t),0===Object.keys(t).length}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}submitEnregistrement(){const t=this.prepareEnregistrementData();console.log("Donn\xe9es \xe0 soumettre suite:",t),this.store.dispatch(h.Lx(t)),this.store.pipe((0,C.Ys)(x.F9),(0,E.R)(this.destroy$)).subscribe(n=>{n&&n.id&&(this.enregistrementSelect.set(n),this.passagerPourBiometrie.set({id:n.id,nom_complet:`${n.prenom} ${n.nomFamille}`,numeroDocument:n.numeroDocument||"",informationPersonnelleId:n.informationPersonnelleId}),this.isCaptureBiometriqueModalOpen.set(!0))})}prepareEnregistrementData(){const t=this.formData();return{...t,dateDelivrance:this.formatDate(t.dateDelivrance),dateNaissance:this.formatDate(t.dateNaissance),dateVoyage:this.formatDate(t.dateVoyage),statut:Pe.F.VALIDE}}formatDate(t){return t?t instanceof Date?t.toISOString().split("T")[0]:t:""}resetForm(){this.initializeFormData(),this.formErrors.set({}),this.selectedVolInfo.set(null),this.messageService.add({severity:"info",summary:"Formulaire r\xe9initialis\xe9",detail:"Le formulaire a \xe9t\xe9 r\xe9initialis\xe9",life:2e3})}demarrerCameraRegula(t){var n=this;return(0,p.Z)(function*(){n.currentCameraTarget.set(t),n.capturedPhotoBase64.set(null),n.isCameraModalOpen.set(!0);try{yield n.waitForView();const r=(yield navigator.mediaDevices.enumerateDevices()).filter(c=>"videoinput"===c.kind);console.log("P\xe9riph\xe9riques vid\xe9o disponibles:",r);const a=r.find(c=>!c.label.toLowerCase().includes("regula")&&!c.label.toLowerCase().includes("document")&&!c.label.toLowerCase().includes("scanner"));if(!a)throw new Error("Aucune webcam standard trouv\xe9e");n.mediaStream=yield navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:a.deviceId},width:1280,height:720}}),n.videoElement&&n.videoElement.nativeElement&&(n.videoElement.nativeElement.srcObject=n.mediaStream)}catch(i){console.error("Erreur d'acc\xe8s \xe0 la cam\xe9ra:",i),n.messageService.add({severity:"error",summary:"Erreur cam\xe9ra",detail:"Impossible d'acc\xe9der \xe0 la cam\xe9ra",life:3e3}),n.isCameraModalOpen.set(!1)}})()}selectWebcam(){return(0,p.Z)(function*(){try{const n=(yield navigator.mediaDevices.enumerateDevices()).filter(r=>"videoinput"===r.kind);console.log("Cam\xe9ras disponibles:",n.map(r=>({id:r.deviceId,label:r.label})));let i=n.find(r=>r.label.toLowerCase().includes("integrated")||r.label.toLowerCase().includes("built-in")||r.label.toLowerCase().includes("facetime"));return i||(i=n.find(r=>!(r.label.toLowerCase().includes("regula")||r.label.toLowerCase().includes("document")||r.label.toLowerCase().includes("reader")||r.label.toLowerCase().includes("scanner")))),!i&&n.length>1&&(i=n[1]),i||null}catch(t){return console.error("Erreur s\xe9lection webcam:",t),null}})()}demarrerCamera(t){var n=this;return(0,p.Z)(function*(){n.currentCameraTarget.set(t),n.capturedPhotoBase64.set(null),n.isCameraModalOpen.set(!0);try{yield n.waitForView(),n.mediaStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:1280,height:720}}),n.videoElement&&n.videoElement.nativeElement&&(n.videoElement.nativeElement.srcObject=n.mediaStream)}catch(i){console.error("Erreur d'acc\xe8s \xe0 la cam\xe9ra:",i),n.messageService.add({severity:"error",summary:"Erreur cam\xe9ra",detail:"Impossible d'acc\xe9der \xe0 la cam\xe9ra",life:3e3}),n.isCameraModalOpen.set(!1)}})()}waitForView(){return new Promise(t=>setTimeout(t,100))}capturerPhoto(){if(!this.videoElement||!this.canvasElement)return;const t=this.videoElement.nativeElement,n=this.canvasElement.nativeElement,i=n.getContext("2d");if(!i)return;n.width=t.videoWidth,n.height=t.videoHeight,i.drawImage(t,0,0,n.width,n.height);const r=n.toDataURL("image/jpeg",.8);this.capturedPhotoBase64.set(r)}reprendrePhoto(){this.capturedPhotoBase64.set(null)}confirmerPhoto(){const t=this.capturedPhotoBase64(),n=this.currentCameraTarget();!t||!n||("biometrique"===n?this.capturedPhotoPourBiometrie.set(t):"empreinteGauche"===n?this.empreinteGauche.set({image:t,capturee:!0}):"empreinteDroite"===n?this.empreinteDroite.set({image:t,capturee:!0}):"empreintePouces"===n?this.empreintePouces.set({image:t,capturee:!0}):this.formData.update(i=>({...i,["recto"===n?"imageRecto":"verso"===n?"imageVerso":"photoProfil"]:t})),this.arreterCamera())}arreterCamera(){this.mediaStream&&(this.mediaStream.getTracks().forEach(t=>t.stop()),this.mediaStream=null),this.isCameraModalOpen.set(!1),this.capturedPhotoBase64.set(null),this.currentCameraTarget.set(null)}closeBiometricModal(){this.isCaptureBiometriqueModalOpen.set(!1),this.passagerPourBiometrie.set(null),this.empreinteGauche.set({image:null,capturee:!1}),this.empreinteDroite.set({image:null,capturee:!1}),this.empreintePouces.set({image:null,capturee:!1}),this.capturedPhotoPourBiometrie.set(null)}validerAvecBiometrie(){if(!(this.empreinteGauche().capturee&&this.empreinteDroite().capturee&&this.empreintePouces().capturee&&this.capturedPhotoPourBiometrie()))return void this.messageService.add({severity:"warn",summary:"Donn\xe9es incompl\xe8tes",detail:"Veuillez capturer toutes les donn\xe9es biom\xe9triques",life:3e3});if(!this.passagerPourBiometrie())return;const n=this.convertBase64ToFile(this.empreinteGauche().image,"empreinte_gauche.jpg"),i=this.convertBase64ToFile(this.empreinteDroite().image,"empreinte_droite.jpg"),r=this.convertBase64ToFile(this.empreintePouces().image,"empreinte_pouces.jpg"),a=this.convertBase64ToFile(this.capturedPhotoPourBiometrie(),"photo_biometrique.jpg");if(!(n&&i&&r&&a))return void this.messageService.add({severity:"error",summary:"Erreur de conversion",detail:"Impossible de convertir les images captur\xe9es",life:3e3});this.biometric.set({informationPersonnelleId:this.enregistrementSelect()?.informationPersonnelleId,empreinteGauche:n,empreinteDroite:i,empreintePouces:r,photoBiometrique:a});const c=this.biometric();c&&(this.store.dispatch(D.J0(c)),this.router.navigateByUrl("/admin/gestion-enregistrements")),this.closeBiometricModal(),this.resetForm()}convertBase64ToFile(t,n="photo.jpg"){if(t)try{const i=t.split(",")[1]||t,r=atob(i),a=new ArrayBuffer(r.length),c=new Uint8Array(a);for(let b=0;b<r.length;b++)c[b]=r.charCodeAt(b);const g=new Blob([c],{type:"image/jpeg"});return new File([g],n,{type:"image/jpeg"})}catch(i){return void console.error("Erreur conversion base64 vers File:",i)}}ensureBase64Prefix(t){return t.startsWith("data:image")?t:`data:image/jpeg;base64,${t}`}scannerDocumentAvecRegula(t){var n=this;return(0,p.Z)(function*(){const i=n.regulaService.getCurrentStatus();if(i.connected&&i.ready)try{n.isScanning.set(!0),n.identityData=null,n.regulaService.readDocument().subscribe({next:r=>{console.log("Donn\xe9es extraites pour image:",r),n.identityData=r,n.remplirFormulaireAvecDonnees(n.identityData);const a=n.identityData.image||n.identityData.photo;if(a){const c=n.base64ToFile(a,"recto"===t?"recto.jpg":"verso.jpg");"recto"===t?(n.formData.update(g=>({...g,imageRecto:c})),n.formData.update(g=>({...g,photoProfil:n.base64ToFile(r.photo?r.photo:"","photo.jpg")})),n.profilPreview.set(n.ensureBase64Prefix(r.photo?r.photo:"")),n.rectoPreview.set(n.ensureBase64Prefix(a))):(n.formData.update(g=>({...g,imageVerso:c})),n.versoPreview.set(n.ensureBase64Prefix(a))),n.messageService.add({severity:"success",summary:"Image captur\xe9e",detail:`Image ${t} enregistr\xe9e avec succ\xe8s`,life:3e3})}else console.warn("Aucune image disponible dans les donn\xe9es"),n.messageService.add({severity:"warn",summary:"Image manquante",detail:"Aucune image n'a \xe9t\xe9 retourn\xe9e par le lecteur",life:3e3});n.isScanning.set(!1)},error:r=>{console.error("Erreur scan:",r),n.messageService.add({severity:"error",summary:"Erreur de scan",detail:r.message||"Impossible de scanner le document",life:5e3}),n.isScanning.set(!1)}})}catch(r){console.error("Erreur scan document:",r),n.messageService.add({severity:"error",summary:"Erreur de scan",detail:r.message||"Impossible de scanner le document",life:5e3}),n.isScanning.set(!1)}else n.messageService.add({severity:"error",summary:"Lecteur non disponible",detail:"Le lecteur Regula n'est pas connect\xe9. Utilisez la webcam.",life:4e3})})()}base64ToFile(t,n){try{let i=t,r="image/jpeg";if(t.includes(",")){const b=t.split(","),S=b[0].match(/:(.*?);/);S&&(r=S[1]),i=b[1]}else i=t;const a=atob(i);let c=a.length;const g=new Uint8Array(c);for(;c--;)g[c]=a.charCodeAt(c);return new File([g],n,{type:r})}catch(i){return console.error("Erreur lors de la conversion base64 vers File:",i),new File([],n,{type:"image/jpeg"})}}base64ToFile1(t,n){const i=t.split(","),r=i[0].match(/:(.*?);/)[1],a=atob(i[1]);let c=a.length;const g=new Uint8Array(c);for(;c--;)g[c]=a.charCodeAt(c);return new File([g],n,{type:r})}remplirFormulaireAvecDonnees(t){if(console.log("Remplissage formulaire avec:",t),this.formData.update(n=>({...n,typeDocument:this.mapDocumentType(t.documentType),numeroDocument:t.documentNumber||n.numeroDocument,dateDelivrance:this.parseDate(t.issueDate)||n.dateDelivrance,lieuDelivrance:t.issuingAuthority||n.lieuDelivrance,nomFamille:t.lastName||n.nomFamille,prenom:t.firstName||n.prenom,dateNaissance:this.parseDate(t.dateOfBirth)||n.dateNaissance,lieuNaissance:t.placeOfBirth||n.lieuNaissance,nationalite:t.nationality||n.nationalite,numeroNip:t.nationalNumber||n.numeroNip,adresseBurkina:t.address||n.adresseBurkina})),t.nationality){const n=this.nationalites.find(i=>i.name.toLowerCase().includes(t.nationality.toLowerCase()));n&&(this.selectedNationalite=n)}}mapDocumentType(t){if(!t)return;const n=t.toLowerCase();return n.includes("passeport")||n.includes("passport")?I.u4.PASSEPORT:n.includes("carte")||n.includes("card")||n.includes("cni")?I.u4.CNI:void 0}parseDate(t){if(t)try{const n=t.replace(/[\/\-\.]/g,"");if(8===n.length){const i=n.substring(0,2),r=n.substring(2,4),a=n.substring(4,8),c=new Date(parseInt(a),parseInt(r)-1,parseInt(i));if(!isNaN(c.getTime()))return console.log(`\u{1f4c5} Date pars\xe9e: ${t} \u2192 ${c.toLocaleDateString()}`),c}if(t.match(/^\d{4}-\d{2}-\d{2}$/)){const i=new Date(t);if(!isNaN(i.getTime()))return i}if(t.match(/^\d{2}\/\d{2}\/\d{4}$/)){const i=t.split("/"),r=new Date(parseInt(i[2]),parseInt(i[1])-1,parseInt(i[0]));if(!isNaN(r.getTime()))return r}return t}catch(n){return console.error("Erreur parse date:",n),t}}ngOnDestroy(){this.ibscanAvailable()&&this.ibscanService.closeDevice().subscribe(),this.arreterCamera(),this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-gestion-enregistrements"]],viewQuery:function(n,i){if(1&n&&(e.Gf(Ve,5),e.Gf(Je,5),e.Gf(Oe,5)),2&n){let r;e.iGM(r=e.CRH())&&(i.videoElement=r.first),e.iGM(r=e.CRH())&&(i.canvasElement=r.first),e.iGM(r=e.CRH())&&(i.reader=r.first)}},standalone:!0,features:[e._Bn([f.ez,f.YP]),e.jDz],decls:250,vars:139,consts:[[1,"surface-card","p-4","shadow-2","border-round","mb-4"],[1,"flex","align-items-center","justify-content-between"],[1,"text-3xl","font-bold","text-900","m-0"],[1,"text-600","mt-2","mb-0"],[1,"flex","gap-2"],["value","\xc9tape 1/4","severity","info",3,"rounded"],["novalidate","",3,"ngSubmit"],["enregistrementForm","ngForm"],["styleClass","shadow-2 mb-4"],["pTemplate","header"],[1,"grid"],[1,"col-12","md:col-4"],[1,"surface-border","border-1","border-round","p-4","hover:surface-hover","transition-duration-150"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-900","font-semibold"],[1,"text-red-500","ml-1"],[3,"value","severity","rounded"],[1,"w-full","border-round","overflow-hidden","mb-3",3,"ngClass"],[1,"relative",2,"padding-top","66.67%"],[1,"absolute","top-0","left-0","w-full","h-full","flex","align-items-center","justify-content-center","bg-gray-50"],["alt","Document recto","class","w-full h-full object-fit-cover",3,"src"],[1,"flex","flex-column","gap-2"],["label","Scanner","icon","pi pi-qrcode","styleClass","w-full",3,"outlined","disabled","loading","onClick"],["class","p-error block mt-2"],["alt","Document verso","class","w-full h-full object-fit-cover",3,"src"],[1,"flex","justify-content-center","mb-3"],[1,"relative",2,"width","160px","height","160px"],[1,"w-full","h-full","border-circle","overflow-hidden",3,"ngClass"],[1,"w-full","h-full","flex","align-items-center","justify-content-center","bg-gray-50"],["alt","Photo de profil","class","w-full h-full object-fit-cover",3,"src"],["class","p-error block text-center mt-2"],[1,"col-12"],[1,"col-12","md:col-3"],["for","typeDocument",1,"block","text-900","font-semibold","mb-2"],[1,"text-red-500"],["id","typeDocument","name","typeDocument","placeholder","S\xe9lectionner","styleClass","w-full",3,"options","ngModel","ngModelChange"],["class","p-error block mt-1"],["for","numeroDocument",1,"block","text-900","font-semibold","mb-2"],["pInputText","","id","numeroDocument","name","numeroDocument","placeholder","Entrez le num\xe9ro",1,"w-full",3,"ngModel","ngModelChange"],["for","numeroNip",1,"block","text-900","font-semibold","mb-2"],[1,"text-500","text-sm","font-normal","ml-1"],["pInputText","","id","numeroNip","name","numeroNip","placeholder","Entrez le NIP",1,"w-full",3,"ngModel","ngModelChange"],["for","dateDelivrance",1,"block","text-900","font-semibold","mb-2"],["id","dateDelivrance","name","dateDelivrance","dateFormat","dd/mm/yy","placeholder","jj/mm/aaaa","styleClass","w-full",3,"ngModel","showIcon","iconDisplay","ngModelChange"],["for","lieuDelivrance",1,"block","text-900","font-semibold","mb-2"],["pInputText","","id","lieuDelivrance","name","lieuDelivrance","placeholder","Ville de d\xe9livrance",1,"w-full",3,"ngModel","ngModelChange"],["for","nomFamille",1,"block","text-900","font-semibold","mb-2"],["pInputText","","id","nomFamille","name","nomFamille","placeholder","Nom de famille",1,"w-full",3,"ngModel","ngModelChange"],["for","prenom",1,"block","text-900","font-semibold","mb-2"],["pInputText","","id","prenom","name","prenom","placeholder","Pr\xe9nom du passager",1,"w-full",3,"ngModel","ngModelChange"],["for","dateNaissance",1,"block","text-900","font-semibold","mb-2"],["id","dateNaissance","name","dateNaissance","dateFormat","dd/mm/yy","placeholder","jj/mm/aaaa","styleClass","w-full",3,"ngModel","showIcon","iconDisplay","ngModelChange"],["for","lieuNaissance",1,"block","text-900","font-semibold","mb-2"],["pInputText","","id","lieuNaissance","name","lieuNaissance","placeholder","Ville de naissance",1,"w-full",3,"ngModel","ngModelChange"],["for","nationalite",1,"block","text-900","font-semibold","mb-2"],["id","nationalite","filterBy","nationalite","placeholder","S\xe9lectionnez une nationalit\xe9","optionLabel","nationalite","appendTo","body","styleClass","w-full",3,"options","ngModelOptions","ngModel","showClear","filter","ngModelChange","onChange"],["pTemplate","item"],["for","profession",1,"block","text-900","font-semibold","mb-2"],["pInputText","","id","profession","name","profession","placeholder","Profession",1,"w-full",3,"ngModel","ngModelChange"],["for","pays",1,"block","text-900","font-semibold","mb-2"],["id","pays","filterBy","name","placeholder","S\xe9lectionnez un pays","optionLabel","name","appendTo","body","styleClass","w-full",3,"options","ngModelOptions","ngModel","showClear","filter","ngModelChange","onChange"],["for","emailContact",1,"block","text-900","font-semibold","mb-2"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-envelope"],["pInputText","","type","email","id","emailContact","name","emailContact","placeholder","exemple@email.com",3,"ngModel","ngModelChange"],["for","telephoneBurkina",1,"block","text-900","font-semibold","mb-2"],[1,"pi","pi-phone"],["id","telephoneBurkina","styleClass","w-full","name","telephoneBurkina","mask","+226 99999999","placeholder","+226 XXXXXXXX",3,"ngModel","ngModelChange"],["for","telephoneEtranger",1,"block","text-900","font-semibold","mb-2"],["pInputText","","type","tel","id","telephoneEtranger","name","telephoneEtranger","placeholder","+XXX XXXXXXXXX",3,"ngModel","ngModelChange"],["for","adresseBurkina",1,"block","text-900","font-semibold","mb-2"],["pInputTextarea","","id","adresseBurkina","name","adresseBurkina","rows","3","placeholder","Adresse compl\xe8te au Burkina Faso",1,"w-full",3,"ngModel","ngModelChange"],["for","adresseEtranger",1,"block","text-900","font-semibold","mb-2"],["pInputTextarea","","id","adresseEtranger","name","adresseEtranger","rows","3","placeholder","Adresse compl\xe8te \xe0 l'\xe9tranger",1,"w-full",3,"ngModel","ngModelChange"],[1,"col-12","md:col-6"],["for","volId",1,"block","text-900","font-semibold","mb-2"],["id","volId","name","volId","optionLabel","numero","optionValue","id","placeholder","S\xe9lectionner un vol","filterBy","numero","styleClass","w-full",3,"options","ngModel","filter","ngModelChange","onChange"],["pTemplate","selectedItem"],["for","motifVoyage",1,"block","text-900","font-semibold","mb-2"],["id","motifVoyage","name","motifVoyage","optionLabel","libelle","optionValue","value","placeholder","S\xe9lectionner","styleClass","w-full",3,"options","ngModel","ngModelChange"],["for","etatVoyage",1,"block","text-900","font-semibold","mb-2"],["id","etatVoyage","name","etatVoyage","placeholder","S\xe9lectionner","styleClass","w-full",3,"options","ngModel","ngModelChange"],["for","dureeSejour",1,"block","text-900","font-semibold","mb-2"],["id","dureeSejour","name","dureeSejour","suffix"," jours","placeholder","Nombre de jours","styleClass","w-full",3,"ngModel","min","max","showButtons","ngModelChange"],[1,"surface-card","p-4","shadow-2","border-round"],[1,"flex","justify-content-between","align-items-center"],["label","R\xe9initialiser","icon","pi pi-refresh","severity","secondary",3,"outlined","onClick"],["label","Sauvegarder en brouillon","icon","pi pi-save","severity","secondary",3,"outlined"],["type","submit","label","Soumettre l'Enregistrement","icon","pi pi-check","iconPos","right",3,"loading"],[3,"visible","modal","closable","breakpoints","draggable","resizable","onHide"],["pTemplate","footer"],[1,"border-round","overflow-hidden",2,"background","#000"],[1,"relative",2,"padding-top","75%"],[1,"absolute","top-0","left-0","w-full","h-full"],["playsinline","","autoplay","","class","w-full h-full object-fit-cover"],[1,"hidden"],["canvasElement",""],[1,"flex","align-items-center","gap-3","p-3","bg-primary-50"],[1,"pi","pi-id-card","text-primary","text-3xl"],[1,"text-xl","font-semibold","text-900","m-0"],[1,"text-600","text-sm","m-0","mt-1"],["alt","Document recto",1,"w-full","h-full","object-fit-cover",3,"src"],[1,"pi","pi-id-card","text-6xl","text-400"],[1,"p-error","block","mt-2"],[1,"pi","pi-exclamation-circle","mr-1"],["alt","Document verso",1,"w-full","h-full","object-fit-cover",3,"src"],[1,"pi","pi-book","text-6xl","text-400"],["alt","Photo de profil",1,"w-full","h-full","object-fit-cover",3,"src"],[1,"pi","pi-user","text-6xl","text-400"],[1,"p-error","block","text-center","mt-2"],[1,"p-error","block","mt-1"],[1,"flex","align-items-center","gap-3","p-3","bg-cyan-50"],[1,"pi","pi-user","text-cyan-600","text-3xl"],[1,"flex","align-items-center","gap-2"],["src","assets/demo/images/flag/flag_placeholder.png",2,"width","21px"],[1,"flex","align-items-center","gap-3","p-3","bg-orange-50"],[1,"pi","pi-map-marker","text-orange-600","text-3xl"],[1,"flex","align-items-center","gap-3","p-3","bg-indigo-50"],[1,"pi","pi-plane","text-indigo-600","text-3xl"],[4,"ngIf"],[1,"pi","pi-plane"],[1,"font-semibold"],[1,"text-500"],[1,"text-sm"],[1,"pi","pi-plane","text-primary"],[1,"surface-100","border-round","p-2","mb-3"],[1,"text-sm","font-semibold"],["severity","success","icon","pi pi-fingerprint",3,"value"],[1,"flex","align-items-center","gap-3"],[1,"pi","pi-fingerprint","text-4xl","text-primary"],[1,"text-xl","font-semibold","m-0"],[1,"surface-100","border-round","p-3","mb-4"],["size","large","shape","circle","styleClass","bg-primary",3,"label"],[1,"font-semibold","text-900","m-0"],[1,"text-600","text-sm","m-0"],[1,"surface-card","border-1","surface-border","border-round","p-4"],[1,"pi","pi-hand-pointer","text-2xl","text-cyan-500"],[1,"text-xs","m-0","mt-1"],["icon","pi pi-fingerprint","size","small",3,"label","outlined","loading"],[1,"border-round","overflow-hidden",3,"ngClass"],["alt","Empreinte main gauche","class","w-full h-full object-fit-contain",3,"src"],["class","mt-2 flex justify-content-center"],["alt","Empreinte main droite","class","w-full h-full object-fit-contain",3,"src"],[1,"pi","pi-thumbs-up","text-2xl","text-purple-500"],["icon","pi pi-fingerprint","severity","help","size","small",3,"label","outlined","loading"],["alt","Empreinte pouces","class","w-full h-full object-fit-contain",3,"src"],[1,"pi","pi-camera","text-2xl","text-green-500"],["severity","success","size","small",3,"label","icon","outlined","onClick"],["alt","Photo biom\xe9trique","class","w-full h-full object-fit-cover",3,"src"],[1,"mt-4","p-3","surface-100","border-round"],[1,"flex","align-items-center","justify-content-between","mb-2"],[1,"text-sm","font-semibold","text-900"],[1,"text-sm","text-600"],[3,"value","showValue"],["icon","pi pi-fingerprint","size","small",3,"label","outlined","loading","onClick"],["icon","pi pi-camera","size","small","severity","secondary",3,"label","outlined","onClick"],["alt","Empreinte main gauche",1,"w-full","h-full","object-fit-contain",3,"src"],[1,"pi","pi-image","text-6xl","text-400"],[1,"mt-2","flex","justify-content-center"],[3,"value","severity","icon"],["alt","Empreinte main droite",1,"w-full","h-full","object-fit-contain",3,"src"],["icon","pi pi-fingerprint","severity","help","size","small",3,"label","outlined","loading","onClick"],["icon","pi pi-camera","severity","secondary","size","small",3,"label","outlined","onClick"],["alt","Empreinte pouces",1,"w-full","h-full","object-fit-contain",3,"src"],["alt","Photo biom\xe9trique",1,"w-full","h-full","object-fit-cover",3,"src"],[1,"flex","justify-content-between","align-items-center","w-full"],["label","Annuler","icon","pi pi-times","severity","secondary",3,"outlined","onClick"],["label","Sauvegarder et Valider","icon","pi pi-check",3,"loading","disabled","onClick"],[1,"pi","pi-camera","text-3xl","text-primary"],["playsinline","","autoplay","",1,"w-full","h-full","object-fit-cover"],["videoElement",""],["alt","Aper\xe7u de la capture",1,"w-full","h-full","object-fit-contain","bg-black",3,"src"],[1,"flex","justify-content-center","gap-2","w-full"],["label","Capturer","icon","pi pi-camera","size","large"],["label","Capturer","icon","pi pi-camera","size","large",3,"onClick"],["label","Reprendre","icon","pi pi-refresh","severity","secondary",3,"onClick"],["label","Confirmer","icon","pi pi-check",3,"onClick"]],template:function(n,i){if(1&n&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div")(4,"h2",2),e._uU(5,"Nouvel Enregistrement"),e.qZA(),e.TgZ(6,"p",3),e._uU(7,"Compl\xe9tez les informations du passager"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"p-tag",5),e.qZA()()(),e.TgZ(10,"form",6,7),e.NdJ("ngSubmit",function(){return i.submitEnregistrement()}),e.TgZ(12,"p-card",8),e.YNc(13,Re,7,0,"ng-template",9),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label",14),e._uU(19," Document Recto "),e.TgZ(20,"span",15),e._uU(21,"*"),e.qZA()(),e._UZ(22,"p-tag",16),e.qZA(),e.TgZ(23,"div",17)(24,"div",18)(25,"div",19),e.YNc(26,Le,1,1,"img",20)(27,je,1,0),e.qZA()()(),e.TgZ(28,"div",21)(29,"p-button",22),e.NdJ("onClick",function(){return i.scannerDocumentAvecRegula("recto")}),e.qZA()(),e.YNc(30,Qe,3,1,"small",23),e.qZA()(),e.TgZ(31,"div",11)(32,"div",12)(33,"div",13)(34,"label",14),e._uU(35," Document Verso "),e.TgZ(36,"span",15),e._uU(37,"*"),e.qZA()(),e._UZ(38,"p-tag",16),e.qZA(),e.TgZ(39,"div",17)(40,"div",18)(41,"div",19),e.YNc(42,ze,1,1,"img",24)(43,Ye,1,0),e.qZA()()(),e.TgZ(44,"div",21)(45,"p-button",22),e.NdJ("onClick",function(){return i.scannerDocumentAvecRegula("verso")}),e.qZA()(),e.YNc(46,Ge,3,1,"small",23),e.qZA()(),e.TgZ(47,"div",11)(48,"div",12)(49,"div",13)(50,"label",14),e._uU(51," Photo de Profil "),e.TgZ(52,"span",15),e._uU(53,"*"),e.qZA()(),e._UZ(54,"p-tag",16),e.qZA(),e.TgZ(55,"div",25)(56,"div",26)(57,"div",27)(58,"div",28),e.YNc(59,He,1,1,"img",29)(60,Ke,1,0),e.qZA()()()(),e.YNc(61,$e,3,1,"small",30),e.qZA()(),e.TgZ(62,"div",31),e._UZ(63,"p-divider"),e.qZA(),e.TgZ(64,"div",32)(65,"label",33),e._uU(66," Type de document "),e.TgZ(67,"span",34),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"p-dropdown",35),e.NdJ("ngModelChange",function(a){return i.formData().typeDocument=a}),e.qZA(),e.YNc(70,Xe,2,1,"small",36),e.qZA(),e.TgZ(71,"div",32)(72,"label",37),e._uU(73," N\xb0 de document "),e.TgZ(74,"span",34),e._uU(75,"*"),e.qZA()(),e.TgZ(76,"input",38),e.NdJ("ngModelChange",function(a){return i.formData().numeroDocument=a}),e.qZA(),e.YNc(77,We,2,1,"small",36),e.qZA(),e.TgZ(78,"div",32)(79,"label",39),e._uU(80," Num\xe9ro NIP "),e.TgZ(81,"span",40),e._uU(82,"(Optionnel)"),e.qZA()(),e.TgZ(83,"input",41),e.NdJ("ngModelChange",function(a){return i.formData().numeroNip=a}),e.qZA()(),e.TgZ(84,"div",32)(85,"label",42),e._uU(86," Date de d\xe9livrance "),e.TgZ(87,"span",34),e._uU(88,"*"),e.qZA()(),e.TgZ(89,"p-calendar",43),e.NdJ("ngModelChange",function(a){return i.formData().dateDelivrance=a}),e.qZA(),e.YNc(90,et,2,1,"small",36),e.qZA(),e.TgZ(91,"div",32)(92,"label",44),e._uU(93," Lieu de d\xe9livrance "),e.TgZ(94,"span",34),e._uU(95,"*"),e.qZA()(),e.TgZ(96,"input",45),e.NdJ("ngModelChange",function(a){return i.formData().lieuDelivrance=a}),e.qZA(),e.YNc(97,tt,2,1,"small",36),e.qZA()()(),e.TgZ(98,"p-card",8),e.YNc(99,nt,7,0,"ng-template",9),e.TgZ(100,"div",10)(101,"div",11)(102,"label",46),e._uU(103," Nom de famille "),e.TgZ(104,"span",34),e._uU(105,"*"),e.qZA()(),e.TgZ(106,"input",47),e.NdJ("ngModelChange",function(a){return i.formData().nomFamille=a}),e.qZA(),e.YNc(107,it,2,1,"small",36),e.qZA(),e.TgZ(108,"div",11)(109,"label",48),e._uU(110," Pr\xe9nom "),e.TgZ(111,"span",34),e._uU(112,"*"),e.qZA()(),e.TgZ(113,"input",49),e.NdJ("ngModelChange",function(a){return i.formData().prenom=a}),e.qZA(),e.YNc(114,ot,2,1,"small",36),e.qZA(),e.TgZ(115,"div",11)(116,"label",50),e._uU(117," Date de naissance "),e.TgZ(118,"span",34),e._uU(119,"*"),e.qZA()(),e.TgZ(120,"p-calendar",51),e.NdJ("ngModelChange",function(a){return i.formData().dateNaissance=a}),e.qZA(),e.YNc(121,rt,2,1,"small",36),e.qZA(),e.TgZ(122,"div",11)(123,"label",52),e._uU(124," Lieu de naissance "),e.TgZ(125,"span",34),e._uU(126,"*"),e.qZA()(),e.TgZ(127,"input",53),e.NdJ("ngModelChange",function(a){return i.formData().lieuNaissance=a}),e.qZA(),e.YNc(128,at,2,1,"small",36),e.qZA(),e.TgZ(129,"div",11)(130,"label",54),e._uU(131," Nationalit\xe9 "),e.TgZ(132,"span",34),e._uU(133,"*"),e.qZA()(),e.TgZ(134,"p-dropdown",55),e.NdJ("ngModelChange",function(a){return i.selectedNationalite=a})("onChange",function(){return i.findNationalite(i.selectedNationalite)}),e.YNc(135,st,4,3,"ng-template",56),e.qZA()(),e.TgZ(136,"div",11)(137,"label",57),e._uU(138," Profession "),e.TgZ(139,"span",34),e._uU(140,"*"),e.qZA()(),e.TgZ(141,"input",58),e.NdJ("ngModelChange",function(a){return i.formData().profession=a}),e.qZA(),e.YNc(142,lt,2,1,"small",36),e.qZA()()(),e.TgZ(143,"p-card",8),e.YNc(144,pt,7,0,"ng-template",9),e.TgZ(145,"div",10)(146,"div",11)(147,"label",59),e._uU(148," Pays de r\xe9sidence "),e.TgZ(149,"span",34),e._uU(150,"*"),e.qZA()(),e.TgZ(151,"p-dropdown",60),e.NdJ("ngModelChange",function(a){return i.selectedCountry=a})("onChange",function(){return i.findPays(i.selectedCountry)}),e.YNc(152,ct,4,3,"ng-template",56),e.qZA()(),e.TgZ(153,"div",11)(154,"label",61),e._uU(155," Email "),e.TgZ(156,"span",40),e._uU(157,"(Optionnel)"),e.qZA()(),e.TgZ(158,"div",62)(159,"span",63),e._UZ(160,"i",64),e.qZA(),e.TgZ(161,"input",65),e.NdJ("ngModelChange",function(a){return i.formData().emailContact=a}),e.qZA()()(),e.TgZ(162,"div",11)(163,"label",66),e._uU(164," T\xe9l\xe9phone Burkina "),e.TgZ(165,"span",40),e._uU(166,"(Optionnel)"),e.qZA()(),e.TgZ(167,"div",62)(168,"span",63),e._UZ(169,"i",67),e.qZA(),e.TgZ(170,"p-inputMask",68),e.NdJ("ngModelChange",function(a){return i.formData().telephoneBurkina=a}),e.qZA()()(),e.TgZ(171,"div",11)(172,"label",69),e._uU(173," T\xe9l\xe9phone \xc9tranger "),e.TgZ(174,"span",40),e._uU(175,"(Optionnel)"),e.qZA()(),e.TgZ(176,"div",62)(177,"span",63),e._UZ(178,"i",67),e.qZA(),e.TgZ(179,"input",70),e.NdJ("ngModelChange",function(a){return i.formData().telephoneEtranger=a}),e.qZA()()(),e.TgZ(180,"div",11)(181,"label",71),e._uU(182," Adresse au Burkina "),e.TgZ(183,"span",34),e._uU(184,"*"),e.qZA()(),e.TgZ(185,"textarea",72),e.NdJ("ngModelChange",function(a){return i.formData().adresseBurkina=a}),e._uU(186,"        "),e.qZA(),e.YNc(187,ut,2,1,"small",36),e.qZA(),e.TgZ(188,"div",11)(189,"label",73),e._uU(190," Adresse \xe0 l'\xe9tranger "),e.TgZ(191,"span",34),e._uU(192,"*"),e.qZA()(),e.TgZ(193,"textarea",74),e.NdJ("ngModelChange",function(a){return i.formData().adresseEtranger=a}),e._uU(194,"        "),e.qZA(),e.YNc(195,dt,2,1,"small",36),e.qZA()()(),e.TgZ(196,"p-card",8),e.YNc(197,mt,7,0,"ng-template",9),e.TgZ(198,"div",10)(199,"div",75)(200,"label",76),e._uU(201," Vol "),e.TgZ(202,"span",34),e._uU(203,"*"),e.qZA()(),e.TgZ(204,"p-dropdown",77),e.NdJ("ngModelChange",function(a){return i.formData().volId=a})("onChange",function(a){return i.onVolSelectionChange(a.value)}),e.YNc(205,_t,1,1,"ng-template",78)(206,bt,9,2,"ng-template",56),e.qZA(),e.YNc(207,Tt,2,1,"small",36),e.qZA(),e.TgZ(208,"div",32)(209,"label",79),e._uU(210," Motif du voyage "),e.TgZ(211,"span",34),e._uU(212,"*"),e.qZA()(),e.TgZ(213,"p-dropdown",80),e.NdJ("ngModelChange",function(a){return i.formData().motifVoyage=a}),e.qZA(),e.YNc(214,yt,2,1,"small",36),e.qZA(),e.TgZ(215,"div",32)(216,"label",81),e._uU(217," \xc9tat du voyage "),e.TgZ(218,"span",34),e._uU(219,"*"),e.qZA()(),e.TgZ(220,"p-dropdown",82),e.NdJ("ngModelChange",function(a){return i.formData().etatVoyage=a}),e.qZA()(),e.TgZ(221,"div",32)(222,"label",83),e._uU(223," Dur\xe9e du s\xe9jour "),e.TgZ(224,"span",34),e._uU(225,"*"),e.qZA()(),e.TgZ(226,"p-inputNumber",84),e.NdJ("ngModelChange",function(a){return i.formData().dureeSejour=a}),e.qZA(),e.YNc(227,Et,2,1,"small",36),e.qZA()()(),e.TgZ(228,"div",85)(229,"div",86)(230,"p-button",87),e.NdJ("onClick",function(){return i.resetForm()}),e.qZA(),e.TgZ(231,"div",4),e._UZ(232,"p-button",88)(233,"p-button",89),e.qZA()()()(),e.TgZ(234,"p-dialog",90),e.NdJ("onHide",function(){return i.isCaptureBiometriqueModalOpen.set(!1)}),e.YNc(235,Zt,14,4,"ng-template",9)(236,Lt,89,35)(237,jt,3,3,"ng-template",91),e.qZA(),e.TgZ(238,"p-dialog",90),e.NdJ("onHide",function(){return i.isCameraModalOpen.set(!1)}),e.YNc(239,Qt,7,0,"ng-template",9),e.TgZ(240,"div",92)(241,"div",93)(242,"div",94),e.YNc(243,zt,2,0,"video",95)(244,Yt,1,1),e.qZA()(),e._UZ(245,"canvas",96,97),e.qZA(),e.YNc(247,Kt,3,1,"ng-template",91),e.qZA(),e._UZ(248,"app-loading-spinner")(249,"p-confirmDialog")),2&n){let r;e.xp6(9),e.Q6J("rounded",!0),e.xp6(13),e.Q6J("value",i.rectoPreview()?"Captur\xe9":"En attente")("severity",i.rectoPreview()?"success":"warning")("rounded",!0),e.xp6(1),e.Q6J("ngClass",i.rectoPreview()?"border-2 border-green-500":"border-2 border-300"),e.xp6(3),e.um2(26,i.rectoPreview()?26:27),e.xp6(3),e.Q6J("outlined",!0)("disabled",i.isScanning())("loading",i.isScanning()),e.xp6(1),e.um2(30,i.formErrors().imageRecto?30:-1),e.xp6(8),e.Q6J("value",i.versoPreview()?"Captur\xe9":"En attente")("severity",i.versoPreview()?"success":"warning")("rounded",!0),e.xp6(1),e.Q6J("ngClass",i.versoPreview()?"border-2 border-green-500":"border-2 border-300"),e.xp6(3),e.um2(42,i.versoPreview()?42:43),e.xp6(3),e.Q6J("outlined",!0)("disabled",i.isScanning())("loading",i.isScanning()),e.xp6(1),e.um2(46,i.formErrors().imageVerso?46:-1),e.xp6(8),e.Q6J("value",i.profilPreview()?"Captur\xe9":"En attente")("severity",i.profilPreview()?"success":"warning")("rounded",!0),e.xp6(3),e.Q6J("ngClass",i.profilPreview()?"border-3 border-green-500":"border-3 border-300"),e.xp6(2),e.um2(59,i.profilPreview()?59:60),e.xp6(2),e.um2(61,i.formErrors().photoProfil?61:-1),e.xp6(8),e.Tol(i.formErrors().typeDocument?"ng-invalid ng-dirty":""),e.Q6J("options",i.typesDocument)("ngModel",i.formData().typeDocument),e.xp6(1),e.um2(70,i.formErrors().typeDocument?70:-1),e.xp6(6),e.Tol(i.formErrors().numeroDocument?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().numeroDocument),e.xp6(1),e.um2(77,i.formErrors().numeroDocument?77:-1),e.xp6(6),e.Q6J("ngModel",i.formData().numeroNip),e.xp6(6),e.Tol(i.formErrors().dateDelivrance?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().dateDelivrance)("showIcon",!0)("iconDisplay","input"),e.xp6(1),e.um2(90,i.formErrors().dateDelivrance?90:-1),e.xp6(6),e.Tol(i.formErrors().lieuDelivrance?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().lieuDelivrance),e.xp6(1),e.um2(97,i.formErrors().lieuDelivrance?97:-1),e.xp6(9),e.Tol(i.formErrors().nomFamille?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().nomFamille),e.xp6(1),e.um2(107,i.formErrors().nomFamille?107:-1),e.xp6(6),e.Tol(i.formErrors().prenom?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().prenom),e.xp6(1),e.um2(114,i.formErrors().prenom?114:-1),e.xp6(6),e.Tol(i.formErrors().dateNaissance?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().dateNaissance)("showIcon",!0)("iconDisplay","input"),e.xp6(1),e.um2(121,i.formErrors().dateNaissance?121:-1),e.xp6(6),e.Tol(i.formErrors().lieuNaissance?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().lieuNaissance),e.xp6(1),e.um2(128,i.formErrors().lieuNaissance?128:-1),e.xp6(6),e.Q6J("options",i.nationalites)("ngModelOptions",e.DdM(133,K))("ngModel",i.selectedNationalite)("showClear",!0)("filter",!0),e.xp6(7),e.Tol(i.formErrors().profession?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().profession),e.xp6(1),e.um2(142,i.formErrors().profession?142:-1),e.xp6(9),e.Q6J("options",i.countries)("ngModelOptions",e.DdM(134,K))("ngModel",i.selectedCountry)("showClear",!0)("filter",!0),e.xp6(10),e.Tol(i.formErrors().emailContact?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().emailContact),e.xp6(9),e.Tol(i.formErrors().telephoneBurkina?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().telephoneBurkina),e.xp6(9),e.Q6J("ngModel",i.formData().telephoneEtranger),e.xp6(6),e.Tol(i.formErrors().adresseBurkina?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().adresseBurkina),e.xp6(2),e.um2(187,i.formErrors().adresseBurkina?187:-1),e.xp6(6),e.Tol(i.formErrors().adresseEtranger?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().adresseEtranger),e.xp6(2),e.um2(195,i.formErrors().adresseEtranger?195:-1),e.xp6(9),e.Tol(i.formErrors().volId?"ng-invalid ng-dirty":""),e.Q6J("options",i.volList())("ngModel",i.formData().volId)("filter",!0),e.xp6(3),e.um2(207,i.formErrors().volId?207:-1),e.xp6(6),e.Tol(i.formErrors().motifVoyage?"ng-invalid ng-dirty":""),e.Q6J("options",i.motifs())("ngModel",i.formData().motifVoyage),e.xp6(1),e.um2(214,i.formErrors().motifVoyage?214:-1),e.xp6(6),e.Q6J("options",i.etatsVoyage)("ngModel",i.formData().etatVoyage),e.xp6(6),e.Tol(i.formErrors().dureeSejour?"ng-invalid ng-dirty":""),e.Q6J("ngModel",i.formData().dureeSejour)("min",1)("max",365)("showButtons",!0),e.xp6(1),e.um2(227,i.formErrors().dureeSejour?227:-1),e.xp6(3),e.Q6J("outlined",!0),e.xp6(2),e.Q6J("outlined",!0),e.xp6(1),e.Q6J("loading",i.isSaving()),e.xp6(1),e.Akn(e.DdM(135,$t)),e.Q6J("visible",i.isCaptureBiometriqueModalOpen())("modal",!0)("closable",!0)("breakpoints",e.DdM(136,Xt))("draggable",!1)("resizable",!1),e.xp6(2),e.um2(236,(r=i.passagerPourBiometrie())?236:-1,r),e.xp6(2),e.Akn(e.DdM(137,Wt)),e.Q6J("visible",i.isCameraModalOpen())("modal",!0)("closable",!0)("breakpoints",e.DdM(138,en))("draggable",!1)("resizable",!1),e.xp6(5),e.um2(243,i.capturedPhotoBase64()?244:243)}},dependencies:[m.ez,m.mk,m.O5,T.u5,T._Y,T.Fj,T.JJ,T.JL,T.On,T.F,_.d,_.Z,f.jx,v.L,M.j,M.o,P.A,P.g,N.L$,N.Rn,oe,V,J.kW,J.Lt,O._8,O.f,R.zx,R.hJ,L.S,L.V,Ze,j.EV,j.FN,Q.D,Q.Q,we.g,Y.F,Y.q,G.q,G.k,Ue,ke,H.W,H.V],encapsulation:2})}return o})()},3983:(k,w,l)=>{l.d(w,{p:()=>T});var p=l(9212),e=l(4713),m=l(2332);let T=(()=>{class C extends e.s{pathId;ngOnInit(){this.pathId="url(#"+(0,m.Th)()+")"}static \u0275fac=(()=>{let E;return function(h){return(E||(E=p.n5z(C)))(h||C)}})();static \u0275cmp=p.Xpm({type:C,selectors:[["PlusIcon"]],standalone:!0,features:[p.qOj,p.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(f,h){1&f&&(p.O4$(),p.TgZ(0,"svg",0)(1,"g"),p._UZ(2,"path",1),p.qZA(),p.TgZ(3,"defs")(4,"clipPath",2),p._UZ(5,"rect",3),p.qZA()()()),2&f&&(p.Tol(h.getClassNames()),p.uIk("aria-label",h.ariaLabel)("aria-hidden",h.ariaHidden)("role",h.role),p.xp6(1),p.uIk("clip-path",h.pathId),p.xp6(3),p.Q6J("id",h.pathId))},encapsulation:2})}return C})()},6218:(k,w,l)=>{l.d(w,{A:()=>C,g:()=>T});var p=l(9212),e=l(6814),m=l(95);let T=(()=>{class y{el;ngModel;control;cd;autoResize;onResize=new p.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(f,h,x,D){this.el=f,this.ngModel=h,this.control=x,this.cd=D}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(f){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(f){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(f||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(h){return new(h||y)(p.Y36(p.SBq),p.Y36(m.On,8),p.Y36(m.a5,8),p.Y36(p.sBO))};static \u0275dir=p.lG2({type:y,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(h,x){1&h&&p.NdJ("input",function(u){return x.onInput(u)}),2&h&&p.ekj("p-filled",x.filled)("p-inputtextarea-resizable",x.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return y})(),C=(()=>{class y{static \u0275fac=function(h){return new(h||y)};static \u0275mod=p.oAB({type:y});static \u0275inj=p.cJS({imports:[e.ez]})}return y})()},6651:(k,w,l)=>{l.d(w,{k:()=>x,q:()=>D});var p=l(6814),e=l(9212),m=l(5219);function T(u,Z){if(1&u&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&u){const d=e.oxw(2);e.Udp("display",null!=d.value&&0!==d.value?"flex":"none"),e.uIk("data-pc-section","label"),e.xp6(1),e.AsE("",d.value,"",d.unit,"")}}function C(u,Z){1&u&&e.GkF(0)}const y=u=>({$implicit:u});function E(u,Z){if(1&u&&(e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,T,2,5,"div",5)(3,C,1,0,"ng-container",6),e.qZA()()),2&u){const d=e.oxw();e.Udp("width",d.value+"%")("background",d.color),e.uIk("data-pc-section","value"),e.xp6(2),e.Q6J("ngIf",d.showValue&&!d.contentTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",d.contentTemplate)("ngTemplateOutletContext",e.VKq(8,y,d.value))}}function f(u,Z){if(1&u&&(e.TgZ(0,"div",7),e._UZ(1,"div",8),e.qZA()),2&u){const d=e.oxw();e.uIk("data-pc-section","container"),e.xp6(1),e.Udp("background",d.color),e.uIk("data-pc-section","value")}}const h=(u,Z)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":u,"p-progressbar-indeterminate":Z});let x=(()=>{class u{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(d=>{d.getType(),this.contentTemplate=d.template})}static \u0275fac=function(_){return new(_||u)};static \u0275cmp=e.Xpm({type:u,selectors:[["p-progressBar"]],contentQueries:function(_,v,M){if(1&_&&e.Suo(M,m.jx,4),2&_){let P;e.iGM(P=e.CRH())&&(v.templates=P)}},hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width","background",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],[1,"p-progressbar-label"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(_,v){1&_&&(e.TgZ(0,"div",0),e.YNc(1,E,4,10,"div",1)(2,f,2,4,"div",2),e.qZA()),2&_&&(e.Tol(v.styleClass),e.Q6J("ngStyle",v.style)("ngClass",e.WLB(11,h,"determinate"===v.mode,"indeterminate"===v.mode)),e.uIk("aria-valuemin",0)("aria-valuenow",v.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),e.xp6(1),e.Q6J("ngIf","determinate"===v.mode),e.xp6(1),e.Q6J("ngIf","indeterminate"===v.mode))},dependencies:[p.mk,p.O5,p.tP,p.PC],styles:['@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})}return u})(),D=(()=>{class u{static \u0275fac=function(_){return new(_||u)};static \u0275mod=e.oAB({type:u});static \u0275inj=e.cJS({imports:[p.ez]})}return u})()},6263:(k,w,l)=>{l.d(w,{V:()=>x,W:()=>D});var p=l(6814),e=l(9212),m=l(5219);function T(u,Z){if(1&u&&e._UZ(0,"span",5),2&u){const d=e.oxw(2);e.Q6J("ngClass",d.icon)}}function C(u,Z){if(1&u&&(e.ynx(0),e.YNc(1,T,1,1,"span",4),e.BQk()),2&u){const d=e.oxw();e.xp6(1),e.Q6J("ngIf",d.icon)}}function y(u,Z){}function E(u,Z){1&u&&e.YNc(0,y,0,0,"ng-template")}function f(u,Z){if(1&u&&(e.TgZ(0,"span",6),e.YNc(1,E,1,0,null,7),e.qZA()),2&u){const d=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",d.iconTemplate)}}const h=["*"];let x=(()=>{class u{style;styleClass;severity;value;icon;rounded;templates;iconTemplate;ngAfterContentInit(){this.templates?.forEach(d=>{"icon"===d.getType()&&(this.iconTemplate=d.template)})}containerClass(){return{"p-tag p-component":!0,"p-tag-info":"info"===this.severity,"p-tag-success":"success"===this.severity,"p-tag-warning":"warning"===this.severity,"p-tag-danger":"danger"===this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(_){return new(_||u)};static \u0275cmp=e.Xpm({type:u,selectors:[["p-tag"]],contentQueries:function(_,v,M){if(1&_&&e.Suo(M,m.jx,4),2&_){let P;e.iGM(P=e.CRH())&&(v.templates=P)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:"rounded"},ngContentSelectors:h,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(_,v){1&_&&(e.F$t(),e.TgZ(0,"span",0),e.Hsn(1),e.YNc(2,C,2,1,"ng-container",1)(3,f,2,1,"span",2),e.TgZ(4,"span",3),e._uU(5),e.qZA()()),2&_&&(e.Tol(v.styleClass),e.Q6J("ngClass",v.containerClass())("ngStyle",v.style),e.xp6(2),e.Q6J("ngIf",!v.iconTemplate),e.xp6(1),e.Q6J("ngIf",v.iconTemplate),e.xp6(2),e.Oqu(v.value))},dependencies:[p.mk,p.O5,p.tP,p.PC],styles:["@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}\n"],encapsulation:2,changeDetection:0})}return u})(),D=(()=>{class u{static \u0275fac=function(_){return new(_||u)};static \u0275mod=e.oAB({type:u});static \u0275inj=e.cJS({imports:[p.ez,m.m8,m.m8]})}return u})()}}]);