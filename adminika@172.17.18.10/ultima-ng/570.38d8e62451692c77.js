"use strict";(self.webpackChunkultima_ng=self.webpackChunkultima_ng||[]).push([[570],{8570:(Ge,b,s)=>{s.r(b),s.d(b,{PreEnregistrementComponent:()=>Ye});var k=s(5861),e=s(9212),x=s(6814),m=s(1993),l=s(95),F=s(5961),U=s(4221),_=s(5219),A=s(3620),h=s(2181),D=s(2173),N=s(3855),q=s(7703),I=s(5183),V=s(9788),p=s(2793),L=s(7538),R=s(7744),z=s(6033),j=s(8504),J=s(9397),B=s(7398),Y=s(6306),$=s(9862);let G=(()=>{class o{constructor(t){this.http=t}verifyDocument(t){const n=new FormData;n.append("file",t);const r="api/documents/process";return console.log("\u{1f504} Appel Regula vers:",r),this.http.post(r,n).pipe((0,J.b)(a=>{console.log("\u{1f4e5} R\xe9ponse brute du backend:",a),console.log("\u{1f4e5} Type de r\xe9ponse:",typeof a),console.log("\u{1f4e5} Cl\xe9s disponibles:",Object.keys(a))}),(0,B.U)(a=>a),(0,Y.K)(this.handleError))}handleError(t){console.error("\u274c Erreur RegulaService:",t),console.error("\u274c Status:",t.status),console.error("\u274c Error body:",t.error);let n="Erreur lors de la lecture du document";return t.error?.message?n=t.error.message:t.message?n=t.message:403===t.status?n="Probl\xe8me de licence Regula":500===t.status&&(n="Erreur serveur lors du traitement du document"),(0,j._)(()=>new Error(n))}static#e=this.\u0275fac=function(n){return new(n||o)(e.LFG($.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Q=s(6821),v=s(4532),H=s(7791),P=s(3714),y=s(9653),T=s(3965),Z=s(3506),O=s(707),M=s(4104),w=s(3668),K=s(8602),X=s(5261);function W(o,i){1&o&&e._UZ(0,"app-loading-spinner")}function ee(o,i){1&o&&e._UZ(0,"i",31)}function te(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"1"),e.qZA())}function ne(o,i){1&o&&e._UZ(0,"i",31)}function oe(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"2"),e.qZA())}function re(o,i){1&o&&e._UZ(0,"i",31)}function ie(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"3"),e.qZA())}function ae(o,i){1&o&&e._UZ(0,"i",31)}function se(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1,"4"),e.qZA())}const f=(o,i)=>i.key;function le(o,i){1&o&&(e.TgZ(0,"small",51),e._UZ(1,"i",52),e._uU(2),e.qZA()),2&o&&(e.xp6(2),e.hij("",i," "))}function pe(o,i){1&o&&(e.TgZ(0,"div",53),e._UZ(1,"img",54),e.TgZ(2,"div",55),e._UZ(3,"i",11),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("src",i,e.LSH))}function ce(o,i){1&o&&(e.TgZ(0,"small",51),e._uU(1),e.qZA()),2&o&&(e.xp6(1),e.Oqu(i))}function de(o,i){1&o&&(e.TgZ(0,"div",53),e._UZ(1,"img",56),e.TgZ(2,"div",55),e._UZ(3,"i",11),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("src",i,e.LSH))}function me(o,i){1&o&&(e.TgZ(0,"small",51),e._uU(1),e.qZA()),2&o&&(e.xp6(1),e.Oqu(i))}function ue(o,i){1&o&&(e.TgZ(0,"div",53),e._UZ(1,"img",57),e.TgZ(2,"div",55),e._UZ(3,"i",11),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("src",i,e.LSH))}function ge(o,i){1&o&&(e.TgZ(0,"small",51),e._uU(1),e.qZA()),2&o&&(e.xp6(1),e.Oqu(i))}function fe(o,i){1&o&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function _e(o,i){if(1&o&&e._UZ(0,"input",61),2&o){const t=e.oxw(2).$implicit;e.Q6J("id",t.key)("formControlName",t.key)("placeholder",t.placeholder)}}function he(o,i){if(1&o&&e._UZ(0,"p-calendar",62),2&o){const t=e.oxw(2).$implicit;e.Q6J("inputId",t.key)("formControlName",t.key)("showIcon",!0)("placeholder",t.placeholder)}}function Ce(o,i){1&o&&(e.TgZ(0,"small",51),e._UZ(1,"i",52),e._uU(2),e.qZA()),2&o&&(e.xp6(2),e.hij("",i," "))}function be(o,i){if(1&o&&(e.TgZ(0,"div")(1,"label",59),e._UZ(2,"i"),e._uU(3),e.YNc(4,fe,2,0,"span",60),e.qZA(),e.YNc(5,_e,1,3)(6,he,1,4)(7,Ce,3,1,"small",42),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(2);let r;e.Tol("col-12 md:col-"+t.cols),e.xp6(1),e.Q6J("for",t.key),e.xp6(1),e.Tol(t.icon+" mr-2"),e.xp6(1),e.hij("",t.label," "),e.xp6(1),e.um2(4,t.required?4:-1),e.xp6(1),e.um2(5,"text"===(r=t.type)?5:"date"===r?6:-1),e.xp6(2),e.um2(7,(r=n.getFieldError(t.key))?7:-1,r)}}function xe(o,i){if(1&o&&e.YNc(0,be,8,9,"div",58),2&o){const t=i.$implicit,n=e.oxw(2);e.um2(0,"numeroNip"!==t.key||n.shouldShowNipField()?0:-1)}}function ve(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"div",34),e._UZ(3,"i",35),e.qZA(),e.TgZ(4,"div")(5,"h2"),e._uU(6,"Document d'Identit\xe9"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"T\xe9l\xe9chargez votre pi\xe8ce d'identit\xe9 pour commencer"),e.qZA()()(),e.TgZ(9,"div",36)(10,"div",37)(11,"label",38),e._UZ(12,"i",39),e._uU(13,"Type de document "),e.TgZ(14,"span",40),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"p-dropdown",41),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onTypeDocumentChange(r.value))}),e.qZA(),e.YNc(17,le,3,1,"small",42),e.qZA()(),e.TgZ(18,"div",36)(19,"div",43)(20,"label",44),e._UZ(21,"i",45),e._uU(22,"Image recto "),e.TgZ(23,"span",40),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"p-fileUpload",46),e.NdJ("onSelect",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onFileSelect(r,"imageRecto"))}),e.qZA(),e.YNc(26,pe,4,1,"div",47)(27,ce,2,1,"small",42),e.qZA(),e.TgZ(28,"div",43)(29,"label",44),e._UZ(30,"i",45),e._uU(31,"Image verso "),e.TgZ(32,"span",40),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"p-fileUpload",46),e.NdJ("onSelect",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onFileSelect(r,"imageVerso"))}),e.qZA(),e.YNc(35,de,4,1,"div",47)(36,me,2,1,"small",42),e.qZA(),e.TgZ(37,"div",43)(38,"label",44),e._UZ(39,"i",48),e._uU(40,"Photo de profil "),e.TgZ(41,"span",40),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"p-fileUpload",49),e.NdJ("onSelect",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onFileSelect(r,"photoProfil"))}),e.qZA(),e.YNc(44,ue,4,1,"div",47)(45,ge,2,1,"small",42),e.qZA()(),e.TgZ(46,"div",50),e.SjG(47,xe,1,1,null,null,f),e.qZA()()}if(2&o){const t=e.oxw();let n;e.xp6(16),e.Q6J("options",t.typeDocuments),e.xp6(1),e.um2(17,(n=t.getFieldError("typeDocument"))?17:-1,n),e.xp6(8),e.Q6J("auto",!0)("maxFileSize",5e6)("showUploadButton",!1)("showCancelButton",!1),e.xp6(1),e.um2(26,(n=t.getImagePreview("imageRecto"))?26:-1,n),e.xp6(1),e.um2(27,(n=t.getFieldError("imageRecto"))?27:-1,n),e.xp6(7),e.Q6J("auto",!0)("maxFileSize",5e6)("showUploadButton",!1)("showCancelButton",!1),e.xp6(1),e.um2(35,(n=t.getImagePreview("imageVerso"))?35:-1,n),e.xp6(1),e.um2(36,(n=t.getFieldError("imageVerso"))?36:-1,n),e.xp6(7),e.Q6J("auto",!0)("maxFileSize",5e6)("showUploadButton",!1)("showCancelButton",!1),e.xp6(1),e.um2(44,(n=t.getImagePreview("photoProfil"))?44:-1,n),e.xp6(1),e.um2(45,(n=t.getFieldError("photoProfil"))?45:-1,n),e.xp6(2),e.wJu(t.getDocumentFields())}}const Pe=o=>({"p-disabled":o});function ye(o,i){if(1&o&&e._UZ(0,"input",64),2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.Q6J("id",t.key)("formControlName",t.key)("placeholder",t.placeholder)("readonly","nationalite"===t.key&&n.isCniDocument())("ngClass",e.VKq(5,Pe,"nationalite"===t.key&&n.isCniDocument()))}}function Te(o,i){if(1&o&&e._UZ(0,"p-calendar",62),2&o){const t=e.oxw().$implicit;e.Q6J("inputId",t.key)("formControlName",t.key)("showIcon",!0)("placeholder",t.placeholder)}}function Ze(o,i){1&o&&(e.TgZ(0,"small",51),e._UZ(1,"i",52),e._uU(2),e.qZA()),2&o&&(e.xp6(2),e.hij("",i," "))}function Oe(o,i){if(1&o&&(e.TgZ(0,"div")(1,"label",59),e._UZ(2,"i"),e._uU(3),e.TgZ(4,"span",40),e._uU(5,"*"),e.qZA()(),e.YNc(6,ye,1,7)(7,Te,1,4)(8,Ze,3,1,"small",42),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(2);let r;e.Tol("col-12 md:col-"+t.cols),e.xp6(1),e.Q6J("for",t.key),e.xp6(1),e.Tol(t.icon+" mr-2"),e.xp6(1),e.hij("",t.label," "),e.xp6(3),e.um2(6,"text"===(r=t.type)?6:"date"===r?7:-1),e.xp6(2),e.um2(8,(r=n.getFieldError(t.key))?8:-1,r)}}function Me(o,i){if(1&o&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34),e._UZ(3,"i",63),e.qZA(),e.TgZ(4,"div")(5,"h2"),e._uU(6,"Informations Personnelles"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Vos donn\xe9es personnelles"),e.qZA()()(),e.TgZ(9,"div",50),e.SjG(10,Oe,9,8,"div",58,f),e.qZA()()),2&o){const t=e.oxw();e.xp6(10),e.wJu(t.getPersonalFields())}}function we(o,i){1&o&&(e.TgZ(0,"span",40),e._uU(1,"*"),e.qZA())}function Ee(o,i){if(1&o&&e._UZ(0,"p-dropdown",66),2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.Q6J("inputId",t.key)("formControlName",t.key)("options",n.countries())("placeholder",t.placeholder)("filter",!0)}}function Se(o,i){if(1&o&&e._UZ(0,"input",67),2&o){const t=e.oxw().$implicit;e.Q6J("id",t.key)("type",t.inputType||"text")("formControlName",t.key)("placeholder",t.placeholder)}}function ke(o,i){1&o&&(e.TgZ(0,"small",51),e._UZ(1,"i",52),e._uU(2),e.qZA()),2&o&&(e.xp6(2),e.hij("",i," "))}function Fe(o,i){if(1&o&&(e.TgZ(0,"div")(1,"label",59),e._UZ(2,"i"),e._uU(3),e.YNc(4,we,2,0,"span",60),e.qZA(),e.YNc(5,Ee,1,5,"p-dropdown",66)(6,Se,1,4)(7,ke,3,1,"small",42),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(2);let r;e.Tol("col-12 md:col-"+t.cols),e.xp6(1),e.Q6J("for",t.key),e.xp6(1),e.Tol(t.icon+" mr-2"),e.xp6(1),e.hij("",t.label," "),e.xp6(1),e.um2(4,t.required?4:-1),e.xp6(1),e.um2(5,"dropdown"===t.type?5:6),e.xp6(2),e.um2(7,(r=n.getFieldError(t.key))?7:-1,r)}}function Ue(o,i){if(1&o&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34),e._UZ(3,"i",65),e.qZA(),e.TgZ(4,"div")(5,"h2"),e._uU(6,"Coordonn\xe9es de Contact"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Comment vous joindre ?"),e.qZA()()(),e.TgZ(9,"div",50),e.SjG(10,Fe,8,9,"div",58,f),e.qZA()()),2&o){const t=e.oxw();e.xp6(10),e.wJu(t.contactFields)}}function Ae(o,i){if(1&o&&(e.TgZ(0,"div",74),e._UZ(1,"i",75),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&o){const t=i.$implicit;e.xp6(3),e.AsE("",t.numero," - ",t.compagnie.nomCompagine,"")}}function De(o,i){1&o&&(e.TgZ(0,"small",51),e._UZ(1,"i",52),e._uU(2),e.qZA()),2&o&&(e.xp6(2),e.hij("",i," "))}const E=()=>[];function Ne(o,i){if(1&o&&e._UZ(0,"p-dropdown",76),2&o){const t=e.oxw(2).$implicit;e.Q6J("inputId",t.key)("formControlName",t.key)("options",t.options||e.DdM(4,E))("placeholder",t.placeholder)}}function qe(o,i){if(1&o&&e._UZ(0,"p-dropdown",77),2&o){const t=e.oxw(2).$implicit;e.Q6J("inputId",t.key)("formControlName",t.key)("options",t.options||e.DdM(4,E))("placeholder",t.placeholder)}}function Ie(o,i){if(1&o&&e.YNc(0,Ne,1,5,"p-dropdown",76)(1,qe,1,5),2&o){const t=e.oxw().$implicit;e.um2(0,"motifVoyage"===t.key?0:1)}}function Ve(o,i){if(1&o&&e._UZ(0,"p-inputNumber",78),2&o){const t=e.oxw().$implicit;e.Q6J("inputId",t.key)("formControlName",t.key)("placeholder",t.placeholder)("min",1)("showButtons",!0)}}function Le(o,i){1&o&&(e.TgZ(0,"small",51),e._UZ(1,"i",52),e._uU(2),e.qZA()),2&o&&(e.xp6(2),e.hij("",i," "))}function Re(o,i){if(1&o&&(e.TgZ(0,"div")(1,"label",59),e._UZ(2,"i"),e._uU(3),e.TgZ(4,"span",40),e._uU(5,"*"),e.qZA()(),e.YNc(6,Ie,2,1)(7,Ve,1,5)(8,Le,3,1,"small",42),e.qZA()),2&o){const t=i.$implicit,n=e.oxw(2);let r;e.Tol("col-12 md:col-"+t.cols),e.xp6(1),e.Q6J("for",t.key),e.xp6(1),e.Tol(t.icon+" mr-2"),e.xp6(1),e.hij("",t.label," "),e.xp6(3),e.um2(6,"dropdown"===(r=t.type)?6:"number"===r?7:-1),e.xp6(2),e.um2(8,(r=n.getFieldError(t.key))?8:-1,r)}}function ze(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"div",34),e._UZ(3,"i",68),e.qZA(),e.TgZ(4,"div")(5,"h2"),e._uU(6,"Informations de Voyage"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"D\xe9tails de votre vol"),e.qZA()()(),e.TgZ(9,"div",50)(10,"div",69)(11,"label",70),e._UZ(12,"i",71),e._uU(13,"Vol "),e.TgZ(14,"span",40),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"p-dropdown",72),e.NdJ("onChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onVolSelectionChange(r.value))}),e.YNc(17,Ae,4,2,"ng-template",73),e.qZA(),e.YNc(18,De,3,1,"small",42),e.qZA(),e.SjG(19,Re,9,8,"div",58,f),e.qZA()()}if(2&o){const t=e.oxw();let n;e.xp6(16),e.Q6J("options",t.volList())("filter",!0),e.xp6(2),e.um2(18,(n=t.getFieldError("volId"))?18:-1,n),e.xp6(1),e.wJu(t.travelFields)}}function je(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",79),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.previousStep())}),e.qZA()}}function Je(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",80),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.nextStep())}),e.qZA()}}function Be(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",81),e.NdJ("onClick",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.submitEnregistrement())}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("loading",t.isSaving())("disabled",t.enregistrementForm.invalid)}}let Ye=(()=>{class o{constructor(){this.fb=(0,e.f3M)(l.qu),this.store=(0,e.f3M)(U.yh),this.messageService=(0,e.f3M)(_.ez),this.regulaService=(0,e.f3M)(G),this.countryService=(0,e.f3M)(R.T),this.nationaliteService=(0,e.f3M)(z.H),this.router=(0,e.f3M)(F.F0),this.destroyRef=(0,e.f3M)(e.ktI),this.loading=(0,e.tdS)(!1),this.isSaving=(0,e.tdS)(!1),this.countries=(0,e.tdS)([]),this.nationalites=(0,e.tdS)([]),this.volList=(0,e.tdS)([]),this.selectedVolInfo=(0,e.tdS)(null),this.currentDocumentType=(0,e.tdS)(p.u4.CNI),this.currentStep=(0,e.tdS)(1),this.hasErrors=(0,e.Flj)(()=>this.enregistrementForm?.invalid??!1),this.typeDocuments=[{label:"Passeport",value:p.u4.PASSEPORT},{label:"Carte d'Identit\xe9",value:p.u4.CNI}],this.motifs=(0,e.tdS)([{libelle:"Affaires",value:p.Gc.AFFAIRES},{libelle:"Tourisme",value:p.Gc.TOURISME},{libelle:"Famille",value:p.Gc.FAMILLE},{libelle:"\xc9tudes",value:p.Gc.ETUDES},{libelle:"M\xe9dical",value:p.Gc.MEDICAL}]),this.etatVoyageOptions=[{label:"ALLER",value:"ALLER"},{label:"RETOUR",value:"RETOUR"},{label:"ALLER-RETOUR",value:"ALLER_RETOUR"}],this.documentFields=(0,e.tdS)([{key:"numeroDocument",label:"Num\xe9ro de document",icon:"pi pi-hashtag",placeholder:"Num\xe9ro de document",type:"text",cols:3,required:!0},{key:"numeroNip",label:"Num\xe9ro NIP (Optionnel)",icon:"pi pi-key",placeholder:"Num\xe9ro NIP",type:"text",cols:3,required:!1},{key:"dateDelivrance",label:"Date de d\xe9livrance",icon:"pi pi-calendar",placeholder:"S\xe9lectionner la date",type:"date",cols:3,required:!0},{key:"lieuDelivrance",label:"Lieu de d\xe9livrance",icon:"pi pi-map-marker",placeholder:"Lieu de d\xe9livrance",type:"text",cols:3,required:!1}]),this.personalFields=(0,e.tdS)([{key:"prenom",label:"Pr\xe9nom",icon:"pi pi-user",placeholder:"Votre pr\xe9nom",type:"text",cols:4,required:!0},{key:"nomFamille",label:"Nom de famille",icon:"pi pi-user",placeholder:"Votre nom de famille",type:"text",cols:4,required:!0},{key:"profession",label:"Profession",icon:"pi pi-briefcase",placeholder:"Votre profession",type:"text",cols:4,required:!1},{key:"dateNaissance",label:"Date de naissance",icon:"pi pi-calendar",placeholder:"S\xe9lectionner la date",type:"date",cols:4,required:!0},{key:"lieuNaissance",label:"Lieu de naissance",icon:"pi pi-map-marker",placeholder:"Lieu de naissance",type:"text",cols:4,required:!0},{key:"nationalite",label:"Nationalit\xe9",icon:"pi pi-flag",placeholder:"Votre nationalit\xe9",type:"text",cols:4,required:!0}]),this.contactFields=[{key:"paysResidence",label:"Pays de r\xe9sidence",icon:"pi pi-globe",placeholder:"S\xe9lectionnez le pays",type:"dropdown",cols:4,required:!0},{key:"emailContact",label:"Email (Optionnel)",icon:"pi pi-envelope",placeholder:"votre@email.com",type:"text",cols:4,required:!1,inputType:"email"},{key:"telephoneBurkina",label:"T\xe9l\xe9phone Burkina (Optionnel)",icon:"pi pi-phone",placeholder:"+226 XX XX XX XX",type:"text",cols:4,required:!1},{key:"telephoneEtranger",label:"T\xe9l\xe9phone \xc9tranger (Optionnel)",icon:"pi pi-phone",placeholder:"T\xe9l\xe9phone \xe9tranger",type:"text",cols:4,required:!1},{key:"adresseBurkina",label:"Adresse au Burkina",icon:"pi pi-home",placeholder:"Adresse au Burkina",type:"text",cols:4,required:!0},{key:"adresseEtranger",label:"Adresse \xe0 l'\xe9tranger",icon:"pi pi-home",placeholder:"Adresse \xe0 l'\xe9tranger",type:"text",cols:4,required:!0}],this.travelFields=[{key:"motifVoyage",label:"Motif du voyage",icon:"pi pi-question-circle",placeholder:"S\xe9lectionner un motif",type:"dropdown",cols:4,required:!0,options:this.motifs()},{key:"etatVoyage",label:"\xc9tat du voyage",icon:"pi pi-arrow-right-arrow-left",placeholder:"S\xe9lectionner",type:"dropdown",cols:4,required:!0,options:this.etatVoyageOptions},{key:"dureeSejour",label:"Dur\xe9e du s\xe9jour (jours)",icon:"pi pi-clock",placeholder:"Dur\xe9e en jours",type:"number",cols:4,required:!0}]}ngOnInit(){this.handlePageLoad(),this.initializeForm(),this.loadInitialData(),this.subscribeToStoreUpdates(),this.setupDocumentTypeChange()}handlePageLoad(){"reload"===performance.getEntriesByType("navigation")[0]?.type&&(console.log("\u{1f504} Refresh d\xe9tect\xe9 - Nettoyage du sessionStorage"),this.clearLocalStorage())}initializeForm(){this.enregistrementForm=this.fb.group({typeDocument:[p.u4.CNI,l.kI.required],numeroDocument:["",l.kI.required],numeroNip:[""],statut:[""],dateDelivrance:[null,l.kI.required],lieuDelivrance:[""],imageRecto:[null,l.kI.required],imageVerso:[null,l.kI.required],photoProfil:[null,l.kI.required],prenom:["",l.kI.required],nomFamille:["",l.kI.required],profession:[""],dateNaissance:[null,l.kI.required],lieuNaissance:[""],nationalite:[{value:"Burkinab\xe8",disabled:!0},l.kI.required],paysResidence:[null,l.kI.required],emailContact:["",[l.kI.email]],telephoneBurkina:[""],telephoneEtranger:[""],adresseBurkina:["",l.kI.required],adresseEtranger:["",l.kI.required],volId:[null,l.kI.required],motifVoyage:[null,l.kI.required],etatVoyage:["ALLER",l.kI.required],dureeSejour:[1,[l.kI.required,l.kI.min(1)]],villeDepart:[""],villeDestination:[""],dateVoyage:[""],heureVoyage:[""]}),this.enregistrementForm.valueChanges.pipe((0,A.b)(500),(0,m.sL)(this.destroyRef)).subscribe(()=>{this.saveToLocalStorage()}),this.loadFromLocalStorage()}nextStep(){this.currentStep()<4&&this.validateCurrentStep()&&(this.currentStep.set(this.currentStep()+1),this.scrollToTop())}previousStep(){this.currentStep()>1&&(this.currentStep.set(this.currentStep()-1),this.scrollToTop())}validateCurrentStep(){let n=[];switch(this.currentStep()){case 1:n=["typeDocument","imageRecto","imageVerso","photoProfil","numeroDocument","dateDelivrance","lieuDelivrance"];break;case 2:n=["prenom","nomFamille","dateNaissance","lieuNaissance","nationalite"];break;case 3:n=["paysResidence","adresseBurkina","adresseEtranger"];break;case 4:n=["volId","motifVoyage","etatVoyage","dureeSejour"]}return n.forEach(a=>{this.enregistrementForm.get(a)?.markAsTouched()}),!n.some(a=>this.enregistrementForm.get(a)?.invalid)||(this.showToast("warn","Veuillez remplir tous les champs obligatoires de cette \xe9tape"),this.scrollToFirstError(),!1)}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}setupDocumentTypeChange(){this.enregistrementForm.get("typeDocument")?.valueChanges.pipe((0,m.sL)(this.destroyRef)).subscribe(t=>{this.currentDocumentType.set(t),this.handleDocumentTypeChange(t)})}onTypeDocumentChange(t){this.currentDocumentType.set(t),this.handleDocumentTypeChange(t)}handleDocumentTypeChange(t){this.updateNipField(t),this.updateNationaliteField(t),this.handleOCRReset(t)}updateNipField(t){const n=this.enregistrementForm.get("numeroNip");t===p.u4.PASSEPORT?(n?.setValue(""),n?.clearValidators(),n?.updateValueAndValidity()):(n?.clearValidators(),n?.updateValueAndValidity())}updateNationaliteField(t){const n=this.enregistrementForm.get("nationalite");t===p.u4.CNI?(n?.setValue("Burkinab\xe8"),n?.disable({onlySelf:!0,emitEvent:!1}),n?.setValidators(l.kI.required)):(n?.enable({onlySelf:!0,emitEvent:!1}),(!n?.value||"Burkinab\xe8"===n?.value)&&n?.setValue(""),n?.setValidators(l.kI.required)),n?.updateValueAndValidity()}handleOCRReset(t){const n=this.enregistrementForm.value;(n.numeroDocument||n.prenom||n.nomFamille)&&console.log("\u{1f504} R\xe9initialisation des donn\xe9es OCR suite au changement de type")}shouldShowNipField(){return this.currentDocumentType()===p.u4.CNI}isCniDocument(){return this.currentDocumentType()===p.u4.CNI}getDocumentFields(){return this.documentFields()}getPersonalFields(){return this.personalFields()}loadInitialData(){var t=this;return(0,k.Z)(function*(){t.loading.set(!0);try{t.store.dispatch(I.x7());const[n,r]=yield Promise.all([t.countryService.getCountries(),t.nationaliteService.getCountries()]);t.countries.set(n),t.nationalites.set(r)}catch(n){t.showToast("error","Erreur lors du chargement des donn\xe9es initiales"),console.error("Error loading initial data:",n)}finally{t.loading.set(!1)}})()}subscribeToStoreUpdates(){this.store.select(V.n1).pipe((0,h.h)(t=>!!t&&t.length>0),(0,m.sL)(this.destroyRef)).subscribe(t=>{this.volList.set([...t])}),this.store.select(q.i).pipe((0,h.h)(t=>!!t?.message),(0,m.sL)(this.destroyRef)).subscribe(t=>{this.showToast(t.status,t.message),this.isSaving.set(!1)}),this.store.select(N.F9).pipe((0,h.h)(t=>!!t?.id),(0,m.sL)(this.destroyRef)).subscribe(t=>{this.isSaving.set(!1),this.clearLocalStorage(),this.messageService.add({severity:"success",summary:"Succ\xe8s",detail:"Votre pr\xe9-enregistrement a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s !",life:5e3})})}onFileSelect(t,n){const r=t.files?.[0];if(!r||!this.validateFile(r))return;const a=new FileReader;a.onload=c=>{this.enregistrementForm.patchValue({[n]:c.target.result}),this.messageService.add({severity:"success",summary:"Fichier charg\xe9",detail:`Image ${this.getFieldLabel(n)} charg\xe9e avec succ\xe8s`,life:2e3}),"imageRecto"===n&&this.autoFillFromDocument(r)},a.onerror=()=>{this.showToast("error","Impossible de lire le fichier")},a.readAsDataURL(r)}validateFile(t){return t.size>5242880?(this.showToast("error","La taille du fichier ne doit pas d\xe9passer 5MB"),!1):!!["image/jpeg","image/jpg","image/png"].includes(t.type)||(this.showToast("error","Seuls les fichiers JPG, JPEG et PNG sont accept\xe9s"),!1)}autoFillFromDocument(t){this.messageService.add({severity:"info",summary:"Lecture du document",detail:"Analyse du document en cours...",life:3e3}),this.regulaService.verifyDocument(t).pipe((0,m.sL)(this.destroyRef)).subscribe({next:n=>{this.fillFormWithDocumentInfo(n),this.showToast("success","Les informations ont \xe9t\xe9 extraites automatiquement")},error:n=>{console.error("\u274c Erreur Regula:",n),this.showToast("warn","Le document n'a pas pu \xeatre lu automatiquement. Remplissez manuellement.")}})}fillFormWithDocumentInfo(t){if(!t)return;const n={nomFamille:t.lastName||t.nomFamille,prenom:t.firstName||t.prenom,dateNaissance:this.parseDate(t.dateOfBirth||t.dateNaissance),lieuNaissance:t.lieuNaissance||t.placeOfBirth,numeroDocument:t.documentNumber||t.numeroDocument,dateDelivrance:this.parseDate(t.dateIssue||t.dateDelivrance),lieuDelivrance:t.issueState||t.lieuDelivrance,profession:t.profession},r=t.nip||t.numeroNip;if(this.currentDocumentType()===p.u4.CNI&&r&&(n.numeroNip=r),this.currentDocumentType()===p.u4.CNI)n.nationalite="Burkinab\xe8";else if(this.currentDocumentType()===p.u4.PASSEPORT){const a=t.nationality||t.nationalite;a&&(n.nationalite=a)}this.enregistrementForm.patchValue(n),this.updateNipField(this.currentDocumentType())}parseDate(t){if(!t)return null;try{const n=t.trim();if(/^\d{4}-\d{2}-\d{2}$/.test(n)){const[r,a,c]=n.split("-").map(Number);return new Date(r,a-1,c)}if(/^\d{2}\/\d{2}\/\d{4}$/.test(n)){const[r,a,c]=n.split("/").map(Number);return new Date(c,a-1,r)}return new Date(n)}catch{return null}}onVolSelectionChange(t){const n=this.volList().find($e=>$e.id===t);if(!n)return;this.selectedVolInfo.set(n);const r=n.typeVol===L.N.ARRIVEE,a=n.aeroport?.nomAeroport??"",c=n.nomAgentConnecteAeroport??"",u=r?a:c,S=r?c:a,d=n.dateDepart?new Date(n.dateDepart).toISOString():null,C=d?d.split("T")[0]:"",g=d?d.split("T")[1].substring(0,5):"";this.enregistrementForm.patchValue({villeDepart:u,villeDestination:S,dateVoyage:C,heureVoyage:g})}getImagePreview(t){return this.enregistrementForm.get(t)?.value}getFieldError(t){const n=this.enregistrementForm.get(t);if(n?.invalid&&(n.dirty||n.touched)){if(n.hasError("required"))return"Ce champ est requis";if(n.hasError("email"))return"Email invalide";if(n.hasError("min"))return`La valeur minimale est ${n.getError("min").min}`}return null}getFieldLabel(t){return{imageRecto:"recto",imageVerso:"verso",photoProfil:"de profil"}[t]||""}submitEnregistrement(){if(this.enregistrementForm.invalid)return this.markAllAsTouched(),this.showToast("warn","Veuillez corriger les erreurs dans le formulaire"),void this.scrollToFirstError();this.isSaving.set(!0);const t=this.prepareEnregistrementData();console.log("\u{1f4e4} Donn\xe9es \xe0 envoyer:",t),this.store.dispatch(D.Lx(t))}prepareEnregistrementData(){const t=this.enregistrementForm.getRawValue();return{...t,dateDelivrance:this.formatDate(t.dateDelivrance),dateNaissance:this.formatDate(t.dateNaissance),dateVoyage:this.formatDate(t.dateVoyage),statut:X.F.EN_ATTENTE}}formatDate(t){return t?t instanceof Date?`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`:"string"==typeof t&&/^\d{4}-\d{2}-\d{2}$/.test(t)?t:"":""}markAllAsTouched(){Object.keys(this.enregistrementForm.controls).forEach(t=>{this.enregistrementForm.get(t)?.markAsTouched()})}scrollToFirstError(){const t=Object.keys(this.enregistrementForm.controls).find(n=>this.enregistrementForm.get(n)?.invalid);t&&document.getElementById(t)?.scrollIntoView({behavior:"smooth",block:"center"})}resetForm(){this.enregistrementForm.reset({typeDocument:p.u4.CNI,etatVoyage:"ALLER",dureeSejour:1,nationalite:"Burkinab\xe8"}),this.currentDocumentType.set(p.u4.CNI),this.handleDocumentTypeChange(p.u4.CNI),this.selectedVolInfo.set(null),this.currentStep.set(1),this.clearLocalStorage(),this.showToast("info","Le formulaire a \xe9t\xe9 r\xe9initialis\xe9")}saveToLocalStorage(){try{const t=this.enregistrementForm.getRawValue(),n={};Object.keys(t).forEach(a=>{["imageRecto","imageVerso","photoProfil"].includes(a)||(n[a]=t[a])});const r={data:n,currentStep:this.currentStep(),timestamp:Date.now(),maxAge:18e5};sessionStorage.setItem("enregistrement_draft",JSON.stringify(r))}catch(t){console.error("Erreur lors de la sauvegarde:",t)}}loadFromLocalStorage(){try{const t=sessionStorage.getItem("enregistrement_draft");if(t){const{data:n,currentStep:r,timestamp:a,maxAge:c}=JSON.parse(t),u=Date.now();if(c&&u-a>c)return void this.clearLocalStorage();this.enregistrementForm.patchValue(n,{emitEvent:!1}),Object.keys(n).forEach(C=>{const g=this.enregistrementForm.get(C);g&&(g.markAsDirty(),g.markAsTouched())});const d=n.typeDocument||p.u4.CNI;this.currentDocumentType.set(d),this.handleDocumentTypeChange(d),r&&this.currentStep.set(r),this.showToast("info","Brouillon restaur\xe9 avec succ\xe8s")}}catch(t){console.error("\u274c Erreur lors du chargement:",t)}}clearLocalStorage(){sessionStorage.removeItem("enregistrement_draft")}showToast(t,n){this.messageService.add({severity:{success:"success",error:"error",warning:"warn",warn:"warn",info:"info"}[t]||"info",summary:{success:"Succ\xe8s",error:"Erreur",warning:"Attention",warn:"Attention",info:"Information"}[t]||"Notification",detail:n,life:5e3})}ngOnDestroy(){console.log("\u{1f504} Composant d\xe9truit")}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-front-enregistrement"]],standalone:!0,features:[e._Bn([_.ez]),e.jDz],decls:80,vars:34,consts:[[1,"enregistrement-moderne"],["position","top-right"],[1,"hero-section"],[1,"container-moderne"],[1,"hero-content"],[1,"icon-badge"],[1,"pi","pi-shield"],[1,"hero-title"],[1,"hero-subtitle"],[1,"hero-benefits"],[1,"benefit"],[1,"pi","pi-check-circle"],[1,"pi","pi-clock"],[1,"pi","pi-save"],[1,"form-section"],[1,"stepper-wrapper"],[1,"stepper"],[1,"step"],[1,"step-circle"],["class","pi pi-check"],[1,"step-label"],[1,"step-title"],[1,"step-desc"],[1,"step-line"],["styleClass","form-card-modern"],[3,"formGroup"],["class","step-content-wrapper"],[1,"form-actions-modern"],["type","button","label","Pr\xe9c\xe9dent","icon","pi pi-arrow-left","severity","secondary","styleClass","flex-1"],[1,"spacer"],["type","button","label","Suivant","icon","pi pi-arrow-right","iconPos","right","severity","primary","styleClass","flex-1"],[1,"pi","pi-check"],[1,"step-content-wrapper"],[1,"step-header-modern"],[1,"step-icon-modern"],[1,"pi","pi-id-card"],[1,"grid","mb-4"],[1,"col-12","md:col-6"],["for","typeDocument",1,"block","font-semibold","mb-2","label-modern"],[1,"pi","pi-id-card","mr-2"],[1,"required-star"],["inputId","typeDocument","formControlName","typeDocument","placeholder","Choisissez votre document","optionLabel","label","optionValue","value","styleClass","w-full",3,"options","onChange"],["class","error-message-modern"],[1,"col-12","md:col-4"],[1,"block","font-semibold","mb-2","label-modern"],[1,"pi","pi-images","mr-2"],["mode","basic","chooseLabel","Choisir l'image","accept","image/*","styleClass","w-full upload-modern",3,"auto","maxFileSize","showUploadButton","showCancelButton","onSelect"],["class","image-preview-modern mt-2"],[1,"pi","pi-user","mr-2"],["mode","basic","chooseLabel","Choisir la photo","accept","image/*","styleClass","w-full upload-modern",3,"auto","maxFileSize","showUploadButton","showCancelButton","onSelect"],[1,"grid"],[1,"error-message-modern"],[1,"pi","pi-exclamation-circle"],[1,"image-preview-modern","mt-2"],["alt","Image recto",3,"src"],[1,"image-check"],["alt","Image verso",3,"src"],["alt","Photo de profil",3,"src"],[3,"class"],[1,"block","font-semibold","mb-2","label-modern",3,"for"],["class","required-star"],["pInputText","",1,"w-full",3,"id","formControlName","placeholder"],["dateFormat","dd/mm/yy","styleClass","w-full","inputStyleClass","w-full",3,"inputId","formControlName","showIcon","placeholder"],[1,"pi","pi-user"],["pInputText","",1,"w-full",3,"id","formControlName","placeholder","readonly","ngClass"],[1,"pi","pi-phone"],["optionLabel","name","filterBy","name","styleClass","w-full",3,"inputId","formControlName","options","placeholder","filter"],["pInputText","",1,"w-full",3,"id","type","formControlName","placeholder"],[1,"pi","pi-send"],[1,"col-12"],["for","volId",1,"block","font-semibold","mb-2","label-modern"],[1,"pi","pi-send","mr-2"],["inputId","volId","formControlName","volId","placeholder","S\xe9lectionner un vol","optionLabel","numero","optionValue","id","filterBy","numero","styleClass","w-full",3,"options","filter","onChange"],["pTemplate","item"],[1,"flex","align-items-center"],[1,"pi","pi-plane","mr-2"],["optionLabel","libelle","optionValue","value","styleClass","w-full",3,"inputId","formControlName","options","placeholder"],["optionLabel","label","optionValue","value","styleClass","w-full",3,"inputId","formControlName","options","placeholder"],["styleClass","w-full","inputStyleClass","w-full",3,"inputId","formControlName","placeholder","min","showButtons"],["type","button","label","Pr\xe9c\xe9dent","icon","pi pi-arrow-left","severity","secondary","styleClass","flex-1",3,"onClick"],["type","button","label","Suivant","icon","pi pi-arrow-right","iconPos","right","severity","primary","styleClass","flex-1",3,"onClick"],["type","submit","label","Valider mon enregistrement","icon","pi pi-check","severity","success","styleClass","flex-1",3,"loading","disabled","onClick"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"app-navbar")(2,"p-toast",1),e.YNc(3,W,1,0,"app-loading-spinner"),e.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5),e._UZ(8,"i",6),e.qZA(),e.TgZ(9,"h1",7),e._uU(10,"Pr\xe9-enregistrement de Vol"),e.qZA(),e.TgZ(11,"p",8),e._uU(12,"Compl\xe9tez votre enregistrement en 4 \xe9tapes simples"),e.qZA(),e.TgZ(13,"div",9)(14,"div",10),e._UZ(15,"i",11),e.TgZ(16,"span"),e._uU(17,"Rapide et s\xe9curis\xe9"),e.qZA()(),e.TgZ(18,"div",10),e._UZ(19,"i",12),e.TgZ(20,"span"),e._uU(21,"Gain de temps"),e.qZA()(),e.TgZ(22,"div",10),e._UZ(23,"i",13),e.TgZ(24,"span"),e._uU(25,"Brouillon automatique"),e.qZA()()()()()(),e.TgZ(26,"section",14)(27,"div",3)(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18),e.YNc(32,ee,1,0,"i",19)(33,te,2,0),e.qZA(),e.TgZ(34,"div",20)(35,"span",21),e._uU(36,"Document"),e.qZA(),e.TgZ(37,"span",22),e._uU(38,"Identit\xe9"),e.qZA()()(),e._UZ(39,"div",23),e.TgZ(40,"div",17)(41,"div",18),e.YNc(42,ne,1,0,"i",19)(43,oe,2,0),e.qZA(),e.TgZ(44,"div",20)(45,"span",21),e._uU(46,"Personnel"),e.qZA(),e.TgZ(47,"span",22),e._uU(48,"Vos infos"),e.qZA()()(),e._UZ(49,"div",23),e.TgZ(50,"div",17)(51,"div",18),e.YNc(52,re,1,0,"i",19)(53,ie,2,0),e.qZA(),e.TgZ(54,"div",20)(55,"span",21),e._uU(56,"Contact"),e.qZA(),e.TgZ(57,"span",22),e._uU(58,"Coordonn\xe9es"),e.qZA()()(),e._UZ(59,"div",23),e.TgZ(60,"div",17)(61,"div",18),e.YNc(62,ae,1,0,"i",19)(63,se,2,0),e.qZA(),e.TgZ(64,"div",20)(65,"span",21),e._uU(66,"Voyage"),e.qZA(),e.TgZ(67,"span",22),e._uU(68,"Vol & d\xe9tails"),e.qZA()()()()(),e.TgZ(69,"p-card",24)(70,"form",25),e.YNc(71,ve,49,20,"div",26)(72,Me,12,0,"div",26)(73,Ue,12,0,"div",26)(74,ze,21,3,"div",26),e.TgZ(75,"footer",27),e.YNc(76,je,1,0,"p-button",28),e._UZ(77,"div",29),e.YNc(78,Je,1,0,"p-button",30)(79,Be,1,2),e.qZA()()()()()()),2&n&&(e.xp6(3),e.um2(3,r.loading()?3:-1),e.xp6(27),e.ekj("active",1===r.currentStep())("completed",r.currentStep()>1),e.xp6(2),e.um2(32,r.currentStep()>1?32:33),e.xp6(7),e.ekj("completed",r.currentStep()>1),e.xp6(1),e.ekj("active",2===r.currentStep())("completed",r.currentStep()>2),e.xp6(2),e.um2(42,r.currentStep()>2?42:43),e.xp6(7),e.ekj("completed",r.currentStep()>2),e.xp6(1),e.ekj("active",3===r.currentStep())("completed",r.currentStep()>3),e.xp6(2),e.um2(52,r.currentStep()>3?52:53),e.xp6(7),e.ekj("completed",r.currentStep()>3),e.xp6(1),e.ekj("active",4===r.currentStep())("completed",r.currentStep()>4),e.xp6(2),e.um2(62,r.currentStep()>4?62:63),e.xp6(8),e.Q6J("formGroup",r.enregistrementForm),e.xp6(1),e.um2(71,1===r.currentStep()?71:-1),e.xp6(1),e.um2(72,2===r.currentStep()?72:-1),e.xp6(1),e.um2(73,3===r.currentStep()?73:-1),e.xp6(1),e.um2(74,4===r.currentStep()?74:-1),e.xp6(2),e.um2(76,r.currentStep()>1?76:-1),e.xp6(2),e.um2(78,r.currentStep()<4?78:79))},dependencies:[x.ez,x.mk,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,v.d,v.Z,_.jx,H.L,P.j,P.o,y.L$,y.Rn,T.kW,T.Lt,Z._8,Z.f,O.zx,O.hJ,M.EV,M.FN,w.O,w.p,Q.g,K.S],styles:['.enregistrement-moderne[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(180deg,#ecfdf5 0%,#ffffff 40%);position:relative}.enregistrement-moderne[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background-image:radial-gradient(circle at 20% 30%,rgba(16,185,129,.05) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(252,211,77,.05) 0%,transparent 50%);pointer-events:none;z-index:0}.container-moderne[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:0 1.5rem;position:relative;z-index:1}.hero-section[_ngcontent-%COMP%]{padding:3rem 0 2rem;text-align:center}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .icon-badge[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1.5rem;background:linear-gradient(135deg,#059669,#10b981);border-radius:20px;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 40px #10b9814d;animation:_ngcontent-%COMP%_pulse 2s infinite}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .icon-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#fff}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2.75rem;font-weight:800;background:linear-gradient(135deg,#059669,#10b981);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1rem;letter-spacing:-.02em}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:#6b7280;margin-bottom:2rem;font-weight:500}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-benefits[_ngcontent-%COMP%]{display:flex;gap:2rem;justify-content:center;flex-wrap:wrap}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-benefits[_ngcontent-%COMP%]   .benefit[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#1f2937;font-weight:600;font-size:.9375rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-benefits[_ngcontent-%COMP%]   .benefit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#10b981;font-size:1.25rem}.form-section[_ngcontent-%COMP%]{padding-bottom:4rem}.stepper-wrapper[_ngcontent-%COMP%]{margin-bottom:3rem;padding:2rem;background:#ffffff;border-radius:20px;box-shadow:0 1px 3px #0000000d,0 10px 40px #10b98114;animation:_ngcontent-%COMP%_fadeInUp .8s .2s backwards}.stepper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.75rem;position:relative;z-index:2;transition:all .3s ease}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:#f9fafb;border:3px solid #e5e7eb;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.25rem;color:#6b7280;transition:all .4s cubic-bezier(.4,0,.2,1)}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{text-align:center}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{display:block;font-weight:700;color:#1f2937;font-size:.9375rem;margin-bottom:.25rem;transition:color .3s ease}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]   .step-desc[_ngcontent-%COMP%]{display:block;font-size:.8125rem;color:#6b7280}.stepper[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#10b981);border-color:#10b981;color:#fff;transform:scale(1.1);box-shadow:0 8px 25px #10b98166}.stepper[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#10b981}.stepper[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#059669,#10b981);border-color:#10b981;color:#fff}.stepper[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_checkmark .5s ease}.stepper[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#10b981}.stepper[_ngcontent-%COMP%]   .step-line[_ngcontent-%COMP%]{flex:1;height:3px;background:#e5e7eb;position:relative;margin:0 1rem;transition:background .5s ease}.stepper[_ngcontent-%COMP%]   .step-line[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;height:100%;width:0;background:linear-gradient(90deg,#059669,#10b981);transition:width .5s ease}.stepper[_ngcontent-%COMP%]   .step-line.completed[_ngcontent-%COMP%]:after{width:100%}  .form-card-modern{background:#ffffff!important;border-radius:20px!important;box-shadow:0 1px 3px #0000000d,0 10px 40px #10b98114!important;animation:_ngcontent-%COMP%_fadeInUp .8s .3s backwards;border:none!important}  .form-card-modern .p-card-body{padding:0!important}  .form-card-modern .p-card-content{padding:2rem!important}.step-content-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease}.step-header-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:2px solid #f9fafb}.step-header-modern[_ngcontent-%COMP%]   .step-icon-modern[_ngcontent-%COMP%]{width:64px;height:64px;background:linear-gradient(135deg,#059669,#10b981);border-radius:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 20px #10b9814d}.step-header-modern[_ngcontent-%COMP%]   .step-icon-modern[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem;color:#fff}.step-header-modern[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;color:#1f2937;font-weight:700;margin:0 0 .5rem}.step-header-modern[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;margin:0}.label-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:700!important;color:#1f2937!important;font-size:.9375rem!important}.label-modern[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#10b981;font-size:1.125rem}.label-modern[_ngcontent-%COMP%]   .required-star[_ngcontent-%COMP%]{color:#ef4444;margin-left:.25rem}.error-message-modern[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;color:#ef4444;font-size:.875rem;font-weight:600;margin-top:.5rem}.error-message-modern[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.image-preview-modern[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;border:2px solid #e5e7eb}.image-preview-modern[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;display:block}.image-preview-modern[_ngcontent-%COMP%]   .image-check[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:36px;height:36px;background:#10b981;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0003}.image-preview-modern[_ngcontent-%COMP%]   .image-check[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.125rem}.form-actions-modern[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2.5rem;padding-top:2rem;border-top:2px solid #f9fafb}.form-actions-modern[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.form-actions-modern[_ngcontent-%COMP%]     .p-button{padding:1rem 2rem!important;border-radius:14px!important;font-weight:700!important;font-size:1rem!important;transition:all .3s ease!important;box-shadow:0 4px 12px #0000001a!important}.form-actions-modern[_ngcontent-%COMP%]     .p-button.p-button-secondary{background:#ffffff!important;color:#1f2937!important;border:2px solid #e5e7eb!important}.form-actions-modern[_ngcontent-%COMP%]     .p-button.p-button-secondary:hover{background:#f9fafb!important;transform:translate(-4px)}.form-actions-modern[_ngcontent-%COMP%]     .p-button.p-button-primary{background:linear-gradient(135deg,#059669,#10b981)!important;border:none!important;box-shadow:0 4px 15px #10b98140!important}.form-actions-modern[_ngcontent-%COMP%]     .p-button.p-button-primary:hover{transform:translate(4px);box-shadow:0 6px 20px #10b98159!important}.form-actions-modern[_ngcontent-%COMP%]     .p-button.p-button-success{background:linear-gradient(135deg,#059669,#10b981)!important;border:none!important;box-shadow:0 4px 15px #10b98140!important}.form-actions-modern[_ngcontent-%COMP%]     .p-button.p-button-success:hover{transform:translateY(-3px);box-shadow:0 8px 25px #10b98159!important}.form-actions-modern[_ngcontent-%COMP%]     .p-button:disabled{opacity:.5!important;transform:none!important}  .p-dropdown .p-inputtext,   .p-calendar .p-inputtext{border:2px solid #e5e7eb!important;border-radius:12px!important;padding:.875rem 1.25rem!important;transition:all .3s ease!important}  .p-dropdown .p-inputtext:enabled:focus,   .p-calendar .p-inputtext:enabled:focus{border-color:#10b981!important;box-shadow:0 0 0 3px #10b9811a!important}  .p-inputtext{border:2px solid #e5e7eb!important;border-radius:12px!important;padding:.875rem 1.25rem!important;transition:all .3s ease!important}  .p-inputtext:enabled:focus{border-color:#10b981!important;box-shadow:0 0 0 3px #10b9811a!important}  .p-inputtext.p-disabled{background:white!important;cursor:not-allowed!important;color:#6b7280!important}  .p-dropdown-panel{border-radius:12px!important;box-shadow:0 10px 40px #0000001a!important;border:1px solid #e5e7eb!important}  .p-dropdown-panel .p-dropdown-item.p-highlight{background:linear-gradient(135deg,rgba(16,185,129,.1),rgba(16,185,129,.05))!important;color:#10b981!important}  .p-inputnumber .p-inputnumber-input{border:2px solid #e5e7eb!important;border-radius:12px 0 0 12px!important;padding:.875rem 1.25rem!important}  .p-inputnumber .p-inputnumber-input:enabled:focus{border-color:#10b981!important;box-shadow:0 0 0 3px #10b9811a!important}  .p-inputnumber .p-inputnumber-button{border-radius:0 12px 12px 0!important;background:linear-gradient(135deg,#059669,#10b981)!important;border:none!important}  .p-inputnumber .p-inputnumber-button:hover{background:linear-gradient(135deg,#047d58,#0ea271)!important}  .p-calendar-w-btn .p-inputtext{border-radius:12px 0 0 12px!important}  .p-calendar-w-btn .p-datepicker-trigger{border-radius:0 12px 12px 0!important;background:linear-gradient(135deg,#059669,#10b981)!important;border:none!important}  .p-calendar-w-btn .p-datepicker-trigger:hover{background:linear-gradient(135deg,#047d58,#0ea271)!important}  .upload-modern .p-button{background:linear-gradient(135deg,#059669,#10b981)!important;border:none!important;padding:.75rem 1.5rem!important;border-radius:12px!important;font-weight:600!important;box-shadow:0 4px 12px #10b98140!important}  .upload-modern .p-button:hover{transform:translateY(-2px);box-shadow:0 6px 20px #10b98159!important}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_checkmark{0%{transform:scale(0) rotate(-45deg)}50%{transform:scale(1.2) rotate(0)}to{transform:scale(1) rotate(0)}}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{padding:2rem 0 1.5rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .icon-badge[_ngcontent-%COMP%]{width:64px;height:64px}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .icon-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-benefits[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:center}.stepper-wrapper[_ngcontent-%COMP%]{padding:1.5rem}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{width:48px;height:48px;font-size:1rem}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:.875rem}.stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]   .step-desc[_ngcontent-%COMP%]{font-size:.75rem}.stepper[_ngcontent-%COMP%]   .step-line[_ngcontent-%COMP%]{margin:0 .5rem}  .form-card-modern .p-card-content{padding:1.5rem!important}.step-header-modern[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.step-header-modern[_ngcontent-%COMP%]   .step-icon-modern[_ngcontent-%COMP%]{width:56px;height:56px}.step-header-modern[_ngcontent-%COMP%]   .step-icon-modern[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .step-header-modern[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.step-header-modern[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9375rem}.form-actions-modern[_ngcontent-%COMP%]{flex-direction:column}.form-actions-modern[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{display:none}.form-actions-modern[_ngcontent-%COMP%]     .p-button{width:100%!important;justify-content:center!important}}']})}return o})()}}]);