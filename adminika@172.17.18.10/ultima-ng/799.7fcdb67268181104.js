"use strict";(self.webpackChunkultima_ng=self.webpackChunkultima_ng||[]).push([[799],{8799:(F,P,r)=>{r.r(P),r.d(P,{DonneeBiometriqueComponent:()=>Oe});var u=r(5861),l=r(6814),e=r(9212),T=r(95),f=r(5219),E=r(707),C=r(3714),D=r(4480),_=r(9232),I=r(4104),U=r(6340),p=r(3965),x=r(1712),g=r(7213),v=r(3259),Z=r(3506),w=r(8645),M=r(9773),J=r(4221),N=r(7962);const L=i=>i.donneeBiometriqueState.donneeBiometriques,R=i=>i.donneeBiometriqueState.totalItems;var H=r(6821),B=r(2793),O=r(7791),k=r(6263),S=r(5961),K=r(4055),Q=r(3904),Y=r(3216);const a=["videoElement"],b=["canvasElement"];function c(i,m){if(1&i&&(e.TgZ(0,"small",60),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" P\xe9riode: ",e.xi3(2,2,t.dateDebut,"dd/MM/yyyy")," - ",e.xi3(3,5,t.dateFin,"dd/MM/yyyy")," ")}}function y(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"p-button",51),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openCaptureBiometriqueModal(null))}),e.qZA(),e.TgZ(3,"p-button",52),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openFilterDialog())}),e.qZA(),e.TgZ(4,"p-button",53),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.resetFilters())}),e.qZA()(),e.TgZ(5,"div",54)(6,"span",55),e._UZ(7,"i",56),e.TgZ(8,"input",57,58),e.NdJ("input",function(n){e.CHM(t);const s=e.oxw(),d=e.MAs(3);return e.KtG(s.onGlobalFilter(d,n))}),e.qZA()(),e.YNc(10,c,4,8,"small",59),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(10),e.Q6J("ngIf",t.dateDebut&&t.dateFin)}}function h(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"th",61)(2,"div",62),e._uU(3," Passager "),e._UZ(4,"p-sortIcon",63),e.qZA()(),e.TgZ(5,"th",64)(6,"div",62),e._uU(7," Document "),e._UZ(8,"p-sortIcon",65),e.qZA()(),e.TgZ(9,"th",66)(10,"div",62),e._uU(11," Nationalit\xe9 "),e._UZ(12,"p-sortIcon",67),e.qZA()(),e.TgZ(13,"th"),e._uU(14,"Empreintes"),e.qZA(),e.TgZ(15,"th",68)(16,"div",62),e._uU(17," Type capture "),e._UZ(18,"p-sortIcon",69),e.qZA()(),e.TgZ(19,"th",70)(20,"div",62),e._uU(21," Statut "),e._UZ(22,"p-sortIcon",71),e.qZA()(),e.TgZ(23,"th",72),e._uU(24,"Actions"),e.qZA()(),e.TgZ(25,"tr")(26,"th")(27,"span",73),e._UZ(28,"i",56),e.TgZ(29,"input",57),e.NdJ("input",function(n){e.CHM(t),e.oxw();const s=e.MAs(3);return e.KtG(s.filter(n.target.value,"informationPersonnelle.nomFamille","contains"))}),e.qZA()()(),e.TgZ(30,"th")(31,"span",73),e._UZ(32,"i",56),e.TgZ(33,"input",57),e.NdJ("input",function(n){e.CHM(t),e.oxw();const s=e.MAs(3);return e.KtG(s.filter(n.target.value,"informationPersonnelle.typeDocument","contains"))}),e.qZA()()(),e.TgZ(34,"th")(35,"span",73),e._UZ(36,"i",56),e.TgZ(37,"input",57),e.NdJ("input",function(n){e.CHM(t),e.oxw();const s=e.MAs(3);return e.KtG(s.filter(n.target.value,"informationPersonnelle.nationalite","contains"))}),e.qZA()()(),e._UZ(38,"th"),e.TgZ(39,"th")(40,"span",73),e._UZ(41,"i",56),e.TgZ(42,"input",57),e.NdJ("input",function(n){e.CHM(t),e.oxw();const s=e.MAs(3);return e.KtG(s.filter(n.target.value,"typeCapture","contains"))}),e.qZA()()(),e.TgZ(43,"th")(44,"span",73),e._UZ(45,"i",56),e.TgZ(46,"input",57),e.NdJ("input",function(n){e.CHM(t),e.oxw();const s=e.MAs(3);return e.KtG(s.filter(n.target.value,"statut","contains"))}),e.qZA()()(),e._UZ(47,"th"),e.qZA()}}function A(i,m){1&i&&e._UZ(0,"i",88)}function j(i,m){1&i&&e._UZ(0,"i",89)}function W(i,m){1&i&&e._UZ(0,"i",90)}function z(i,m){1&i&&e._UZ(0,"i",91)}function $(i,m){1&i&&e._UZ(0,"i",92)}function X(i,m){1&i&&e._UZ(0,"i",93)}function ee(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"tr",74)(1,"td")(2,"div",75),e._uU(3),e.qZA(),e.TgZ(4,"div",76),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"td")(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div",76),e._uU(11),e.qZA()(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td")(15,"div",50),e.YNc(16,A,1,0,"i",77)(17,j,1,0,"i",78)(18,W,1,0,"i",79)(19,z,1,0,"i",80)(20,$,1,0,"i",81)(21,X,1,0,"i",82),e.qZA()(),e.TgZ(22,"td"),e._UZ(23,"p-tag",83),e.qZA(),e.TgZ(24,"td"),e._UZ(25,"p-tag",83),e.qZA(),e.TgZ(26,"td",72)(27,"div",84)(28,"p-button",85),e.NdJ("onClick",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectDonneeBiometrique(s))}),e.qZA(),e.TgZ(29,"p-button",86),e.NdJ("onClick",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.openCaptureBiometriqueModal(s))}),e.qZA(),e.TgZ(30,"p-button",87),e.NdJ("onClick",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.confirmDelete(s))}),e.qZA()()()()}if(2&i){const t=m.$implicit,o=e.oxw();e.Q6J("pSelectableRow",t),e.xp6(3),e.AsE(" ",null==t.informationPersonnelle?null:t.informationPersonnelle.nomFamille," ",null==t.informationPersonnelle?null:t.informationPersonnelle.prenom," "),e.xp6(2),e.hij(" ",e.xi3(6,23,null==t.informationPersonnelle?null:t.informationPersonnelle.dateNaissance,"dd/MM/yyyy")," "),e.xp6(4),e.Oqu(null==t.informationPersonnelle?null:t.informationPersonnelle.typeDocument),e.xp6(2),e.hij(" ",null==t.informationPersonnelle?null:t.informationPersonnelle.numeroDocument," "),e.xp6(2),e.hij(" ",(null==t.informationPersonnelle?null:t.informationPersonnelle.nationalite)||"N/A"," "),e.xp6(3),e.Q6J("ngIf",t.empreinteGauchePath),e.xp6(1),e.Q6J("ngIf",!t.empreinteGauchePath),e.xp6(1),e.Q6J("ngIf",t.empreinteDroitePath),e.xp6(1),e.Q6J("ngIf",!t.empreinteDroitePath),e.xp6(1),e.Q6J("ngIf",t.empreintePoucesPath),e.xp6(1),e.Q6J("ngIf",!t.empreintePoucesPath),e.xp6(2),e.Q6J("value",(null==t.typeCapture?null:t.typeCapture.toString())||"N/A")("severity","ENROLEMENT"===t.typeCapture?"info":"secondary"),e.xp6(2),e.Q6J("value",(null==t.statut?null:t.statut.toString())||"N/A")("severity",o.getStatutSeverity(t.statut)),e.xp6(3),e.Q6J("rounded",!0)("text",!0),e.xp6(1),e.Q6J("rounded",!0)("text",!0),e.xp6(1),e.Q6J("rounded",!0)("text",!0)}}function te(i,m){1&i&&(e.TgZ(0,"tr")(1,"td",94)(2,"div",95),e._UZ(3,"i",96),e.TgZ(4,"span",97),e._uU(5,"Aucune donn\xe9e biom\xe9trique trouv\xe9e !"),e.qZA(),e.TgZ(6,"span",98),e._uU(7,"Essayez de modifier vos crit\xe8res de recherche"),e.qZA()()()())}function ne(i,m){1&i&&(e.TgZ(0,"tr")(1,"td",99)(2,"div",100),e._UZ(3,"i",101),e.TgZ(4,"span"),e._uU(5,"Chargement des donn\xe9es..."),e.qZA()()()())}function ie(i,m){if(1&i&&(e.TgZ(0,"form",102)(1,"div",0)(2,"div",17)(3,"label",103),e._uU(4," Date de d\xe9but "),e.qZA(),e._UZ(5,"p-calendar",104),e.qZA(),e.TgZ(6,"div",17)(7,"label",105),e._uU(8," Date de fin "),e.qZA(),e._UZ(9,"p-calendar",106),e.qZA()()()),2&i){const t=e.oxw();let o,n;e.Q6J("formGroup",t.filterFormGroup),e.xp6(5),e.Q6J("showIcon",!0)("maxDate",null==(o=t.filterFormGroup.get("dateFin"))?null:o.value),e.xp6(4),e.Q6J("showIcon",!0)("minDate",null==(n=t.filterFormGroup.get("dateDebut"))?null:n.value)}}function oe(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"div",107)(1,"button",108),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.closeFilterDialog())}),e.qZA(),e.TgZ(2,"button",109),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.resetFilters())}),e.qZA(),e.TgZ(3,"button",110),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.applyFilters())}),e.qZA()()}}function le(i,m){if(1&i&&(e.TgZ(0,"div",113)(1,"span",114),e._UZ(2,"i",130),e._uU(3,"Num\xe9ro NIP: "),e.qZA(),e._uU(4),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.numeroNip," ")}}function re(i,m){if(1&i&&(e.TgZ(0,"div",113)(1,"span",114),e._UZ(2,"i",116),e._uU(3,"Date de d\xe9livrance: "),e.qZA(),e._uU(4),e.ALo(5,"date"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.xi3(5,1,null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.dateDelivrance,"dd/MM/yyyy")," ")}}function ae(i,m){if(1&i&&(e.TgZ(0,"div",131)(1,"span",114),e._UZ(2,"i",117),e._uU(3,"Lieu de d\xe9livrance: "),e.qZA(),e._uU(4),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.lieuDelivrance," ")}}function se(i,m){if(1&i&&(e.TgZ(0,"div",113)(1,"span",114),e._UZ(2,"i",132),e._uU(3,"Profession: "),e.qZA(),e._uU(4),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.profession," ")}}function pe(i,m){if(1&i&&(e.TgZ(0,"div",113)(1,"span",114),e._UZ(2,"i",133),e._uU(3,"Email: "),e.qZA(),e._uU(4),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.emailContact," ")}}function ce(i,m){if(1&i&&(e.TgZ(0,"div",113)(1,"span",114),e._UZ(2,"i",134),e._uU(3,"T\xe9l\xe9phone Burkina: "),e.qZA(),e._uU(4),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.telephoneBurkina," ")}}function ue(i,m){if(1&i&&(e.TgZ(0,"div",131)(1,"span",114),e._UZ(2,"i",135),e._uU(3,"Adresse Burkina: "),e.qZA(),e._uU(4),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.adresseBurkina," ")}}function me(i,m){if(1&i&&(e.TgZ(0,"div",111)(1,"p-fieldset",112)(2,"div",0)(3,"div",113)(4,"span",114),e._UZ(5,"i",115),e._uU(6,"Nom complet: "),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"div",113)(9,"span",114),e._UZ(10,"i",116),e._uU(11,"Date de naissance: "),e.qZA(),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"div",113)(15,"span",114),e._UZ(16,"i",117),e._uU(17,"Lieu de naissance: "),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"div",113)(20,"span",114),e._UZ(21,"i",118),e._uU(22,"Nationalit\xe9: "),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"div",113)(25,"span",114),e._UZ(26,"i",119),e._uU(27,"Type de document: "),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"div",113)(30,"span",114),e._UZ(31,"i",120),e._uU(32,"Num\xe9ro de document: "),e.qZA(),e._uU(33),e.qZA(),e.YNc(34,le,5,1,"div",121)(35,re,6,4,"div",121)(36,ae,5,1,"div",122)(37,se,5,1,"div",121),e.qZA()(),e.TgZ(38,"p-fieldset",123)(39,"div",0)(40,"div",124)(41,"div",62),e._UZ(42,"i",125),e.TgZ(43,"span",75),e._uU(44,"4 doigts main gauche"),e.qZA()()(),e.TgZ(45,"div",124)(46,"div",62),e._UZ(47,"i",125),e.TgZ(48,"span",75),e._uU(49,"4 doigts main droite"),e.qZA()()(),e.TgZ(50,"div",124)(51,"div",62),e._UZ(52,"i",125),e.TgZ(53,"span",75),e._uU(54,"Les deux pouces"),e.qZA()()(),e.TgZ(55,"div",113)(56,"span",114),e._UZ(57,"i",126),e._uU(58,"Type de capture: "),e.qZA()(),e.TgZ(59,"div",113)(60,"span",114),e._UZ(61,"i",127),e._uU(62,"Statut: "),e.qZA()()()(),e.TgZ(63,"p-fieldset",128)(64,"div",0)(65,"div",113)(66,"span",114),e._UZ(67,"i",129),e._uU(68,"Pays de r\xe9sidence: "),e.qZA(),e._uU(69),e.qZA(),e.YNc(70,pe,5,1,"div",121)(71,ce,5,1,"div",121)(72,ue,5,1,"div",122),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("toggleable",!1),e.xp6(6),e.AsE(" ",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.nomFamille," ",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.prenom," "),e.xp6(5),e.hij(" ",e.xi3(13,24,null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.dateNaissance,"dd/MM/yyyy")," "),e.xp6(6),e.hij(" ",(null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.lieuNaissance)||"N/A"," "),e.xp6(5),e.hij(" ",(null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.nationalite)||"N/A"," "),e.xp6(5),e.hij(" ",(null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.typeDocument)||"N/A"," "),e.xp6(5),e.hij(" ",(null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.numeroDocument)||"N/A"," "),e.xp6(1),e.Q6J("ngIf",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.numeroNip),e.xp6(1),e.Q6J("ngIf",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.dateDelivrance),e.xp6(1),e.Q6J("ngIf",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.lieuDelivrance),e.xp6(1),e.Q6J("ngIf",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.profession),e.xp6(1),e.Q6J("toggleable",!1),e.xp6(4),e.Tol(t.selectedDonneeBiometrique.empreinteGauche1?"pi pi-check-circle text-green-500":"pi pi-times-circle text-red-500"),e.xp6(5),e.Tol(t.selectedDonneeBiometrique.empreinteDroite1?"pi pi-check-circle text-green-500":"pi pi-times-circle text-red-500"),e.xp6(5),e.Tol(t.selectedDonneeBiometrique.empreintePouces1?"pi pi-check-circle text-green-500":"pi pi-times-circle text-red-500"),e.xp6(11),e.Q6J("toggleable",!1),e.xp6(6),e.hij(" ",(null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.paysResidence)||"N/A"," "),e.xp6(1),e.Q6J("ngIf",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.emailContact),e.xp6(1),e.Q6J("ngIf",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.telephoneBurkina),e.xp6(1),e.Q6J("ngIf",null==t.selectedDonneeBiometrique.informationPersonnelle?null:t.selectedDonneeBiometrique.informationPersonnelle.adresseBurkina)}}function de(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"button",136),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.closeDetailModal())}),e.qZA()}}function ge(i,m){if(1&i&&e._uU(0),2&i){const t=m.$implicit;e.AsE(" (",t.nomFamille," \u2192 ",t.prenom,") ")}}function _e(i,m){if(1&i&&(e.TgZ(0,"div",137),e._UZ(1,"img",138),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("src",t.empreinteGauche().image,e.LSH)}}function fe(i,m){1&i&&(e.TgZ(0,"div",139),e._UZ(1,"i",140),e.qZA())}function he(i,m){if(1&i&&(e.TgZ(0,"div",137),e._UZ(1,"img",141),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("src",t.empreinteDroite().image,e.LSH)}}function Te(i,m){1&i&&(e.TgZ(0,"div",139),e._UZ(1,"i",140),e.qZA())}function ve(i,m){if(1&i&&(e.TgZ(0,"div",137),e._UZ(1,"img",142),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("src",t.empreintePouces().image,e.LSH)}}function Ce(i,m){1&i&&(e.TgZ(0,"div",139),e._UZ(1,"i",140),e.qZA())}function xe(i,m){if(1&i&&(e.TgZ(0,"div",143),e._UZ(1,"img",144),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("src",t.capturedPhotoPourBiometrie(),e.LSH)}}function be(i,m){1&i&&(e.TgZ(0,"div",139),e._UZ(1,"i",145),e.qZA())}function De(i,m){1&i&&e._UZ(0,"video",146,147)}function Ze(i,m){if(1&i&&e._UZ(0,"img",148),2&i){const t=e.oxw();e.Q6J("src",t.capturedPhotoBase64(),e.LSH)}}function ye(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"p-button",150),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.capturerPhoto())}),e.qZA()}}function qe(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"p-button",151),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.reprendrePhoto())}),e.qZA(),e.TgZ(1,"p-button",152),e.NdJ("onClick",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.confirmerPhoto())}),e.qZA()}}function Pe(i,m){if(1&i&&e.YNc(0,ye,1,0,"p-button",149)(1,qe,2,0),2&i){const t=e.oxw();e.um2(0,t.capturedPhotoBase64()?1:0)}}const Be=()=>["informationPersonnelle.nomFamille","informationPersonnelle.prenom","informationPersonnelle.numeroDocument","informationPersonnelle.nationalite"],Ae=()=>[5,10,20,30],Ee=()=>({width:"500px"}),Me=()=>({width:"1000px"}),Ie=()=>({width:"60rem"}),Ue=()=>({"960px":"75vw","640px":"95vw"}),we=()=>({width:"100%"}),Fe=()=>({width:"50rem"}),Je=()=>({"960px":"75vw","640px":"90vw"}),Ne=()=>({marginTop:"80px"});let Oe=(()=>{class i{constructor(t,o,n,s,d,q){this.fb=t,this.store=o,this.router=n,this.confirmationService=s,this.messageService=d,this.biometricService=q,this.destroy$=new w.x,this.donneeBiometriqueList=(0,e.tdS)([]),this.selectedDonneeBiometrique=null,this.cols=[],this.keyword="",this.totalItems=0,this.itemsPerPage=10,this.page=0,this.first=0,this.rows=10,this.filterDialog=!1,this.loading=(0,e.tdS)(!0),this.dateDebut=null,this.dateFin=null,this.isDetailModalOpen=!1,this.selectedStatuts=[],this.statutsDonneeBio=[{label:"Invalide",value:B.Nb.INVALIDE},{label:"Valid\xe9",value:B.Nb.VALIDE},{label:"Expir\xe9e",value:B.Nb.EXPIREE}],this.typesCapture=[{label:"Controle",value:B.Oe.CONTROLE},{label:"Enrolement",value:B.Oe.ENROLEMENT}],this.isCaptureBiometriqueModalOpen=(0,e.tdS)(!1),this.empreinteGauche=(0,e.tdS)({image:null,capturee:!1}),this.empreinteDroite=(0,e.tdS)({image:null,capturee:!1}),this.empreintePouces=(0,e.tdS)({image:null,capturee:!1}),this.informationPersonnelleId=null,this.capturedPhotoPourBiometrie=(0,e.tdS)(null),this.isSaving=(0,e.tdS)(!1),this.biometric=(0,e.tdS)(null),this.isCameraModalOpen=(0,e.tdS)(!1),this.capturedPhotoBase64=(0,e.tdS)(null),this.currentCameraTarget=(0,e.tdS)(null),this.mediaStream=null,this.informationPersonnelles=[],this.typeCapture=B.Oe.CONTROLE}ngOnInit(){this.cols=[{field:"informationPersonnelle.nomFamille",header:"Nom"},{field:"informationPersonnelle.prenom",header:"Pr\xe9nom"},{field:"informationPersonnelle.typeDocument",header:"Type document"},{field:"informationPersonnelle.numeroDocument",header:"N\xb0 document"},{field:"informationPersonnelle.nationalite",header:"Nationalit\xe9"},{field:"typeCapture",header:"Type capture"},{field:"statut",header:"Statut"}],this.createFormSearch(),this.createFormFilter(),this.dateDebut=new Date,this.dateDebut.setDate(this.dateDebut.getDate()-7),this.dateFin=new Date,this.loadDonneesBiometriques(),this.subscribeToStoreUpdates(),this.biometricService.$findPersonnes().subscribe(t=>{t&&(this.informationPersonnelles=t)})}loadDonneesBiometriques(){this.dateDebut&&this.dateFin?this.dateDebut>this.dateFin?this.messageService.add({severity:"error",summary:"Erreur",detail:"La date de d\xe9but doit \xeatre avant la date de fin",life:3e3}):(this.loading.set(!0),this.store.dispatch(N.gk({search:{dateDebut:this.dateDebut,dateFin:this.dateFin,page:this.page,size:this.rows}}))):this.messageService.add({severity:"warn",summary:"Attention",detail:"Veuillez s\xe9lectionner une p\xe9riode",life:3e3})}subscribeToStoreUpdates(){this.store.pipe((0,J.Ys)(L),(0,M.R)(this.destroy$)).subscribe(t=>{this.loading.set(!1),t&&this.donneeBiometriqueList.set(t)}),this.store.pipe((0,J.Ys)(R),(0,M.R)(this.destroy$)).subscribe(t=>{void 0!==t&&(this.totalItems=t)})}selectDonneeBiometrique(t){this.selectedDonneeBiometrique=t,this.isDetailModalOpen=!0}closeDetailModal(){this.isDetailModalOpen=!1,this.selectedDonneeBiometrique=null}closeBiometricModal(){this.isCaptureBiometriqueModalOpen.set(!1),this.resetCaptureData()}openCaptureBiometriqueModal(t){t&&(this.selectedDonneeBiometrique=t),this.resetCaptureData(),this.isCaptureBiometriqueModalOpen.set(!0)}resetCaptureData(){this.empreinteGauche.set({image:null,capturee:!1}),this.empreinteDroite.set({image:null,capturee:!1}),this.empreintePouces.set({image:null,capturee:!1}),this.capturedPhotoPourBiometrie.set(null)}capturerEmpreinte(t){const o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==";"empreinteGauche"===t?this.empreinteGauche.set({image:o,capturee:!0}):"empreinteDroite"===t?this.empreinteDroite.set({image:o,capturee:!0}):"empreintePouces"===t&&this.empreintePouces.set({image:o,capturee:!0}),this.messageService.add({severity:"success",summary:"Succ\xe8s",detail:"Empreinte captur\xe9e avec succ\xe8s",life:2e3})}demarrerCamera(t){var o=this;return(0,u.Z)(function*(){o.currentCameraTarget.set(t),o.capturedPhotoBase64.set(null),o.isCameraModalOpen.set(!0);try{yield o.waitForView(),o.mediaStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:1280,height:720}}),o.videoElement&&o.videoElement.nativeElement&&(o.videoElement.nativeElement.srcObject=o.mediaStream)}catch(n){console.error("Erreur d'acc\xe8s \xe0 la cam\xe9ra:",n),o.messageService.add({severity:"error",summary:"Erreur cam\xe9ra",detail:"Impossible d'acc\xe9der \xe0 la cam\xe9ra",life:3e3}),o.isCameraModalOpen.set(!1)}})()}waitForView(){return new Promise(t=>setTimeout(t,100))}capturerPhoto(){if(!this.videoElement||!this.canvasElement)return;const t=this.videoElement.nativeElement,o=this.canvasElement.nativeElement,n=o.getContext("2d");if(!n)return;o.width=t.videoWidth,o.height=t.videoHeight,n.drawImage(t,0,0,o.width,o.height);const s=o.toDataURL("image/jpeg",.8);this.capturedPhotoBase64.set(s)}reprendrePhoto(){this.capturedPhotoBase64.set(null)}confirmerPhoto(){const t=this.capturedPhotoBase64(),o=this.currentCameraTarget();!t||!o||("biometrique"===o?this.capturedPhotoPourBiometrie.set(t):"empreinteGauche"===o?this.empreinteGauche.set({image:t,capturee:!0}):"empreinteDroite"===o?this.empreinteDroite.set({image:t,capturee:!0}):"empreintePouces"===o&&this.empreintePouces.set({image:t,capturee:!0}),this.arreterCamera())}arreterCamera(){this.mediaStream&&(this.mediaStream.getTracks().forEach(t=>t.stop()),this.mediaStream=null),this.isCameraModalOpen.set(!1),this.capturedPhotoBase64.set(null),this.currentCameraTarget.set(null)}validerAvecBiometrie(){this.isSaving.set(!0),new FormData;const o=this.convertBase64ToFile(this.empreinteGauche().image,"empreinte_gauche.jpg"),n=this.convertBase64ToFile(this.empreinteDroite().image,"empreinte_droite.jpg"),s=this.convertBase64ToFile(this.empreintePouces().image,"empreinte_pouces.jpg"),d=this.convertBase64ToFile(this.capturedPhotoPourBiometrie(),"photo_biometrique.jpg");if(!(o&&n&&s&&d))return void this.messageService.add({severity:"error",summary:"Erreur de conversion",detail:"Impossible de convertir les images captur\xe9es",life:3e3});this.biometric.set({informationPersonnelleId:this.informationPersonnelleId??0,typeCapture:this.typeCapture,empreinteGauche:o,empreinteDroite:n,empreintePouces:s,photoBiometrique:d});const q=this.biometric();console.log("=================this.biometric()=============",this.biometric()),q&&this.store.dispatch(N.J0(q)),setTimeout(()=>{this.isSaving.set(!1),this.closeBiometricModal(),this.messageService.add({severity:"success",summary:"Succ\xe8s",detail:"Donn\xe9es biom\xe9triques enregistr\xe9es avec succ\xe8s",life:3e3})},2e3)}dataURItoBlob(t){const o=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(o.length),d=new Uint8Array(s);for(let q=0;q<o.length;q++)d[q]=o.charCodeAt(q);return new Blob([s],{type:n})}closeFilterDialog(){this.filterDialog=!1}createFormSearch(){this.formSearch=this.fb.group({keyword:[null]})}createFormFilter(){this.filterFormGroup=this.fb.group({dateDebut:[this.dateDebut],dateFin:[this.dateFin],statuts:[[]]})}onPageChange(t){this.page=t.page,this.rows=t.rows,this.first=t.first,this.loadDonneesBiometriques()}onGlobalFilter(t,o){t.filterGlobal(o.target.value,"contains")}confirmDelete(t){this.confirmationService.confirm({message:`\xcates-vous s\xfbr de vouloir supprimer les donn\xe9es biom\xe9triques de "${t.informationPersonnelle?.nomFamille||""} ${t.informationPersonnelle?.prenom||""}" ?`,header:"Confirmation de suppression",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",acceptLabel:"Oui, supprimer",rejectLabel:"Annuler",accept:()=>{this.deleteDonneeBiometrique(t)}})}deleteDonneeBiometrique(t){this.store.dispatch(N.XY(t)),this.messageService.add({severity:"success",summary:"Succ\xe8s",detail:"Donn\xe9es biom\xe9triques supprim\xe9es",life:3e3})}openFilterDialog(){this.filterFormGroup.patchValue({dateDebut:this.dateDebut,dateFin:this.dateFin,statuts:this.selectedStatuts}),this.filterDialog=!0}convertBase64ToFile(t,o="photo.jpg"){if(t)try{const n=t.split(",")[1]||t,s=atob(n),d=new ArrayBuffer(s.length),q=new Uint8Array(d);for(let G=0;G<s.length;G++)q[G]=s.charCodeAt(G);const V=new Blob([q],{type:"image/jpeg"});return new File([V],o,{type:"image/jpeg"})}catch(n){return void console.error("Erreur conversion base64 vers File:",n)}}applyFilters(){const t=this.filterFormGroup.value;this.dateDebut=t.dateDebut,this.dateFin=t.dateFin,this.selectedStatuts=t.statuts||[],this.page=0,this.first=0,this.filterDialog=!1,this.loadDonneesBiometriques()}resetFilters(){this.dateDebut=new Date,this.dateDebut.setDate(this.dateDebut.getDate()-7),this.dateFin=new Date,this.selectedStatuts=[],this.filterFormGroup.patchValue({dateDebut:this.dateDebut,dateFin:this.dateFin,statuts:[]}),this.page=0,this.first=0,this.loadDonneesBiometriques()}cancelFilter(){this.filterDialog=!1}getStatutSeverity(t){switch(t){case B.Nb.VALIDE:return"success";case B.Nb.EXPIREE:return"warning";case B.Nb.INVALIDE:return"danger";default:return"info"}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(T.qu),e.Y36(J.yh),e.Y36(S.F0),e.Y36(f.YP),e.Y36(f.ez),e.Y36(Y.r))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-donnee-biometrique"]],viewQuery:function(o,n){if(1&o&&(e.Gf(a,5),e.Gf(b,5)),2&o){let s;e.iGM(s=e.CRH())&&(n.videoElement=s.first),e.iGM(s=e.CRH())&&(n.canvasElement=s.first)}},standalone:!0,features:[e._Bn([f.ez,f.YP]),e.jDz],decls:99,vars:85,consts:[[1,"grid"],[1,"col-12","md:col-12"],["styleClass","p-datatable-gridlines p-datatable-sm","currentPageReportTemplate","Affichage de {first} \xe0 {last} sur {totalRecords} entr\xe9es","selectionMode","single","dataKey","id",3,"value","columns","rows","paginator","showCurrentPageReport","globalFilterFields","selection","rowHover","loading","filterDelay","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["currentPageReportTemplate","Affichage de {first} \xe0 {last} sur {totalRecords} entr\xe9es",3,"rows","totalRecords","rowsPerPageOptions","first","showCurrentPageReport","onPageChange"],["header","Filtrer les donn\xe9es biom\xe9triques","styleClass","p-fluid",3,"visible","modal","draggable","resizable","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","D\xe9tails des donn\xe9es biom\xe9triques",1,"p-fluid",3,"visible","modal","closable","draggable","visibleChange"],["class","p-fluid",4,"ngIf"],["header","Capturer les Donn\xe9es Biom\xe9triques",3,"visible","modal","closable","breakpoints","onHide"],["legend","Informations"],[1,"col-12","md:col-6"],["for","informationPersonnelle"],[1,"text-red-500"],["id","informationPersonnelle","optionLabel","nomFamille","optionValue","id","placeholder","S\xe9lectionner une personne","styleClass","w-full",3,"options","ngModel","ngModelChange"],["pTemplate","item"],["id","typeCapture","name","typeCapture","placeholder","S\xe9lectionner un type",3,"options","ngModel","ngModelChange"],[1,"col-12","md:col-6","p-4","border-1","border-round","bg-gray-50"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"flex","align-items-center"],[1,"pi","pi-fingerprint","text-4xl","text-cyan-500","mr-3"],[1,"font-semibold","text-gray-700"],[1,"text-xs"],["pButton","","severity","info","size","small",3,"label","click"],["class","w-full h-12rem bg-white border-round border-2 border-green-500 overflow-hidden",4,"ngIf","ngIfElse"],["noImageGauche",""],["noImageDroite",""],[1,"pi","pi-thumbs-up","text-4xl","text-purple-500","mr-3"],["pButton","","severity","help","size","small",3,"label","click"],["noImagePouces",""],[1,"pi","pi-camera","text-4xl","text-green-500","mr-3"],["pButton","","severity","success","size","small",3,"label","click"],["class","w-full h-12rem bg-white border-round border-2 border-green-500 overflow-hidden flex align-items-center justify-content-center",4,"ngIf","ngIfElse"],["noPhoto",""],[1,"flex","justify-content-end","gap-2","mt-4"],["pButton","","label","Annuler","severity","secondary",3,"click"],["pButton","","label","Sauvegarder et Valider","icon","pi pi-save",3,"loading","disabled","click"],["header","Capture Photo",3,"visible","modal","closable","breakpoints","onHide"],[1,"relative","w-full","aspect-[4/3]","bg-gray-900","rounded-md","overflow-hidden"],["playsinline","","autoplay","","class","w-full h-full object-cover"],[1,"hidden"],["canvasElement",""],["position","top-center"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],[1,"flex","gap-2"],["label","Nouvelle capture","severity","success","icon","pi pi-plus",3,"onClick"],["label","Filtrer par p\xe9riode","severity","info","icon","pi pi-filter",3,"onClick"],["label","R\xe9initialiser","severity","secondary","icon","pi pi-refresh",3,"onClick"],[1,"flex","flex-column","align-items-end"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Rechercher",1,"w-full",3,"input"],["filter",""],["class","text-500",4,"ngIf"],[1,"text-500"],["pSortableColumn","informationPersonnelle.nomFamille"],[1,"flex","align-items-center","gap-2"],["field","informationPersonnelle.nomFamille"],["pSortableColumn","informationPersonnelle.typeDocument"],["field","informationPersonnelle.typeDocument"],["pSortableColumn","informationPersonnelle.nationalite"],["field","informationPersonnelle.nationalite"],["pSortableColumn","typeCapture"],["field","typeCapture"],["pSortableColumn","statut"],["field","statut"],[1,"text-center"],[1,"p-input-icon-left","w-full"],[3,"pSelectableRow"],[1,"font-semibold"],[1,"text-sm","text-color-secondary"],["class","pi pi-check-circle text-green-500","pTooltip","Empreinte gauche","tooltipPosition","top",4,"ngIf"],["class","pi pi-times-circle text-red-500","pTooltip","Empreinte gauche manquante","tooltipPosition","top",4,"ngIf"],["class","pi pi-check-circle text-green-500","pTooltip","Empreinte droite","tooltipPosition","top",4,"ngIf"],["class","pi pi-times-circle text-red-500","pTooltip","Empreinte droite manquante","tooltipPosition","top",4,"ngIf"],["class","pi pi-check-circle text-green-500","pTooltip","Empreintes pouces","tooltipPosition","top",4,"ngIf"],["class","pi pi-times-circle text-red-500","pTooltip","Empreintes pouces manquantes","tooltipPosition","top",4,"ngIf"],[3,"value","severity"],[1,"flex","align-items-center","justify-content-center","gap-2"],["icon","pi pi-eye","severity","info","pTooltip","Voir d\xe9tail","tooltipPosition","top",3,"rounded","text","onClick"],["icon","pi pi-id-card","severity","info","pTooltip","Capturer biom\xe9trie","tooltipPosition","top",3,"rounded","text","onClick"],["icon","pi pi-trash","severity","danger","pTooltip","Supprimer","tooltipPosition","top",3,"rounded","text","onClick"],["pTooltip","Empreinte gauche","tooltipPosition","top",1,"pi","pi-check-circle","text-green-500"],["pTooltip","Empreinte gauche manquante","tooltipPosition","top",1,"pi","pi-times-circle","text-red-500"],["pTooltip","Empreinte droite","tooltipPosition","top",1,"pi","pi-check-circle","text-green-500"],["pTooltip","Empreinte droite manquante","tooltipPosition","top",1,"pi","pi-times-circle","text-red-500"],["pTooltip","Empreintes pouces","tooltipPosition","top",1,"pi","pi-check-circle","text-green-500"],["pTooltip","Empreintes pouces manquantes","tooltipPosition","top",1,"pi","pi-times-circle","text-red-500"],["colspan","7",1,"text-center","py-5"],[1,"flex","flex-column","align-items-center","justify-content-center","gap-3"],[1,"pi","pi-inbox","text-5xl","text-color-secondary"],[1,"text-xl","font-semibold","text-red-500"],[1,"text-color-secondary"],["colspan","7"],[1,"flex","align-items-center","justify-content-center","gap-2","py-3"],[1,"pi","pi-spin","pi-spinner","text-2xl"],[3,"formGroup"],["for","dateDebut",1,"block","mb-2","font-semibold"],["id","dateDebut","formControlName","dateDebut","dateFormat","dd/mm/yy","placeholder","S\xe9lectionner une date",3,"showIcon","maxDate"],["for","dateFin",1,"block","mb-2","font-semibold"],["id","dateFin","formControlName","dateFin","dateFormat","dd/mm/yy","placeholder","S\xe9lectionner une date",3,"showIcon","minDate"],[1,"flex","justify-content-end","gap-2"],["pButton","","label","Annuler","icon","pi pi-times",1,"p-button-text","p-button-secondary",3,"click"],["pButton","","label","R\xe9initialiser","icon","pi pi-refresh",1,"p-button-text","p-button-warning",3,"click"],["pButton","","label","Appliquer","icon","pi pi-check",1,"p-button-primary",3,"click"],[1,"p-fluid"],["legend","Informations Personnelles","styleClass","mb-3",3,"toggleable"],[1,"field","col-12","md:col-6"],[1,"font-bold"],[1,"pi","pi-user","mr-2"],[1,"pi","pi-calendar","mr-2"],[1,"pi","pi-map-marker","mr-2"],[1,"pi","pi-flag","mr-2"],[1,"pi","pi-id-card","mr-2"],[1,"pi","pi-hashtag","mr-2"],["class","field col-12 md:col-6",4,"ngIf"],["class","field col-12",4,"ngIf"],["legend","Donn\xe9es Biom\xe9triques Captur\xe9es","styleClass","mb-3",3,"toggleable"],[1,"field","col-12","md:col-4"],[2,"font-size","1.5rem"],[1,"pi","pi-cog","mr-2"],[1,"pi","pi-info-circle","mr-2"],["legend","Coordonn\xe9es","styleClass","mb-3",3,"toggleable"],[1,"pi","pi-globe","mr-2"],[1,"pi","pi-key","mr-2"],[1,"field","col-12"],[1,"pi","pi-briefcase","mr-2"],[1,"pi","pi-envelope","mr-2"],[1,"pi","pi-phone","mr-2"],[1,"pi","pi-home","mr-2"],["pButton","","pRipple","","label","Fermer","icon","pi pi-times",1,"p-button-danger",3,"click"],[1,"w-full","h-12rem","bg-white","border-round","border-2","border-green-500","overflow-hidden"],["alt","Empreinte main gauche",1,"w-full","h-full","object-fit-contain",3,"src"],[1,"w-full","h-12rem","bg-gray-200","border-round","flex","align-items-center","justify-content-center"],[1,"pi","pi-image","text-6xl","text-gray-400"],["alt","Empreinte main droite",1,"w-full","h-full","object-fit-contain",3,"src"],["alt","Empreinte pouces",1,"w-full","h-full","object-fit-contain",3,"src"],[1,"w-full","h-12rem","bg-white","border-round","border-2","border-green-500","overflow-hidden","flex","align-items-center","justify-content-center"],["alt","Photo biom\xe9trique",1,"max-w-full","max-h-full","object-fit-contain",3,"src"],[1,"pi","pi-user","text-6xl","text-gray-400"],["playsinline","","autoplay","",1,"w-full","h-full","object-cover"],["videoElement",""],["alt","Aper\xe7u de la capture",1,"w-full","h-full","object-contain",3,"src"],["label","Capturer","icon","pi pi-camera","severity","success"],["label","Capturer","icon","pi pi-camera","severity","success",3,"onClick"],["label","Reprendre","icon","pi pi-refresh","severity","secondary",3,"onClick"],["label","Confirmer","icon","pi pi-check","severity","success",3,"onClick"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p-table",2,3),e.NdJ("selectionChange",function(d){return n.selectedDonneeBiometrique=d}),e.YNc(4,y,11,1,"ng-template",4)(5,h,48,0,"ng-template",5)(6,ee,31,26,"ng-template",6)(7,te,8,0,"ng-template",7)(8,ne,6,0,"ng-template",8),e.qZA(),e.TgZ(9,"p-paginator",9),e.NdJ("onPageChange",function(d){return n.onPageChange(d)}),e.qZA()()(),e.TgZ(10,"p-dialog",10),e.NdJ("visibleChange",function(d){return n.filterDialog=d}),e.YNc(11,ie,10,5,"ng-template",11)(12,oe,4,0,"ng-template",12),e.qZA(),e.TgZ(13,"p-dialog",13),e.NdJ("visibleChange",function(d){return n.isDetailModalOpen=d}),e.YNc(14,me,73,27,"div",14)(15,de,1,0,"ng-template",12),e.qZA(),e.TgZ(16,"p-dialog",15),e.NdJ("onHide",function(){return n.closeBiometricModal()}),e.TgZ(17,"div")(18,"p-fieldset",16)(19,"div",0)(20,"div",17)(21,"label",18),e._uU(22,"Personne "),e.TgZ(23,"span",19),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"p-dropdown",20),e.NdJ("ngModelChange",function(d){return n.informationPersonnelleId=d}),e.YNc(26,ge,1,2,"ng-template",21),e.qZA()(),e.TgZ(27,"div",17)(28,"label",18),e._uU(29,"type capture "),e.TgZ(30,"span",19),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"p-dropdown",22),e.NdJ("ngModelChange",function(d){return n.typeCapture=d}),e.qZA()()()(),e.TgZ(33,"div",0)(34,"div",23)(35,"div",24)(36,"div",25),e._UZ(37,"i",26),e.TgZ(38,"div")(39,"p",27),e._uU(40,"4 doigts main gauche"),e.qZA(),e.TgZ(41,"p",28),e._uU(42),e.qZA()()(),e.TgZ(43,"button",29),e.NdJ("click",function(){return n.capturerEmpreinte("empreinteGauche")}),e.qZA()(),e.YNc(44,_e,2,1,"div",30)(45,fe,2,0,"ng-template",null,31,e.W1O),e.qZA(),e.TgZ(47,"div",23)(48,"div",24)(49,"div",25),e._UZ(50,"i",26),e.TgZ(51,"div")(52,"p",27),e._uU(53,"4 doigts main droite"),e.qZA(),e.TgZ(54,"p",28),e._uU(55),e.qZA()()(),e.TgZ(56,"button",29),e.NdJ("click",function(){return n.capturerEmpreinte("empreinteDroite")}),e.qZA()(),e.YNc(57,he,2,1,"div",30)(58,Te,2,0,"ng-template",null,32,e.W1O),e.qZA(),e.TgZ(60,"div",23)(61,"div",24)(62,"div",25),e._UZ(63,"i",33),e.TgZ(64,"div")(65,"p",27),e._uU(66,"Les deux pouces"),e.qZA(),e.TgZ(67,"p",28),e._uU(68),e.qZA()()(),e.TgZ(69,"button",34),e.NdJ("click",function(){return n.capturerEmpreinte("empreintePouces")}),e.qZA()(),e.YNc(70,ve,2,1,"div",30)(71,Ce,2,0,"ng-template",null,35,e.W1O),e.qZA(),e.TgZ(73,"div",23)(74,"div",24)(75,"div",25),e._UZ(76,"i",36),e.TgZ(77,"div")(78,"p",27),e._uU(79,"Photo d'identit\xe9"),e.qZA(),e.TgZ(80,"p",28),e._uU(81),e.qZA()()(),e.TgZ(82,"button",37),e.NdJ("click",function(){return n.demarrerCamera("biometrique")}),e.qZA()(),e.YNc(83,xe,2,1,"div",38)(84,be,2,0,"ng-template",null,39,e.W1O),e.qZA()(),e.TgZ(86,"div",40)(87,"button",41),e.NdJ("click",function(){return n.closeBiometricModal()}),e.qZA(),e.TgZ(88,"button",42),e.NdJ("click",function(){return n.validerAvecBiometrie()}),e.qZA()()()(),e.TgZ(89,"p-dialog",43),e.NdJ("onHide",function(){return n.isCameraModalOpen.set(!1)}),e.TgZ(90,"div",44),e.YNc(91,De,2,0,"video",45)(92,Ze,1,1),e._UZ(93,"canvas",46,47),e.qZA(),e.YNc(95,Pe,2,1,"ng-template",12),e.qZA(),e._UZ(96,"p-toast",48)(97,"p-confirmDialog")(98,"app-loading-spinner")),2&o){const s=e.MAs(46),d=e.MAs(59),q=e.MAs(72),V=e.MAs(85);e.xp6(2),e.Q6J("value",n.donneeBiometriqueList())("columns",n.cols)("rows",n.rows)("paginator",!1)("showCurrentPageReport",!0)("globalFilterFields",e.DdM(75,Be))("selection",n.selectedDonneeBiometrique)("rowHover",!0)("loading",n.loading())("filterDelay",300),e.xp6(7),e.Q6J("rows",n.rows)("totalRecords",n.totalItems)("rowsPerPageOptions",e.DdM(76,Ae))("first",n.first)("showCurrentPageReport",!0),e.xp6(1),e.Akn(e.DdM(77,Ee)),e.Q6J("visible",n.filterDialog)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(3),e.Akn(e.DdM(78,Me)),e.Q6J("visible",n.isDetailModalOpen)("modal",!0)("closable",!0)("draggable",!1),e.xp6(1),e.Q6J("ngIf",n.selectedDonneeBiometrique),e.xp6(2),e.Akn(e.DdM(79,Ie)),e.Q6J("visible",n.isCaptureBiometriqueModalOpen())("modal",!0)("closable",!0)("breakpoints",e.DdM(80,Ue)),e.xp6(9),e.Q6J("options",n.informationPersonnelles)("ngModel",n.informationPersonnelleId),e.xp6(7),e.Akn(e.DdM(81,we)),e.Q6J("options",n.typesCapture)("ngModel",n.typeCapture),e.xp6(9),e.Tol(n.empreinteGauche().capturee?"text-green-600":"text-gray-500"),e.xp6(1),e.hij(" ",n.empreinteGauche().capturee?"Captur\xe9":"Pr\xeat pour la capture"," "),e.xp6(1),e.Q6J("label",n.empreinteGauche().capturee?"Recapturer":"Capturer"),e.xp6(1),e.Q6J("ngIf",n.empreinteGauche().image)("ngIfElse",s),e.xp6(10),e.Tol(n.empreinteDroite().capturee?"text-green-600":"text-gray-500"),e.xp6(1),e.hij(" ",n.empreinteDroite().capturee?"Captur\xe9":"Pr\xeat pour la capture"," "),e.xp6(1),e.Q6J("label",n.empreinteDroite().capturee?"Recapturer":"Capturer"),e.xp6(1),e.Q6J("ngIf",n.empreinteDroite().image)("ngIfElse",d),e.xp6(10),e.Tol(n.empreintePouces().capturee?"text-green-600":"text-gray-500"),e.xp6(1),e.hij(" ",n.empreintePouces().capturee?"Captur\xe9":"Pr\xeat pour la capture"," "),e.xp6(1),e.Q6J("label",n.empreintePouces().capturee?"Recapturer":"Capturer"),e.xp6(1),e.Q6J("ngIf",n.empreintePouces().image)("ngIfElse",q),e.xp6(10),e.Tol(n.capturedPhotoPourBiometrie()?"text-green-600":"text-gray-500"),e.xp6(1),e.hij(" ",n.capturedPhotoPourBiometrie()?"Photo captur\xe9e":"Pr\xeat pour la capture"," "),e.xp6(1),e.Q6J("label",n.capturedPhotoPourBiometrie()?"Reprendre":"Prendre"),e.xp6(1),e.Q6J("ngIf",n.capturedPhotoPourBiometrie())("ngIfElse",V),e.xp6(5),e.Q6J("loading",n.isSaving())("disabled",!(n.empreinteGauche().capturee&&n.empreinteDroite().capturee&&n.empreintePouces().capturee&&n.capturedPhotoPourBiometrie())),e.xp6(1),e.Akn(e.DdM(82,Fe)),e.Q6J("visible",n.isCameraModalOpen())("modal",!0)("closable",!0)("breakpoints",e.DdM(83,Je)),e.xp6(2),e.um2(91,n.capturedPhotoBase64()?92:91),e.xp6(5),e.Akn(e.DdM(84,Ne))}},dependencies:[l.ez,l.O5,l.uU,_.U$,_.iA,f.jx,_.lQ,_.Ei,_.fz,H.g,E.hJ,E.Hq,E.zx,D.T,D.H,v.z,v.u,U.V,I.EV,I.FN,C.j,C.o,T.UX,T._Y,T.JJ,T.JL,T.sg,T.u,T.u5,T.On,p.kW,p.Lt,Z._8,Z.f,x.U,x.D,g.S,g.V,O.L,O.p,S.Bz,K.q4,k.W,k.V,Q.D,Q.Q],styles:[".badge[_ngcontent-%COMP%]{display:inline-block;padding:.35em .65em;border-radius:10px;font-size:.75rem;font-weight:600;text-transform:uppercase;color:#fff}.badge-primary[_ngcontent-%COMP%]{background-color:#007bff}.badge-success[_ngcontent-%COMP%]{background-color:#28a745}.badge-danger[_ngcontent-%COMP%]{background-color:#dc3545}.badge-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.badge-secondary[_ngcontent-%COMP%]{background-color:#6c757d}"]})}return i})()},7791:(F,P,r)=>{r.d(P,{L:()=>Y,p:()=>Q});var u=r(6825),l=r(6814),e=r(9212),T=r(5219),f=r(1604),E=r(3983),C=r(4480),D=r(2332);function _(a,b){1&a&&e._UZ(0,"PlusIcon",11),2&a&&(e.Q6J("styleClass","p-fieldset-toggler"),e.uIk("data-pc-section","togglericon"))}function I(a,b){1&a&&e.GkF(0)}function U(a,b){if(1&a&&(e.TgZ(0,"span",12),e.YNc(1,I,1,0,"ng-container",6),e.qZA()),2&a){const c=e.oxw(3);e.uIk("data-pc-section","togglericon"),e.xp6(1),e.Q6J("ngTemplateOutlet",c.expandIconTemplate)}}function p(a,b){if(1&a&&(e.ynx(0),e.YNc(1,_,1,2,"PlusIcon",9)(2,U,2,2,"span",10),e.BQk()),2&a){const c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!c.expandIconTemplate),e.xp6(1),e.Q6J("ngIf",c.expandIconTemplate)}}function x(a,b){1&a&&e._UZ(0,"MinusIcon",11),2&a&&(e.Q6J("styleClass","p-fieldset-toggler"),e.uIk("aria-hidden",!0)("data-pc-section","togglericon"))}function g(a,b){1&a&&e.GkF(0)}function v(a,b){if(1&a&&(e.TgZ(0,"span",12),e.YNc(1,g,1,0,"ng-container",6),e.qZA()),2&a){const c=e.oxw(3);e.uIk("data-pc-section","togglericon"),e.xp6(1),e.Q6J("ngTemplateOutlet",c.collapseIconTemplate)}}function Z(a,b){if(1&a&&(e.ynx(0),e.YNc(1,x,1,3,"MinusIcon",9)(2,v,2,2,"span",10),e.BQk()),2&a){const c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!c.collapseIconTemplate),e.xp6(1),e.Q6J("ngIf",c.collapseIconTemplate)}}function w(a,b){1&a&&e.GkF(0)}function M(a,b){if(1&a){const c=e.EpF();e.ynx(0),e.TgZ(1,"a",7),e.NdJ("click",function(h){e.CHM(c);const A=e.oxw();return e.KtG(A.toggle(h))})("keydown",function(h){e.CHM(c);const A=e.oxw();return e.KtG(A.onKeyDown(h))}),e.YNc(2,p,3,2,"ng-container",8)(3,Z,3,2,"ng-container",8)(4,w,1,0,"ng-container",6),e.qZA(),e.BQk()}if(2&a){const c=e.oxw(),y=e.MAs(4);e.xp6(1),e.uIk("id",c.id+"_header")("aria-controls",c.id+"_content")("aria-expanded",!c.collapsed)("aria-label",c.buttonAriaLabel),e.xp6(1),e.Q6J("ngIf",c.collapsed),e.xp6(1),e.Q6J("ngIf",!c.collapsed),e.xp6(1),e.Q6J("ngTemplateOutlet",y)}}function J(a,b){1&a&&e.GkF(0)}function N(a,b){if(1&a&&(e.TgZ(0,"span",13),e._uU(1),e.qZA(),e.Hsn(2,1),e.YNc(3,J,1,0,"ng-container",6)),2&a){const c=e.oxw();e.uIk("data-pc-section","legendtitle"),e.xp6(1),e.Oqu(c.legend),e.xp6(2),e.Q6J("ngTemplateOutlet",c.headerTemplate)}}function L(a,b){1&a&&e.GkF(0)}const R=["*",[["p-header"]]],H=(a,b)=>({"p-fieldset p-component":!0,"p-fieldset-toggleable":a,"p-fieldset-expanded":b}),B=a=>({transitionParams:a,height:"0"}),O=a=>({value:"hidden",params:a}),k=a=>({transitionParams:a,height:"*"}),S=a=>({value:"visible",params:a}),K=["*","p-header"];let Q=(()=>{class a{el;legend;toggleable;collapsed=!1;style;styleClass;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new e.vpe;onBeforeToggle=new e.vpe;onAfterToggle=new e.vpe;templates;get id(){return(0,D.Th)()}get buttonAriaLabel(){return this.legend}animating;headerTemplate;contentTemplate;collapseIconTemplate;expandIconTemplate;constructor(c){this.el=c}ngAfterContentInit(){this.templates.forEach(c=>{switch(c.getType()){case"header":this.headerTemplate=c.template;break;case"expandicon":this.expandIconTemplate=c.template;break;case"collapseicon":this.collapseIconTemplate=c.template;break;case"content":this.contentTemplate=c.template}})}toggle(c){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:c,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),this.onAfterToggle.emit({originalEvent:c,collapsed:this.collapsed}),c.preventDefault()}onKeyDown(c){("Enter"===c.code||"Space"===c.code)&&(this.toggle(c),c.preventDefault())}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(){this.animating=!1}static \u0275fac=function(y){return new(y||a)(e.Y36(e.SBq))};static \u0275cmp=e.Xpm({type:a,selectors:[["p-fieldset"]],contentQueries:function(y,h,A){if(1&y&&e.Suo(A,T.jx,4),2&y){let j;e.iGM(j=e.CRH())&&(h.templates=j)}},hostAttrs:[1,"p-element"],inputs:{legend:"legend",toggleable:"toggleable",collapsed:"collapsed",style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:K,decls:9,vars:28,consts:[[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["legendContent",""],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["pRipple","","tabindex","0","role","button",3,"click","keydown"],[4,"ngIf"],[3,"styleClass",4,"ngIf"],["class","p-fieldset-toggler",4,"ngIf"],[3,"styleClass"],[1,"p-fieldset-toggler"],[1,"p-fieldset-legend-text"]],template:function(y,h){if(1&y&&(e.F$t(R),e.TgZ(0,"fieldset",0)(1,"legend",1),e.YNc(2,M,5,7,"ng-container",2)(3,N,4,3,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"div",4),e.NdJ("@fieldsetContent.done",function(){return h.onToggleDone()}),e.TgZ(6,"div",5),e.Hsn(7),e.YNc(8,L,1,0,"ng-container",6),e.qZA()()()),2&y){const A=e.MAs(4);e.Tol(h.styleClass),e.Q6J("ngClass",e.WLB(17,H,h.toggleable,!h.collapsed&&h.toggleable))("ngStyle",h.style),e.uIk("id",h.id)("data-pc-name","fieldset")("data-pc-section","root"),e.xp6(1),e.uIk("data-pc-section","legend"),e.xp6(1),e.Q6J("ngIf",h.toggleable)("ngIfElse",A),e.xp6(3),e.Q6J("@fieldsetContent",h.collapsed?e.VKq(22,O,e.VKq(20,B,h.transitionOptions)):e.VKq(26,S,e.VKq(24,k,h.animating?h.transitionOptions:"0ms"))),e.uIk("id",h.id+"_content")("aria-labelledby",h.id+"_header")("aria-hidden",h.collapsed)("data-pc-section","toggleablecontent"),e.xp6(1),e.uIk("data-pc-section","content"),e.xp6(2),e.Q6J("ngTemplateOutlet",h.contentTemplate)}},dependencies:()=>[l.mk,l.O5,l.tP,l.PC,C.H,f.V,E.p],styles:["@layer primeng{.p-fieldset-legend>a,.p-fieldset-legend>span{display:flex;align-items:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}.p-fieldset-toggleable.p-fieldset-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-fieldset-toggleable .p-toggleable-content{overflow:hidden}}\n"],encapsulation:2,data:{animation:[(0,u.X$)("fieldsetContent",[(0,u.SB)("hidden",(0,u.oB)({height:"0"})),(0,u.SB)("visible",(0,u.oB)({height:"*"})),(0,u.eR)("visible <=> hidden",[(0,u.jt)("{{transitionParams}}")]),(0,u.eR)("void => *",(0,u.jt)(0))])]},changeDetection:0})}return a})(),Y=(()=>{class a{static \u0275fac=function(y){return new(y||a)};static \u0275mod=e.oAB({type:a});static \u0275inj=e.cJS({imports:[l.ez,C.T,f.V,E.p,T.m8]})}return a})()},1604:(F,P,r)=>{r.d(P,{V:()=>T});var u=r(6814),l=r(9212),e=r(4713);let T=(()=>{class f extends e.s{static \u0275fac=(()=>{let C;return function(_){return(C||(C=l.n5z(f)))(_||f)}})();static \u0275cmp=l.Xpm({type:f,selectors:[["MinusIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(D,_){1&D&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"path",1),l.qZA()),2&D&&(l.Tol(_.getClassNames()),l.uIk("aria-label",_.ariaLabel)("aria-hidden",_.ariaHidden)("role",_.role))},dependencies:[u.ez],encapsulation:2})}return f})()},3983:(F,P,r)=>{r.d(P,{p:()=>T});var u=r(9212),l=r(4713),e=r(2332);let T=(()=>{class f extends l.s{pathId;ngOnInit(){this.pathId="url(#"+(0,e.Th)()+")"}static \u0275fac=(()=>{let C;return function(_){return(C||(C=u.n5z(f)))(_||f)}})();static \u0275cmp=u.Xpm({type:f,selectors:[["PlusIcon"]],standalone:!0,features:[u.qOj,u.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(D,_){1&D&&(u.O4$(),u.TgZ(0,"svg",0)(1,"g"),u._UZ(2,"path",1),u.qZA(),u.TgZ(3,"defs")(4,"clipPath",2),u._UZ(5,"rect",3),u.qZA()()()),2&D&&(u.Tol(_.getClassNames()),u.uIk("aria-label",_.ariaLabel)("aria-hidden",_.ariaHidden)("role",_.role),u.xp6(1),u.uIk("clip-path",_.pathId),u.xp6(3),u.Q6J("id",_.pathId))},encapsulation:2})}return f})()},6263:(F,P,r)=>{r.d(P,{V:()=>I,W:()=>U});var u=r(6814),l=r(9212),e=r(5219);function T(p,x){if(1&p&&l._UZ(0,"span",5),2&p){const g=l.oxw(2);l.Q6J("ngClass",g.icon)}}function f(p,x){if(1&p&&(l.ynx(0),l.YNc(1,T,1,1,"span",4),l.BQk()),2&p){const g=l.oxw();l.xp6(1),l.Q6J("ngIf",g.icon)}}function E(p,x){}function C(p,x){1&p&&l.YNc(0,E,0,0,"ng-template")}function D(p,x){if(1&p&&(l.TgZ(0,"span",6),l.YNc(1,C,1,0,null,7),l.qZA()),2&p){const g=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",g.iconTemplate)}}const _=["*"];let I=(()=>{class p{style;styleClass;severity;value;icon;rounded;templates;iconTemplate;ngAfterContentInit(){this.templates?.forEach(g=>{"icon"===g.getType()&&(this.iconTemplate=g.template)})}containerClass(){return{"p-tag p-component":!0,"p-tag-info":"info"===this.severity,"p-tag-success":"success"===this.severity,"p-tag-warning":"warning"===this.severity,"p-tag-danger":"danger"===this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(v){return new(v||p)};static \u0275cmp=l.Xpm({type:p,selectors:[["p-tag"]],contentQueries:function(v,Z,w){if(1&v&&l.Suo(w,e.jx,4),2&v){let M;l.iGM(M=l.CRH())&&(Z.templates=M)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:"rounded"},ngContentSelectors:_,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(v,Z){1&v&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.YNc(2,f,2,1,"ng-container",1)(3,D,2,1,"span",2),l.TgZ(4,"span",3),l._uU(5),l.qZA()()),2&v&&(l.Tol(Z.styleClass),l.Q6J("ngClass",Z.containerClass())("ngStyle",Z.style),l.xp6(2),l.Q6J("ngIf",!Z.iconTemplate),l.xp6(1),l.Q6J("ngIf",Z.iconTemplate),l.xp6(2),l.Oqu(Z.value))},dependencies:[u.mk,u.O5,u.tP,u.PC],styles:["@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}\n"],encapsulation:2,changeDetection:0})}return p})(),U=(()=>{class p{static \u0275fac=function(v){return new(v||p)};static \u0275mod=l.oAB({type:p});static \u0275inj=l.cJS({imports:[u.ez,e.m8,e.m8]})}return p})()},6340:(F,P,r)=>{r.d(P,{V:()=>U});var u=r(6814),l=r(9212);let U=(()=>{class p{static \u0275fac=function(v){return new(v||p)};static \u0275mod=l.oAB({type:p});static \u0275inj=l.cJS({imports:[u.ez]})}return p})()}}]);