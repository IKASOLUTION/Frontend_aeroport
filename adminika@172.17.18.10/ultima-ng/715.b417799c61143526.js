"use strict";(self.webpackChunkultima_ng=self.webpackChunkultima_ng||[]).push([[715],{7744:(L,f,l)=>{l.d(f,{T:()=>M});var g=l(9212),u=l(9862);let M=(()=>{class _{constructor(d){this.http=d}getCountries(){return this.http.get("assets/demo/data/countries.json").toPromise().then(d=>d.data).then(d=>d)}getNationalite(){return this.http.get("assets/demo/data/nationalites.json").toPromise().then(d=>d.data).then(d=>d)}static#e=this.\u0275fac=function(c){return new(c||_)(g.LFG(u.eN))};static#t=this.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},5715:(L,f,l)=>{l.r(f),l.d(f,{ModuleParamComponent:()=>oe});var g=l(5219),u=l(9232),M=l(8645),_=l(9773),T=l(6814),d=l(3668),c=l(95),C=l(707),P=l(4480),x=l(4104),Z=l(6340),r=l(6022),h=l(3714),m=l(6218),b=l(3965),y=l(1865),D=l(9653),U=l(7213),F=l(4055),w=l(4221),v=l(1837);const E=o=>o.moduleParamState.moduleParams;var O=l(6821),e=l(9212),J=l(1470),N=l(9862);let I=(()=>{class o{constructor(t){this.http=t,this.resourceUrl=J.T+"/moduleParams"}create(t){return this.http.post(this.resourceUrl,t,{observe:"response"})}update(t){return this.http.put(`${this.resourceUrl}/${t.id}`,t,{observe:"response"})}deleteAll(t){return this.http.put(`${this.resourceUrl}/all`,t,{observe:"response"})}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"})}findMenuByModule(t){return this.http.get(`${this.resourceUrl}/menus/${t}`,{observe:"response"})}query(t){return this.http.get(this.resourceUrl,{observe:"response"})}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response"})}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(N.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var k=l(7744);let $=(()=>{class o{constructor(t){this.http=t,this.resourceUrl=J.T+"/menuActions"}create(t){return this.http.post(this.resourceUrl,t,{observe:"response"})}update(t){return this.http.put(`${this.resourceUrl}/${t.id}`,t,{observe:"response"})}deleteAll(t){return this.http.put(`${this.resourceUrl}/all`,t,{observe:"response"})}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"})}query(t){return this.http.get(this.resourceUrl,{observe:"response"})}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response"})}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(N.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function K(o,p){1&o&&(e.TgZ(0,"tr")(1,"th",27),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",28),e._uU(4,"Code "),e._UZ(5,"p-columnFilter",29),e.qZA(),e.TgZ(6,"th",30),e._uU(7,"libelle "),e._UZ(8,"p-columnFilter",31),e.qZA(),e.TgZ(9,"th",32),e._uU(10,"Action"),e.qZA()())}function j(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"tr",33)(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td",35),e._uU(4),e.qZA(),e.TgZ(5,"td",35),e._uU(6),e.qZA(),e.TgZ(7,"td",36)(8,"button",37),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editModuleParam(s))}),e.qZA(),e.TgZ(9,"button",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteModuleParam(s))}),e.qZA()()()}if(2&o){const t=p.$implicit;e.Q6J("pSelectableRow",t),e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t.moduleParamCode),e.xp6(2),e.hij(" ",t.moduleParamLibelle,"")}}function B(o,p){1&o&&(e.TgZ(0,"tr")(1,"td",39)(2,"span",40),e._uU(3," Aucun module trouv\xe9 ! "),e.qZA()()())}const A=()=>({standalone:!0}),q=o=>({"ng-invalid ng-dirty":o});function H(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"form",46,47)(3,"div",48)(4,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.menuAction.menuActionCode=n)}),e.qZA(),e.TgZ(5,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.menuAction.menuActionLibelle=n)}),e.qZA(),e.TgZ(6,"p-button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.saveMenuAction())}),e.qZA(),e.TgZ(7,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.annulerMenu())}),e.qZA(),e.TgZ(8,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.closeMenu())}),e.qZA()()()()}if(2&o){const t=e.MAs(2),i=e.oxw(2);let n;e.xp6(4),e.Q6J("ngModelOptions",e.DdM(7,A))("ngModel",i.menuAction.menuActionCode)("ngClass",e.VKq(8,q,i.submitted&&!i.menuAction.menuActionCode)),e.xp6(1),e.Q6J("ngModelOptions",e.DdM(10,A))("ngModel",i.menuAction.menuActionLibelle)("ngClass",e.VKq(11,q,i.submitted&&!i.menuAction.menuActionLibelle)),e.xp6(1),e.Q6J("disabled",null===(n=t.invalid)||void 0===n||n)}}function Q(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div",41)(1,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openNew())}),e.qZA(),e.TgZ(2,"span",43),e._UZ(3,"i",44),e.TgZ(4,"input",45),e.NdJ("input",function(n){e.CHM(t);const s=e.oxw(),a=e.MAs(6);return e.KtG(s.onGlobalFilter(a,n))}),e.qZA()()(),e.YNc(5,H,9,13,"div",25)}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.creeMenu)}}function R(o,p){1&o&&(e.TgZ(0,"tr")(1,"th",54),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",55),e._uU(4,"Code "),e._UZ(5,"p-sortIcon",56),e.qZA(),e.TgZ(6,"th",57),e._uU(7,"Libelle "),e._UZ(8,"p-sortIcon",58),e.qZA(),e._UZ(9,"th"),e.qZA())}function G(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td",59)(4,"span",60),e._uU(5,"Code"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",59)(8,"span",60),e._uU(9,"Libelle"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",36)(12,"button",37),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.modifierMenu(s,a.i))}),e.qZA(),e.TgZ(13,"button",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteMenu(s,a.i))}),e.qZA()()()}if(2&o){const t=p.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.menuActionCode," "),e.xp6(4),e.hij(" ",t.menuActionLibelle," ")}}function Y(o,p){if(1&o&&(e.TgZ(0,"span"),e._uU(1,"Voulez-vous supprimer "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Oqu(t.moduleParam.moduleParamLibelle)}}function z(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteModuleParamDialog=!1)}),e.qZA(),e.TgZ(1,"button",62),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete())}),e.qZA()}}function V(o,p){if(1&o&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Oqu(t.moduleParam.moduleParamLibelle)}}function W(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteModuleParamDialog=!1)}),e.qZA(),e.TgZ(1,"button",62),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete())}),e.qZA()}}const X=()=>["code","libelle","ville","filiale.nom"],ee=()=>["menuActionLibelle","menuActionCode"],te=()=>[10,20,30],ne=()=>({marginTop:"80px"}),S=()=>({width:"450px"});let oe=(()=>{class o{constructor(t,i,n,s,a){this.messageService=t,this.moduleParamService=i,this.countryService=n,this.store=s,this.menuService=a,this.moduleParamDialog=!1,this.deleteModuleParamDialog=!1,this.deleteModuleParamsDialog=!1,this.moduleParams=[],this.moduleParam={},this.selectedModuleParams=[],this.destroy$=new M.x,this.submitted=!1,this.cols=[],this.creeMenu=!1,this.i=-1,this.statuses=[],this.menuActions=[],this.menuActionsList=[],this.selectedMenus=[],this.menuAction={deleted:!1,id:0,menuActionCode:"",menuActionLibelle:"",moduleParamId:0},this.rowsPerPageOptions=[5,10,20],this.creeMod=!1,this.menuActionListe=[]}ngOnInit(){this.moduleParamsList$=this.store.pipe((0,w.Ys)(E)),this.store.dispatch(v.eB()),this.moduleParamsList$.pipe((0,_.R)(this.destroy$)).subscribe(t=>{t&&(this.loading=!1,this.moduleParams=t,console.log("===========value==============",t))})}addMessage(t,i,n){this.messageService.add({severity:t,summary:i,detail:n})}saveMenuAction(){this.submitted=!0,this.menuAction.menuActionCode&&this.menuAction.menuActionLibelle?(-1!=this.i?this.menuActions[this.i]=this.menuAction:this.menuActions.push(this.menuAction),this.i=-1,this.menuAction={}):this.addMessage("error","Enregistrement non pris en compte","Veuillez renseigner les champs obligatoire !!!")}modifierMenu(t,i){this.i=i,this.menuAction=t}deleteMenu(t,i){if(t.id)this.menuActions=this.menuActions.filter(n=>n.id===t.id),this.menuService.delete(t.id).subscribe(n=>{});else{if(i>0){for(let n=0;n<i;n++)this.menuActionsList.push(this.menuActions[n]);for(let n=i+1;n<this.menuActions.length;n++)this.menuActionsList.push(this.menuActions[n])}else for(let n=1;n<this.menuActions.length;n++)this.menuActionsList.push(this.menuActions[n]);this.menuActions=this.menuActionsList}}creerMenu(){this.menuAction={deleted:!1,id:0,menuActionCode:"",menuActionLibelle:"",moduleParamId:0},this.creeMenu=!0}load(){this.moduleParamService.query().subscribe(t=>{t.body&&(this.moduleParams=t.body)})}openNew(){this.submitted=!1,this.creeMenu=!0}deleteSelectedModuleParams(){this.deleteModuleParamsDialog=!0}editModuleParam(t){this.moduleParam={...t},this.selectedMulti={libelle:t.moduleParamLibelle,code:t.moduleParamCode},this.creeMod=!0,t.menuActions&&(this.selectedMenus=t.menuActions),t.id&&this.moduleParamService.findMenuByModule(t.id).subscribe(i=>{i.body&&(this.menuActions=i.body,console.log("nnnnnnnn",this.menuActions))})}deleteModuleParam(t){this.deleteModuleParamDialog=!0,this.moduleParam={...t}}confirmDeleteSelected(){this.deleteModuleParamsDialog=!1,this.store.dispatch(v.Wq({moduleParams:this.selectedModuleParams})),this.load(),this.selectedModuleParams=[]}confirmDelete(){this.deleteModuleParamDialog=!1,this.moduleParam.id&&this.store.dispatch(v.yz(this.moduleParam)),this.moduleParam={}}hideDialog(){this.moduleParamDialog=!1,this.submitted=!1}saveModuleParam(){this.submitted=!0,this.moduleParam.moduleParamLibelle&&this.moduleParam.moduleParamCode&&this.menuActions&&(this.moduleParam.menuActions=this.menuActions,this.store.dispatch(this.moduleParam.id?v.$q(this.moduleParam):v.Ac(this.moduleParam)),this.moduleParam={},this.selectedMulti={},this.menuActions=[])}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}onSaveSuccess(){this.messageService.add({severity:"success",summary:"Successful",detail:"Op\xe9ration r\xe9ussie !",life:3e3}),this.load()}onSaveError(){this.messageService.add({severity:"error",summary:"Error",detail:"Le code du module existe d\xe9j\xe0!!",life:3e3})}creerModuleA(){this.moduleParam={},this.creeMod=!0}closeMenu(){this.creeMenu=!1}annulerMenu(){this.menuAction={}}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(g.ez),e.Y36(I),e.Y36(k.T),e.Y36(w.yh),e.Y36($))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-module-param"]],standalone:!0,features:[e._Bn([g.ez,g.YP]),e.jDz],decls:46,vars:42,consts:[[1,"grid"],[1,"col-6","md:col-6"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"m-0"],["styleClass","p-datatable-responsive-demo p-datatable-sm p-datatable","dataKey","id","sortMode","multiple","scrollHeight","600px","dataKey","id","styleClass","p-datatable-gridlines",3,"value","rows","selection","globalFilterFields","paginator","loading","filterDelay","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col-6"],[1,"card"],[1,"flex","align-items-center","flex-wrap","gap-2","mb-3"],["for","libelle",1,"w-4rem"],[1,"required"],["type","text","pInputText","","id","moduleParamCode","required","","autofocus","",2,"width","100%",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","pInputText","","id","moduleParamLibelle","required","","autofocus","",2,"width","100%",3,"ngModel","ngModelOptions","ngModelChange"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","columns","rows","selection","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover","selectionChange"],["pTemplate","caption"],[1,"flex","gap-2"],["pButton","","pRipple","","label","Annuler",1,"p-button-danger"],["pButton","","pRipple","","label","Enregistrer",1,"p-button-success",3,"disabled","click"],["position","top-center"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[2,"width","3em"],["pSortableColumn","code",2,"font-weight","bold"],["type","text","display","menu","field","code"],["pSortableColumn","libelle",2,"font-weight","bold"],["type","text","display","menu","field","libelle"],[2,"font-weight","bold"],[3,"pSelectableRow"],[3,"value"],[1,"table-separator"],[2,"width","20%","min-width","10rem"],["type","button","pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning","mr-2",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],["colspan","8",2,"text-align","center","font-size","1.2em","color","red","font-weight","bold"],[1,"text-danger"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],["pButton","","pRipple","","label","Ajouter un Menu","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],["name","editForm","role","form","novalidate",""],["editForm","ngForm"],[1,"field",2,"margin-top","20px","display","flex","align-items","center","gap","5px"],["type","text","pInputText","","id","menuActionCode","placeholder","menuActionCode","required","","autofocus","",3,"ngModelOptions","ngModel","ngClass","ngModelChange"],["type","text","pInputText","","id","menuActionLibelle","placeholder","libelle","required","","autofocus","",3,"ngModelOptions","ngModel","ngClass","ngModelChange"],["label","Save","type","submit","icon","pi pi-save",3,"disabled","click"],["pButton","","pRipple","","label","Annuler",1,"p-button-info",3,"click"],["pButton","","pRipple","","label","Fermer",1,"p-button-danger",3,"click"],[2,"width","3rem"],["pSortableColumn","menuActionCode"],["field","menuActionCode"],["pSortableColumn","menuActionLibelle"],["field","menuActionLibelle"],[2,"width","50%","min-width","10rem"],[1,"p-column-title"],["pButton","","pRipple","","icon","pi pi-times","label","Non",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Oui",1,"p-button-text",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Liste des Module Params"),e.qZA()(),e.TgZ(5,"p-table",4,5),e.NdJ("selectionChange",function(a){return n.selectedModuleParams=a}),e.YNc(7,K,11,0,"ng-template",6)(8,j,10,4,"ng-template",7)(9,B,4,0,"ng-template",8),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"form")(13,"div",11)(14,"label",12),e._uU(15,"Code "),e.TgZ(16,"span",13),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"input",14),e.NdJ("ngModelChange",function(a){return n.moduleParam.moduleParamCode=a}),e.qZA()(),e.TgZ(19,"div",11)(20,"label",12),e._uU(21,"Libelle "),e.TgZ(22,"span",13),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"input",15),e.NdJ("ngModelChange",function(a){return n.moduleParam.moduleParamLibelle=a}),e.qZA()(),e.TgZ(25,"p-table",16,5),e.NdJ("selectionChange",function(a){return n.selectedMenus=a}),e.YNc(27,Q,6,1,"ng-template",17)(28,R,10,0,"ng-template",6)(29,G,14,3,"ng-template",7),e.qZA(),e._UZ(30,"br"),e.TgZ(31,"div",18),e._UZ(32,"button",19),e.TgZ(33,"button",20),e.NdJ("click",function(){return n.saveModuleParam()}),e.qZA()()()(),e._UZ(34,"p-toast",21),e.TgZ(35,"p-dialog",22),e.NdJ("visibleChange",function(a){return n.deleteModuleParamDialog=a}),e.TgZ(36,"div",23),e._UZ(37,"i",24),e.YNc(38,Y,5,1,"span",25),e.qZA(),e.YNc(39,z,2,0,"ng-template",26),e.qZA(),e.TgZ(40,"p-dialog",22),e.NdJ("visibleChange",function(a){return n.deleteModuleParamDialog=a}),e.TgZ(41,"div",23),e._UZ(42,"i",24),e.YNc(43,V,5,1,"span",25),e.qZA(),e.YNc(44,W,2,0,"ng-template",26),e.qZA()(),e._UZ(45,"app-loading-spinner"),e.qZA()),2&i&&(e.xp6(5),e.Q6J("value",n.moduleParams)("rows",5)("selection",n.selectedModuleParams)("globalFilterFields",e.DdM(34,X))("paginator",!0)("loading",n.loading)("filterDelay",0),e.xp6(13),e.Q6J("ngModel",n.moduleParam.moduleParamCode)("ngModelOptions",e.DdM(35,A)),e.xp6(6),e.Q6J("ngModel",n.moduleParam.moduleParamLibelle)("ngModelOptions",e.DdM(36,A)),e.xp6(1),e.Q6J("value",n.menuActions)("columns",n.cols)("rows",10)("selection",n.selectedMenus)("globalFilterFields",e.DdM(37,ee))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(38,te))("showCurrentPageReport",!0)("rowHover",!0),e.xp6(8),e.Q6J("disabled",!n.moduleParam.moduleParamCode||!n.moduleParam.moduleParamLibelle),e.xp6(1),e.Akn(e.DdM(39,ne)),e.xp6(1),e.Akn(e.DdM(40,S)),e.Q6J("visible",n.deleteModuleParamDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.moduleParam),e.xp6(2),e.Akn(e.DdM(41,S)),e.Q6J("visible",n.deleteModuleParamDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.moduleParam))},dependencies:[T.ez,T.mk,T.O5,u.U$,u.iA,g.jx,u.lQ,u.Ei,u.fz,u.UA,u.Mo,u.xl,d.O,C.Hq,C.zx,c.u5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.On,c.F,C.hJ,P.T,P.H,x.EV,x.FN,Z.V,r.Xt,h.j,h.o,m.A,b.kW,y.cc,D.L$,U.S,U.V,F.q4,O.g]})}return o})()},6340:(L,f,l)=>{l.d(f,{V:()=>Z});var g=l(6814),u=l(9212);let Z=(()=>{class r{static \u0275fac=function(b){return new(b||r)};static \u0275mod=u.oAB({type:r});static \u0275inj=u.cJS({imports:[g.ez]})}return r})()}}]);