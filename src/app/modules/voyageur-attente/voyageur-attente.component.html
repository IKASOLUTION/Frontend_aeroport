<div class="grid">
    <div class="col-12 md:col-12">
       
        <p-table 
    #dt 
    styleClass="p-datatable-gridlines p-datatable-sm" 
    [value]="enregistrementList()"
    [columns]="cols" 
    [rows]="10" 
    [paginator]="true" 
    [rowsPerPageOptions]="[5, 10, 20, 30]"
    [showCurrentPageReport]="true"
    [globalFilterFields]="['nomFamille', 'prenom', 'numeroDocument', 'nationalite', 'aeroportDepart', 'aeroportDestination']"
    currentPageReportTemplate="Affichage de {first} à {last} sur {totalRecords} entrées"
    [(selection)]="selectedEnregistrement" 
    selectionMode="single" 
    [rowHover]="true" 
    dataKey="id"
    [loading]="loading()"
    [filterDelay]="300">

    <ng-template pTemplate="caption">
        <div class="flex justify-content-between flex-column sm:flex-row">
            <div class="flex gap-2">
                <!-- <p-button 
                    label="Nouvel enregistrement" 
                    [routerLink]="['/admin/gestion-enregistrements']"
                    severity="success"
                    icon="pi pi-plus">
                </p-button> -->
                <p-button 
                    label="Filtrer par période" 
                    severity="info"
                    icon="pi pi-filter"
                    (onClick)="openFilterDialog()">
                </p-button>
                <p-button 
                    label="Réinitialiser" 
                    severity="secondary"
                    icon="pi pi-refresh"
                    (onClick)="resetFilters(); dt.clear()">
                </p-button>
            </div>
            <div class="flex flex-column align-items-end">
                <span class="p-input-icon-left mb-2">
                    <i class="pi pi-search"></i>
                    <input 
                        pInputText 
                        type="text" 
                        #filter 
                        (input)="onGlobalFilter(dt, $event)"
                        placeholder="Rechercher" 
                        class="w-full" />
                </span>
                <small class="text-500" *ngIf="dateDebut && dateFin">
                    Période: {{dateDebut | date:'dd/MM/yyyy'}} - {{dateFin | date:'dd/MM/yyyy'}}
                </small>
            </div>
        </div>
    </ng-template>

    <ng-template pTemplate="header">
        <!-- PREMIÈRE LIGNE : Titres des colonnes -->
        <tr>
            <th pSortableColumn="nomFamille">
                <div class="flex align-items-center gap-2">
                    Passager
                    <p-sortIcon field="nomFamille"></p-sortIcon>
                </div>
            </th>
            <th pSortableColumn="typeDocument">
                <div class="flex align-items-center gap-2">
                    Document
                    <p-sortIcon field="typeDocument"></p-sortIcon>
                </div>
            </th>
            <th pSortableColumn="nationalite">
                <div class="flex align-items-center gap-2">
                    Nationalité
                    <p-sortIcon field="nationalite"></p-sortIcon>
                </div>
            </th>
            <th>Itinéraire</th>
            <th pSortableColumn="dateVoyage">
                <div class="flex align-items-center gap-2">
                    Voyage
                    <p-sortIcon field="dateVoyage"></p-sortIcon>
                </div>
            </th>
            <th pSortableColumn="statut">
                <div class="flex align-items-center gap-2">
                    Statut
                    <p-sortIcon field="statut"></p-sortIcon>
                </div>
            </th>
            <th class="text-center">Actions</th>
        </tr>
        
        <!-- DEUXIÈME LIGNE : Champs de recherche par colonne -->
        <tr>
            <th>
                <span class="p-input-icon-left w-full">
                    <i class="pi pi-search"></i>
                    <input 
                        pInputText 
                        type="text" 
                        (input)="dt.filter($any($event.target).value, 'nomFamille', 'contains')"
                        placeholder="Rechercher"
                        class="w-full" />
                </span>
            </th>
            <th>
                <span class="p-input-icon-left w-full">
                    <i class="pi pi-search"></i>
                    <input 
                        pInputText 
                        type="text" 
                        (input)="dt.filter($any($event.target).value, 'typeDocument', 'contains')"
                        placeholder="Rechercher"
                        class="w-full" />
                </span>
            </th>
            <th>
                <span class="p-input-icon-left w-full">
                    <i class="pi pi-search"></i>
                    <input 
                        pInputText 
                        type="text" 
                        (input)="dt.filter($any($event.target).value, 'nationalite', 'contains')"
                        placeholder="Rechercher"
                        class="w-full" />
                </span>
            </th>
            <th>
                <span class="p-input-icon-left w-full">
                    <i class="pi pi-search"></i>
                    <input 
                        pInputText 
                        type="text" 
                        (input)="dt.filter($any($event.target).value, 'aeroportDepart', 'contains')"
                        placeholder="Rechercher"
                        class="w-full" />
                </span>
            </th>
            <th>
                <span class="p-input-icon-left w-full">
                    <i class="pi pi-search"></i>
                    <input 
                        pInputText 
                        type="text" 
                        (input)="dt.filter($any($event.target).value, 'dateVoyage', 'contains')"
                        placeholder="Rechercher"
                        class="w-full" />
                </span>
            </th>
            <th>
                <span class="p-input-icon-left w-full">
                    <i class="pi pi-search"></i>
                    <input 
                        pInputText 
                        type="text" 
                        (input)="dt.filter($any($event.target).value, 'statut', 'contains')"
                        placeholder="Rechercher"
                        class="w-full" />
                </span>
            </th>
            <th></th> <!-- Colonne actions sans filtre -->
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-enregistrement>
        <tr>
            <td>
                <div class="font-semibold">
                    {{ enregistrement.nomFamille }} {{ enregistrement.prenom }}
                </div>
                <div class="text-sm text-color-secondary">
                    {{ enregistrement.nbreVoyage }} vol(s)
                </div>
            </td>
            <td>
                <div>{{ enregistrement.typeDocument }}</div>
                <div class="text-sm text-color-secondary">
                    {{ enregistrement.numeroDocument }}
                </div>
            </td>
            <td>
                {{ enregistrement.nationalite || 'N/A' }}
            </td>
            <td>
                <div class="flex align-items-center gap-2">
                    <span>{{ enregistrement.aeroportDepart }}</span>
                    <i class="pi pi-arrow-right text-color-secondary"></i>
                    <span>{{ enregistrement.aeroportDestination }}</span>
                </div>
            </td>
            <td>
                <div>
                    {{ enregistrement.dateVoyage | date:'dd/MM/yyyy' || 'N/A' }}
                </div>
                <div class="text-sm text-color-secondary">
                    {{ enregistrement.heureVoyage || 'N/A' }}
                </div>
            </td>
            <td>
                <p-tag 
                    [value]="enregistrement.statut || 'N/A'"
                    [severity]="getStatutSeverity(enregistrement.statut)">
                </p-tag>
            </td>
            <td class="text-center">
                 


              <p-button 
                     icon="pi pi-check" 
                    [rounded]="true"
                    [text]="true"
                    severity="prim"
                    pTooltip="VALIDER" 
                    tooltipPosition="top" 
                    (click)="saveEnregistrementValid()">
                </p-button>


                <p-button 
                    icon="pi pi-eye" 
                    [rounded]="true"
                    [text]="true"
                    severity="info"
                    pTooltip="Voir détail" 
                    tooltipPosition="top" 
                    (onClick)="selectEnregistrement(enregistrement)">
                </p-button>
            </td>
        </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="7" class="text-center py-5">
                <div class="flex flex-column align-items-center justify-content-center gap-3">
                    <i class="pi pi-inbox text-5xl text-color-secondary"></i>
                    <span class="text-xl font-semibold text-red-500">Aucun enregistrement trouvé !</span>
                    <span class="text-color-secondary">Essayez de modifier vos critères de recherche</span>
                </div>
            </td>
        </tr>
    </ng-template>

    <ng-template pTemplate="loadingbody">
        <tr>
            <td colspan="7">
                <div class="flex align-items-center justify-content-center gap-2 py-3">
                    <i class="pi pi-spin pi-spinner text-2xl"></i>
                    <span>Chargement des données...</span>
                </div>
            </td>
        </tr>
    </ng-template>
</p-table>
    </div>
</div>

<!-- Dialog Filtre par période -->
<p-dialog [(visible)]="filterDialog" [modal]="true" [draggable]="false" [resizable]="false" [style]="{width: '500px'}"
    header="Filtrer les enregistrements par période" styleClass="p-fluid">

    <ng-template pTemplate="content">
        <form [formGroup]="filterFormGroup">
            <div class="grid">
                <!-- Date de début -->
                <div class="col-12 md:col-6">
                    <label for="dateDebut" class="block mb-2 font-semibold">
                        Date de début
                    </label>
                    <p-calendar id="dateDebut" formControlName="dateDebut" dateFormat="dd/mm/yy" [showIcon]="true"
                        placeholder="Sélectionner une date" [maxDate]="filterFormGroup.get('dateFin')?.value">
                    </p-calendar>
                </div>

                <!-- Date de fin -->
                <div class="col-12 md:col-6">
                    <label for="dateFin" class="block mb-2 font-semibold">
                        Date de fin
                    </label>
                    <p-calendar id="dateFin" formControlName="dateFin" dateFormat="dd/mm/yy" [showIcon]="true"
                        placeholder="Sélectionner une date" [minDate]="filterFormGroup.get('dateDebut')?.value">
                    </p-calendar>
                </div>

                <div class="col-12 md:col-6">
                    <label for="aeroport" class="block mb-2 font-semibold">
                        Aéroport
                        <span class="required" style="color: red !important;"></span>
                    </label>
                    <p-dropdown id="aeroport" [options]="aeroports" formControlName="aeroport" optionLabel="nomAeroport"
                        placeholder="Sélectionnez un aéroport" appendTo="body" [showClear]="true" [filter]="true"
                        filterBy="nomAeroport" [style]="{'width': '100%'}"
                        [class.ng-invalid]="filterFormGroup.get('aeroport')?.invalid && filterFormGroup.get('aeroport')?.touched">
                        <ng-template let-aeroport pTemplate="item">
                            <div class="flex align-items-center">
                                <i class="pi pi-send mr-2"></i>
                                <span>{{aeroport.nomAeroport}} - {{aeroport.code_oaci}}</span>
                            </div>
                        </ng-template>
                    </p-dropdown>
                </div>



            </div>
        </form>
    </ng-template>

    <ng-template pTemplate="footer">
        <div class="flex justify-content-end gap-2">
            <button pButton label="Annuler" icon="pi pi-times" class="p-button-text p-button-secondary"
                (click)="closeFilterDialog()">
            </button>
            <button pButton label="Réinitialiser" icon="pi pi-refresh" class="p-button-text p-button-warning"
                (click)="resetFilters()">
            </button>
            <button pButton label="Appliquer" icon="pi pi-check" class="p-button-primary" (click)="applyFilters()">
            </button>
        </div>
    </ng-template>
</p-dialog>

<!-- Modal Détail Enregistrement -->






<p-dialog [(visible)]="isDetailModalOpen" 
          [style]="{width: '1000px'}" 
          [header]="selectedEnregistrement.id ? 'Modification de l\'enregistrement' : 'Nouvel enregistrement'"
          [modal]="true" 
          [closable]="true" 
          [draggable]="false" 
          class="p-fluid">

    <form [formGroup]="editFormGroup">
        <!-- Section: Informations Document -->
        <p-fieldset legend="Informations Document" [toggleable]="false" styleClass="mb-3">
            <div class="grid">
                <div class="field col-12 md:col-6">
                    <label for="typeDocument" class="font-bold">
                        <i class="pi pi-id-card mr-2"></i>Type de document
                    </label>
                    <p-dropdown id="typeDocument" 
                                formControlName="typeDocument" 
                                [options]="typesDocument"
                                optionLabel="label" 
                                optionValue="value" 
                                placeholder="Sélectionner un type" 
                                [showClear]="true">
                    </p-dropdown>
                </div>

                <div class="field col-12 md:col-6">
                    <label for="numeroDocument" class="font-bold">
                        <i class="pi pi-hashtag mr-2"></i>Numéro de document
                    </label>
                    <input pInputText 
                           id="numeroDocument" 
                           formControlName="numeroDocument" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="numeroNip" class="font-bold">
                        <i class="pi pi-key mr-2"></i>Numéro NIP
                    </label>
                    <input pInputText 
                           id="numeroNip" 
                           formControlName="numeroNip" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="dateDelivrance" class="font-bold">
                        <i class="pi pi-calendar mr-2"></i>Date de délivrance
                    </label>
                    <p-calendar id="dateDelivrance" 
                                formControlName="dateDelivrance" 
                                dateFormat="dd/mm/yy"
                                [showIcon]="true">
                    </p-calendar>
                </div>

                <div class="field col-12">
                    <label for="lieuDelivrance" class="font-bold">
                        <i class="pi pi-map-marker mr-2"></i>Lieu de délivrance
                    </label>
                    <input pInputText 
                           id="lieuDelivrance" 
                           formControlName="lieuDelivrance" />
                </div>
            </div>
        </p-fieldset>

        <!-- Section: Informations Personnelles -->
        <p-fieldset legend="Informations Personnelles" [toggleable]="false" styleClass="mb-3">
            <div class="grid">
                <div class="field col-12 md:col-6">
                    <label for="nomFamille" class="font-bold">
                        <i class="pi pi-user mr-2"></i>Nom de famille
                    </label>
                    <input pInputText 
                           id="nomFamille" 
                           formControlName="nomFamille" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="prenom" class="font-bold">
                        <i class="pi pi-user mr-2"></i>Prénom
                    </label>
                    <input pInputText 
                           id="prenom" 
                           formControlName="prenom" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="dateNaissance" class="font-bold">
                        <i class="pi pi-calendar mr-2"></i>Date de naissance
                    </label>
                    <p-calendar id="dateNaissance" 
                                formControlName="dateNaissance" 
                                dateFormat="dd/mm/yy"
                                [showIcon]="true">
                    </p-calendar>
                </div>

                <div class="field col-12 md:col-6">
                    <label for="lieuNaissance" class="font-bold">
                        <i class="pi pi-map-marker mr-2"></i>Lieu de naissance
                    </label>
                    <input pInputText 
                           id="lieuNaissance" 
                           formControlName="lieuNaissance" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="nationalite" class="font-bold">
                        <i class="pi pi-flag mr-2"></i>Nationalité
                    </label>
                    <input pInputText 
                           id="nationalite" 
                           formControlName="nationalite" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="profession" class="font-bold">
                        <i class="pi pi-briefcase mr-2"></i>Profession
                    </label>
                    <input pInputText 
                           id="profession" 
                           formControlName="profession" />
                </div>
            </div>
        </p-fieldset>

        <!-- Section: Coordonnées -->
        <p-fieldset legend="Coordonnées" [toggleable]="false" styleClass="mb-3">
            <div class="grid">
                <div class="field col-12 md:col-6">
                    <label for="paysResidence" class="font-bold">
                        <i class="pi pi-globe mr-2"></i>Pays de résidence
                    </label>
                    <input pInputText 
                           id="paysResidence" 
                           formControlName="paysResidence" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="emailContact" class="font-bold">
                        <i class="pi pi-envelope mr-2"></i>Email
                    </label>
                    <input pInputText 
                           id="emailContact" 
                           type="email" 
                           formControlName="emailContact" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="telephoneBurkina" class="font-bold">
                        <i class="pi pi-phone mr-2"></i>Téléphone Burkina
                    </label>
                    <input pInputText 
                           id="telephoneBurkina" 
                           formControlName="telephoneBurkina" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="telephoneEtranger" class="font-bold">
                        <i class="pi pi-phone mr-2"></i>Téléphone Étranger
                    </label>
                    <input pInputText 
                           id="telephoneEtranger" 
                           formControlName="telephoneEtranger" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="adresseBurkina" class="font-bold">
                        <i class="pi pi-home mr-2"></i>Adresse Burkina
                    </label>
                  

                    <input pInputText 
                           id="adresseBurkina" 
                           formControlName="adresseBurkina" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="adresseEtranger" class="font-bold">
                        <i class="pi pi-home mr-2"></i>Adresse Étranger
                    </label>
                 
                     <input pInputText 
                           id="adresseEtranger" 
                           formControlName="adresseEtranger" />
                    
                </div>
            </div>
        </p-fieldset>

        <!-- Section: Informations de Voyage -->
        <p-fieldset legend="Informations de Voyage" [toggleable]="false" styleClass="mb-3">
            <div class="grid">
                <div class="field col-12 md:col-6">
                    <label for="aeroportDepart" class="font-bold">
                        <i class="pi pi-arrow-up mr-2"></i>Aéroport départ
                    </label>
                    <input pInputText 
                           id="aeroportDepart" 
                           formControlName="aeroportDepart" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="aeroportDestination" class="font-bold">
                        <i class="pi pi-arrow-down mr-2"></i>Aéroport destination
                    </label>
                    <input pInputText 
                           id="aeroportDestination" 
                           formControlName="aeroportDestination" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="dateVoyage" class="font-bold">
                        <i class="pi pi-calendar mr-2"></i>Date de vol
                    </label>
                    <p-calendar id="dateVoyage" 
                                formControlName="dateVoyage" 
                                dateFormat="dd/mm/yy" 
                                [showIcon]="true">
                    </p-calendar>
                </div>

                <div class="field col-12 md:col-6">
                    <label for="heureVoyage" class="font-bold">
                        <i class="pi pi-clock mr-2"></i>Heure de vol
                    </label>
                    <input pInputText 
                           id="heureVoyage" 
                           formControlName="heureVoyage" 
                           placeholder="HH:MM" />
                </div>

                <div class="field col-12 md:col-6">
                    <label for="dureeSejour" class="font-bold">
                        <i class="pi pi-hourglass mr-2"></i>Durée de séjour (jours)
                    </label>
                    <input pInputText 
                           id="dureeSejour" 
                           type="number" 
                           formControlName="dureeSejour" />
                </div>
            </div>
        </p-fieldset>
    </form>

    <ng-template pTemplate="footer">
        <div class="flex justify-content-end gap-2">
            <button pButton 
                    label="Annuler" 
                    icon="pi pi-times" 
                    class="p-button-secondary" 
                    (click)="closeEditModal()">
            </button>
            <button pButton 
                    label="Valider" 
                    icon="pi pi-check" 
                    class="p-button-primary" 
                    (click)="saveEnregistrement()"
                    [disabled]="editFormGroup.invalid">
            </button>
        </div>
    </ng-template>
</p-dialog>





<p-dialog [visible]="isCaptureBiometriqueModalOpen" [modal]="true" [closable]="true" [style]="{width: '60rem'}"
    [breakpoints]="{'960px': '75vw', '640px': '95vw'}" header="Capturer les Données Biométriques">
    <div class="grid">
        <!-- Main Gauche -->
        <div class="col-12 md:col-6 p-4 border-1 border-round bg-gray-50">
            <div class="flex align-items-center justify-content-between mb-3">
                <div class="flex align-items-center">
                    <i class="pi pi-fingerprint text-4xl text-cyan-500 mr-3"></i>
                    <div>
                        <p class="font-semibold text-gray-700">4 doigts main gauche</p>
                        <p class="text-xs" [class]="empreinteGauche().capturee ? 'text-green-600' : 'text-gray-500'">
                            {{ empreinteGauche().capturee ? 'Capturé' : 'Prêt pour la capture' }}
                        </p>
                    </div>
                </div>
                <p-button [label]="empreinteGauche().capturee ? 'Recapturer' : 'Capturer'" severity="info" size="small"
                    (onClick)="capturerEmpreinte('empreinteGauche')">
                </p-button>
            </div>

            @if (empreinteGauche().image) {
            <div class="w-full h-12rem bg-white border-2 border-green-500 border-round overflow-hidden">
                <img [src]="empreinteGauche().image" alt="Empreinte main gauche"
                    class="w-full h-full object-fit-contain">
            </div>
            } @else {
            <div class="w-full h-12rem bg-gray-200 border-round flex align-items-center justify-content-center">
                <i class="pi pi-image text-6xl text-gray-400"></i>
            </div>
            }
        </div>

        <!-- Main Droite -->
        <div class="col-12 md:col-6 p-4 border-1 border-round bg-gray-50">
            <div class="flex align-items-center justify-content-between mb-3">
                <div class="flex align-items-center">
                    <i class="pi pi-fingerprint text-4xl text-cyan-500 mr-3"></i>
                    <div>
                        <p class="font-semibold text-gray-700">4 doigts main droite</p>
                        <p class="text-xs" [class]="empreinteDroite().capturee ? 'text-green-600' : 'text-gray-500'">
                            {{ empreinteDroite().capturee ? 'Capturé' : 'Prêt pour la capture' }}
                        </p>
                    </div>
                </div>
                <p-button [label]="empreinteDroite().capturee ? 'Recapturer' : 'Capturer'" severity="info" size="small"
                    (onClick)="capturerEmpreinte('empreinteDroite')">
                </p-button>
            </div>

            @if (empreinteDroite().image) {
            <div class="w-full h-12rem bg-white border-2 border-green-500 border-round overflow-hidden">
                <img [src]="empreinteDroite().image" alt="Empreinte main droite"
                    class="w-full h-full object-fit-contain">
            </div>
            } @else {
            <div class="w-full h-12rem bg-gray-200 border-round flex align-items-center justify-content-center">
                <i class="pi pi-image text-6xl text-gray-400"></i>
            </div>
            }
        </div>

        <!-- Pouces -->
        <div class="col-12 md:col-6 p-4 border-1 border-round bg-gray-50">
            <div class="flex align-items-center justify-content-between mb-3">
                <div class="flex align-items-center">
                    <i class="pi pi-thumbs-up text-4xl text-purple-500 mr-3"></i>
                    <div>
                        <p class="font-semibold text-gray-700">Les deux pouces</p>
                        <p class="text-xs" [class]="empreintePouces().capturee ? 'text-green-600' : 'text-gray-500'">
                            {{ empreintePouces().capturee ? 'Capturé' : 'Prêt pour la capture' }}
                        </p>
                    </div>
                </div>
                <p-button [label]="empreintePouces().capturee ? 'Recapturer' : 'Capturer'" severity="help" size="small"
                    (onClick)="capturerEmpreinte('empreintePouces')">
                </p-button>
            </div>

            @if (empreintePouces().image) {
            <div class="w-full h-12rem bg-white border-2 border-green-500 border-round overflow-hidden">
                <img [src]="empreintePouces().image" alt="Empreinte pouces" class="w-full h-full object-fit-contain">
            </div>
            } @else {
            <div class="w-full h-12rem bg-gray-200 border-round flex align-items-center justify-content-center">
                <i class="pi pi-image text-6xl text-gray-400"></i>
            </div>
            }
        </div>

        <!-- Photo d'identité -->
        <div class="col-12 md:col-6 p-4 border-1 border-round bg-gray-50">
            <div class="flex align-items-center justify-content-between mb-3">
                <div class="flex align-items-center">
                    <i class="pi pi-camera text-4xl text-green-500 mr-3"></i>
                    <div>
                        <p class="font-semibold text-gray-700">Photo d'identité</p>
                        <p class="text-xs" [class]="capturedPhotoPourBiometrie() ? 'text-green-600' : 'text-gray-500'">
                            {{ capturedPhotoPourBiometrie() ? 'Photo capturée' : 'Prêt pour la capture' }}
                        </p>
                    </div>
                </div>
                <p-button [label]="capturedPhotoPourBiometrie() ? 'Reprendre' : 'Prendre'" severity="success"
                    size="small" (onClick)="demarrerCamera('biometrique')">
                </p-button>
            </div>

            @if (capturedPhotoPourBiometrie(); as photo) {
            <div
                class="w-full h-12rem bg-white border-2 border-green-500 border-round overflow-hidden flex align-items-center justify-content-center">
                <img [src]="photo" alt="Photo biométrique" class="max-w-full max-h-full object-fit-contain">
            </div>
            } @else {
            <div class="w-full h-12rem bg-gray-200 border-round flex align-items-center justify-content-center">
                <i class="pi pi-user text-6xl text-gray-400"></i>
            </div>
            }
        </div>
    </div>

    <div class="flex justify-content-end gap-2 mt-4">
        <p-button label="Annuler" severity="secondary" (onClick)="closeBiometricModal()"></p-button>
        <p-button label="Sauvegarder et Valider" icon="pi pi-save" [loading]="isSaving()"
            [disabled]="!empreinteGauche().capturee || !empreinteDroite().capturee || !empreintePouces().capturee || !capturedPhotoPourBiometrie()"
            (onClick)="validerAvecBiometrie()"></p-button>
    </div>

</p-dialog>

<!-- Toast pour les notifications -->
<p-toast [style]="{marginTop: '80px'}" position="top-center"></p-toast>

<!-- Loading Spinner -->
<p-confirmDialog></p-confirmDialog>
<app-loading-spinner></app-loading-spinner>